<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>Whole</title><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none 0s ease 0s; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root { --side-bar-bg-color: #fff; --control-text-color: #777; }
html { font-size: 14px; }
body { color: rgb(52, 73, 94); -webkit-font-smoothing: antialiased; line-height: 1.6rem; letter-spacing: 0px; margin: 0px; overflow-x: hidden; font-family: "Source Sans Pro", "Helvetica Neue", Arial, sans-serif !important; }
#write { max-width: 860px; margin: 0px auto; padding: 20px 30px 100px; }
#write p { line-height: 1.6rem; word-spacing: 0.05rem; }
#write ol li { text-indent: 0.5rem; }
#write > ul:first-child, #write > ol:first-child { margin-top: 30px; }
body > :first-child { margin-top: 0px !important; }
body > :last-child { margin-bottom: 0px !important; }
a { color: rgb(66, 185, 131); font-weight: 600; padding: 0px 2px; text-decoration: none; }
h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; }
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; }
h1 tt, h1 code { font-size: inherit !important; }
h2 tt, h2 code { font-size: inherit !important; }
h3 tt, h3 code { font-size: inherit !important; }
h4 tt, h4 code { font-size: inherit !important; }
h5 tt, h5 code { font-size: inherit !important; }
h6 tt, h6 code { font-size: inherit !important; }
h2 a, h3 a { color: rgb(52, 73, 94); }
h1 { padding-bottom: 0.4rem; font-size: 2.2rem; line-height: 1.3; }
h2 { font-size: 1.75rem; line-height: 1.225; margin: 35px 0px 15px; padding-bottom: 0.5em; border-bottom: 1px solid rgb(221, 221, 221); }
h3 { font-size: 1.4rem; line-height: 1.43; margin: 20px 0px 7px; }
h4 { font-size: 1.2rem; }
h5 { font-size: 1rem; }
h6 { font-size: 1rem; color: rgb(119, 119, 119); }
p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; }
li > ol, li > ul { margin: 0px; }
hr { height: 2px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; overflow: hidden; box-sizing: content-box; }
body > h2:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child { margin-top: 0px; padding-top: 0px; }
body > h1:first-child + h2 { margin-top: 0px; padding-top: 0px; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child { margin-top: 0px; padding-top: 0px; }
a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 { margin-top: 0px; padding-top: 0px; }
h1 p, h2 p, h3 p, h4 p, h5 p, h6 p { margin-top: 0px; }
li p.first { display: inline-block; }
ul, ol { padding-left: 30px; }
ul:first-child, ol:first-child { margin-top: 0px; }
ul:last-child, ol:last-child { margin-bottom: 0px; }
blockquote { border-left: 4px solid rgb(66, 185, 131); padding: 10px 15px; color: rgb(119, 119, 119); background-color: rgba(66, 185, 131, 0.1); }
table { padding: 0px; word-break: initial; }
table tr { border-top: 1px solid rgb(223, 226, 229); margin: 0px; padding: 0px; }
table tr:nth-child(2n), thead { background-color: rgb(250, 250, 250); }
table tr th { font-weight: bold; border-width: 1px 1px 0px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-top-color: rgb(223, 226, 229); border-right-color: rgb(223, 226, 229); border-left-color: rgb(223, 226, 229); border-image: initial; border-bottom-style: initial; border-bottom-color: initial; text-align: left; margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(223, 226, 229); text-align: left; margin: 0px; padding: 6px 13px; }
table tr th:first-child, table tr td:first-child { margin-top: 0px; }
table tr th:last-child, table tr td:last-child { margin-bottom: 0px; }
#write strong { padding: 0px 1px; }
#write em { padding: 0px 5px 0px 2px; }
#write table thead th { background-color: rgb(242, 242, 242); }
#write .CodeMirror-gutters { border-right: none; }
#write .md-fences { border: 1px solid rgb(244, 244, 244); -webkit-font-smoothing: initial; line-height: 1.43rem; border-radius: 2px; font-size: 0.85rem; overflow-wrap: normal; margin: 0.8rem 0px !important; padding: 0.3rem 0px !important; background-color: rgb(248, 248, 248) !important; font-family: "Roboto Mono", "Source Sans Pro", Monaco, courier, monospace !important; }
#write .CodeMirror-wrap .CodeMirror-code pre { padding-left: 12px; }
#write code, tt { margin: 0px 2px; padding: 2px 4px; border-radius: 2px; font-size: 0.92rem; color: rgb(233, 105, 0); background-color: rgb(248, 248, 248); font-family: "Roboto Mono", "Source Sans Pro", Monaco, courier, monospace !important; }
#write .md-footnote { background-color: rgb(248, 248, 248); color: rgb(233, 105, 0); }
#write mark { background-color: rgb(235, 255, 235); border-radius: 2px; padding: 2px 4px; margin: 0px 2px; color: rgb(34, 34, 34); font-weight: 500; }
#write del { padding: 1px 2px; }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(34, 162, 201); }
.cm-s-inner .cm-string { color: rgb(34, 162, 201); }
.md-task-list-item > input { margin-left: -1.3em; }
@media print {
  html { font-size: 13px; }
  table, pre { break-inside: avoid; }
  pre { overflow-wrap: break-word; }
}
.md-fences { background-color: rgb(248, 248, 248); }
#write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; }
.mathjax-block > .code-tooltip { bottom: 0.375rem; }
#write > h3.md-focus::before { left: -1.5625rem; top: 0.375rem; }
#write > h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
#write > h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; }
.md-image > .md-meta { border-radius: 3px; font-family: Consolas, "Liberation Mono", Courier, monospace; padding: 2px 0px 0px 4px; font-size: 0.9em; color: inherit; }
.md-tag { color: inherit; }
.md-toc { margin-top: 20px; padding-bottom: 20px; }
.sidebar-tabs { border-bottom: none; }
#typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); }
#typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; }
#md-notification::before { top: 10px; }
.on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.12); }
header, .context-menu, .megamenu-content, footer { font-family: "Segoe UI", Arial, sans-serif; }
.file-node-content:hover .file-node-icon, .file-node-content:hover .file-node-open-state { visibility: visible; }
.mac-seamless-mode #typora-sidebar { background-color: var(--side-bar-bg-color); }
.md-lang { color: rgb(180, 101, 77); }
.html-for-mac .context-menu { --item-hover-bg-color: #E6F0FE; }


</style>
</head>
<body class='typora-export os-windows' >
<div  id='write'  class = 'is-node'><center> <font face="Consola" size="15">C++ Reference</font> </center>
<center> <font face="Consola" size="2">所有编译和运行结果基于Visual Studio 2019，Windows 10 ×64，某些结果与《C++ Primer》有出入的均有标注。</font></center><div class='md-toc' mdtype='toc'><p class="md-toc-content"><span class="md-toc-item md-toc-h1" data-ref="n6"><a class="md-toc-inner" href="#span-id变量和基本类型变量和基本类型span">变量和基本类型</a></span><span class="md-toc-item md-toc-h2" data-ref="n7"><a class="md-toc-inner" href="#span-id11基本内置类型11-基本内置类型span"><strong>1.1 基本内置类型</strong></a></span><span class="md-toc-item md-toc-h3" data-ref="n15"><a class="md-toc-inner" href="#span-id算数类型算数类型span">算数类型</a></span><span class="md-toc-item md-toc-h4" data-ref="n16"><a class="md-toc-inner" href="#span-id常见的算数类型常见的算数类型span">常见的算数类型</a></span><span class="md-toc-item md-toc-h4" data-ref="n64"><a class="md-toc-inner" href="#span-id扩展的字符型扩展的字符型span">扩展的字符型</a></span><span class="md-toc-item md-toc-h4" data-ref="n82"><a class="md-toc-inner" href="#span-id带符号类型和无符号类型带符号类型和无符号类型span">带符号类型和无符号类型</a></span><span class="md-toc-item md-toc-h4" data-ref="n104"><a class="md-toc-inner" href="#span-id如何选用类型如何选用类型span">如何选用类型</a></span><span class="md-toc-item md-toc-h2" data-ref="n118"><a class="md-toc-inner" href="#span-id12类型转换12-类型转换span"><strong>1.2 类型转换</strong></a></span><span class="md-toc-item md-toc-h3" data-ref="n119"><a class="md-toc-inner" href="#span-id将一种算术类型的值赋给另一种类型时的过程将一种算术类型的值赋给另一种类型时的过程span">将一种算术类型的值赋给另一种类型时的过程</a></span><span class="md-toc-item md-toc-h3" data-ref="n133"><a class="md-toc-inner" href="#span-id隐式类型转换隐式类型转换span">隐式类型转换</a></span><span class="md-toc-item md-toc-h4" data-ref="n134"><a class="md-toc-inner" href="#span-id何时会发生隐式类型转换何时会发生隐式类型转换span">何时会发生隐式类型转换</a></span><span class="md-toc-item md-toc-h4" data-ref="n152"><a class="md-toc-inner" href="#span-id最主要的隐式转换算数转换最主要的隐式转换算数转换span">最主要的隐式转换：算数转换</a></span><span class="md-toc-item md-toc-h5" data-ref="n154"><a class="md-toc-inner" href="#span-id整型提升整型提升span">整型提升</a></span><span class="md-toc-item md-toc-h5" data-ref="n160"><a class="md-toc-inner" href="#span-id无符号类型的运算对象无符号类型的运算对象span">无符号类型的运算对象</a></span><span class="md-toc-item md-toc-h4" data-ref="n190"><a class="md-toc-inner" href="#span-id算数转换的步骤算数转换的步骤span">算数转换的步骤</a></span><span class="md-toc-item md-toc-h4" data-ref="n206"><a class="md-toc-inner" href="#span-id其他隐式转换其他隐式转换span">其他隐式转换</a></span><span class="md-toc-item md-toc-h3" data-ref="n213"><a class="md-toc-inner" href="#span-id显式类型转换强制类型转换）显式类型转换强制类型转换）span">显式类型转换（强制类型转换）</a></span><span class="md-toc-item md-toc-h4" data-ref="n229"><a class="md-toc-inner" href="#旧式的强制类型转换">旧式的强制类型转换</a></span><span class="md-toc-item md-toc-h2" data-ref="n234"><a class="md-toc-inner" href="#span-id13字面值常量13-字面值常量span"><strong>1.3 字面值常量</strong></a></span><span class="md-toc-item md-toc-h3" data-ref="n235"><a class="md-toc-inner" href="#span-id整型字面值及类型整型字面值及类型span">整型字面值及类型</a></span><span class="md-toc-item md-toc-h3" data-ref="n246"><a class="md-toc-inner" href="#span-id浮点型字面值及类型浮点型字面值及类型span">浮点型字面值及类型</a></span><span class="md-toc-item md-toc-h3" data-ref="n254"><a class="md-toc-inner" href="#span-id字符字符串字面值及类型字符字符串字面值及类型span">字符、字符串字面值及类型</a></span><span class="md-toc-item md-toc-h3" data-ref="n259"><a class="md-toc-inner" href="#span-id布尔字面值和指针字面值布尔字面值和指针字面值span">布尔字面值和指针字面值</a></span><span class="md-toc-item md-toc-h3" data-ref="n262"><a class="md-toc-inner" href="#span-id转义序列转义序列span">转义序列</a></span><span class="md-toc-item md-toc-h3" data-ref="n302"><a class="md-toc-inner" href="#span-id指定字面值的类型指定字面值的类型span">指定字面值的类型</a></span><span class="md-toc-item md-toc-h2" data-ref="n353"><a class="md-toc-inner" href="#span-id14变量14-变量span"><strong>1.4 变量</strong></a></span><span class="md-toc-item md-toc-h3" data-ref="n354"><a class="md-toc-inner" href="#span-id变量定义变量定义span">变量定义</a></span><span class="md-toc-item md-toc-h3" data-ref="n356"><a class="md-toc-inner" href="#span-id初始化初始化span">初始化</a></span><span class="md-toc-item md-toc-h4" data-ref="n357"><a class="md-toc-inner" href="#span-id初始化与赋值初始化与赋值span">初始化与赋值</a></span><span class="md-toc-item md-toc-h4" data-ref="n360"><a class="md-toc-inner" href="#span-id初始化的形式初始化的形式span">初始化的形式</a></span><span class="md-toc-item md-toc-h5" data-ref="n364"><a class="md-toc-inner" href="#span-id列表初始化列表初始化span">列表初始化</a></span><span class="md-toc-item md-toc-h4" data-ref="n367"><a class="md-toc-inner" href="#span-id默认初始化默认初始化span">默认初始化</a></span><span class="md-toc-item md-toc-h3" data-ref="n380"><a class="md-toc-inner" href="#span-id变量声明与定义的关系extern关键字）变量声明与定义的关系extern关键字）span">变量声明与定义的关系（<code>extern</code>关键字）</a></span><span class="md-toc-item md-toc-h3" data-ref="n391"><a class="md-toc-inner" href="#span-id标识符标识符span">标识符</a></span><span class="md-toc-item md-toc-h3" data-ref="n398"><a class="md-toc-inner" href="#span-id变量命名规范变量命名规范span">变量命名规范</a></span><span class="md-toc-item md-toc-h2" data-ref="n406"><a class="md-toc-inner" href="#span-id15复合类型15-复合类型span"><strong>1.5 复合类型</strong></a></span><span class="md-toc-item md-toc-h3" data-ref="n407"><a class="md-toc-inner" href="#span-id引用引用span">引用</a></span><span class="md-toc-item md-toc-h3" data-ref="n422"><a class="md-toc-inner" href="#span-id指针指针span">指针</a></span><span class="md-toc-item md-toc-h4" data-ref="n423"><a class="md-toc-inner" href="#span-id指针的使用指针的使用span">指针的使用</a></span><span class="md-toc-item md-toc-h4" data-ref="n435"><a class="md-toc-inner" href="#span-id空指针空指针span">空指针</a></span><span class="md-toc-item md-toc-h4" data-ref="n440"><a class="md-toc-inner" href="#span-id关于指针的操作关于指针的操作span">关于指针的操作</a></span><span class="md-toc-item md-toc-h4" data-ref="n445"><a class="md-toc-inner" href="#span-idvoid指针void指针span"><code>void*</code>指针</a></span><span class="md-toc-item md-toc-h4" data-ref="n447"><a class="md-toc-inner" href="#span-id指向指针的指针指向指针的指针span">指向指针的指针</a></span><span class="md-toc-item md-toc-h3" data-ref="n450"><a class="md-toc-inner" href="#span-id理解复合类型的声明理解复合类型的声明span">理解复合类型的声明</a></span><span class="md-toc-item md-toc-h4" data-ref="n454"><a class="md-toc-inner" href="#span-id指向指针的引用两种修饰符混用）指向指针的引用两种修饰符混用）span">指向指针的引用（两种修饰符混用）</a></span><span class="md-toc-item md-toc-h2" data-ref="n462"><a class="md-toc-inner" href="#span-id16const限定符16-const限定符span"><strong>1.6 <code>const</code>限定符</strong></a></span><span class="md-toc-item md-toc-h3" data-ref="n463"><a class="md-toc-inner" href="#span-idconst常量const常量span"><code>const</code>常量</a></span><span class="md-toc-item md-toc-h3" data-ref="n468"><a class="md-toc-inner" href="#span-idconst对象的有效范围const对象的有效范围span"><code>const</code>对象的有效范围</a></span><span class="md-toc-item md-toc-h3" data-ref="n471"><a class="md-toc-inner" href="#span-idconst与引用const与引用span"><code>const</code>与引用</a></span><span class="md-toc-item md-toc-h4" data-ref="n479"><a class="md-toc-inner" href="#span-id常量引用的初始化常量引用的初始化span">常量引用的初始化</a></span><span class="md-toc-item md-toc-h3" data-ref="n491"><a class="md-toc-inner" href="#span-idconst和指针const和指针span"><code>const</code>和指针</a></span><span class="md-toc-item md-toc-h3" data-ref="n506"><a class="md-toc-inner" href="#span-id顶层const与底层const顶层const与底层constspan">顶层<code>const</code>与底层<code>const</code></a></span><span class="md-toc-item md-toc-h4" data-ref="n520"><a class="md-toc-inner" href="#span-id拷贝操作与const拷贝操作与constspan">拷贝操作与<code>const</code></a></span><span class="md-toc-item md-toc-h3" data-ref="n530"><a class="md-toc-inner" href="#span-idconstexpr和常量表达式constexpr和常量表达式span"><code>constexpr</code>和常量表达式</a></span><span class="md-toc-item md-toc-h4" data-ref="n531"><a class="md-toc-inner" href="#span-id常量表达式常量表达式span">常量表达式</a></span><span class="md-toc-item md-toc-h4" data-ref="n537"><a class="md-toc-inner" href="#span-idconstexpr变量constexpr变量span"><code>constexpr</code>变量</a></span><span class="md-toc-item md-toc-h4" data-ref="n545"><a class="md-toc-inner" href="#span-id字面值类型字面值类型span">字面值类型</a></span><span class="md-toc-item md-toc-h5" data-ref="n550"><a class="md-toc-inner" href="#span-id指针和constexpr指针和constexprspan">指针和<code>constexpr</code></a></span><span class="md-toc-item md-toc-h2" data-ref="n552"><a class="md-toc-inner" href="#span-id17处理类型17-处理类型span"><strong>1.7 处理类型</strong></a></span><span class="md-toc-item md-toc-h3" data-ref="n553"><a class="md-toc-inner" href="#span-id类型别名类型别名span">类型别名</a></span><span class="md-toc-item md-toc-h4" data-ref="n555"><a class="md-toc-inner" href="#span-id使用typedef关键字定义类型别名使用typedef关键字定义类型别名span">使用<code>typedef</code>关键字定义类型别名</a></span><span class="md-toc-item md-toc-h4" data-ref="n558"><a class="md-toc-inner" href="#span-id使用别名声明定义类型别名使用别名声明定义类型别名span">使用别名声明定义类型别名</a></span><span class="md-toc-item md-toc-h4" data-ref="n560"><a class="md-toc-inner" href="#span-id指针常量和类型别名指针常量和类型别名span">指针、常量和类型别名</a></span><span class="md-toc-item md-toc-h3" data-ref="n569"><a class="md-toc-inner" href="#span-idauto类型说明符auto类型说明符span"><code>auto</code>类型说明符</a></span><span class="md-toc-item md-toc-h4" data-ref="n574"><a class="md-toc-inner" href="#span-id复合类型常量和auto复合类型常量和autospan">复合类型、常量和<code>auto</code></a></span><span class="md-toc-item md-toc-h3" data-ref="n595"><a class="md-toc-inner" href="#span-iddecltype类型指示符decltype类型指示符span"><code>decltype</code>类型指示符</a></span><span class="md-toc-item md-toc-h2" data-ref="n608"><a class="md-toc-inner" href="#span-id自定义数据结构自定义数据结构span">自定义数据结构</a></span><span class="md-toc-item md-toc-h1" data-ref="n610"><a class="md-toc-inner" href="#span-id二字符串二字符串span">二、字符串</a></span><span class="md-toc-item md-toc-h2" data-ref="n611"><a class="md-toc-inner" href="#span-id标准库类型string标准库类型stringspan">标准库类型<code>string</code></a></span><span class="md-toc-item md-toc-h3" data-ref="n614"><a class="md-toc-inner" href="#span-id定义和初始化string对象定义和初始化string对象span">定义和初始化<code>string</code>对象</a></span><span class="md-toc-item md-toc-h4" data-ref="n638"><a class="md-toc-inner" href="#span-id直接初始化和间接初始化直接初始化和间接初始化span">直接初始化和间接初始化</a></span><span class="md-toc-item md-toc-h3" data-ref="n642"><a class="md-toc-inner" href="#span-idstring对象上的操作string对象上的操作span"><code>string</code>对象上的操作</a></span><span class="md-toc-item md-toc-h4" data-ref="n643"><a class="md-toc-inner" href="#span-id读写string对象读写string对象span">读写<code>string</code>对象</a></span><span class="md-toc-item md-toc-h5" data-ref="n653"><a class="md-toc-inner" href="#span-id流的状态111流的状态-span">流的状态 </a></span><span class="md-toc-item md-toc-h4" data-ref="n658"><a class="md-toc-inner" href="#span-idstring的empty和size操作string的empty和size操作span"><code>string</code>的<code>empty</code>和<code>size</code>操作</a></span><span class="md-toc-item md-toc-h5" data-ref="n663"><a class="md-toc-inner" href="#span-idstringsizetype类型sizetype类型span"><code>size_type</code>类型</a></span><span class="md-toc-item md-toc-h4" data-ref="n672"><a class="md-toc-inner" href="#span-id比较string对象比较string对象span">比较<code>string</code>对象</a></span><span class="md-toc-item md-toc-h4" data-ref="n682"><a class="md-toc-inner" href="#span-id赋值赋值span">赋值</a></span><span class="md-toc-item md-toc-h4" data-ref="n685"><a class="md-toc-inner" href="#span-id两个string对象相加两个string对象相加span">两个<code>string</code>对象相加</a></span><span class="md-toc-item md-toc-h4" data-ref="n688"><a class="md-toc-inner" href="#span-id字面值和string对象相加字面值和string对象相加span">字面值和<code>string</code>对象相加</a></span><span class="md-toc-item md-toc-h4" data-ref="n701"><a class="md-toc-inner" href="#利用基于范围的for语句处理string对象中的每一个字符">利用基于范围的<code>for</code>语句处理<code>string</code>对象中的每一个字符</a></span><span class="md-toc-item md-toc-h5" data-ref="n707"><a class="md-toc-inner" href="#cctype头文件"><code>cctype</code>头文件</a></span><span class="md-toc-item md-toc-h4" data-ref="n748"><a class="md-toc-inner" href="#利用索引访问单个字符">利用索引访问单个字符</a></span><span class="md-toc-item md-toc-h2" data-ref="n754"><a class="md-toc-inner" href="#c风格字符串">C风格字符串</a></span><span class="md-toc-item md-toc-h3" data-ref="n780"><a class="md-toc-inner" href="#cstr函数"><code>c_str()</code>函数</a></span><span class="md-toc-item md-toc-h1" data-ref="n783"><a class="md-toc-inner" href="#span-id三数组和向量三数组和向量span">三、数组和向量</a></span><span class="md-toc-item md-toc-h2" data-ref="n784"><a class="md-toc-inner" href="#标准库类型vector">标准库类型<code>vector</code></a></span><span class="md-toc-item md-toc-h3" data-ref="n792"><a class="md-toc-inner" href="#定义和初始化vector">定义和初始化<code>vector</code></a></span><span class="md-toc-item md-toc-h4" data-ref="n813"><a class="md-toc-inner" href="#值初始化">值初始化</a></span><span class="md-toc-item md-toc-h4" data-ref="n817"><a class="md-toc-inner" href="#列表初始化-n817">列表初始化</a></span><span class="md-toc-item md-toc-h4" data-ref="n830"><a class="md-toc-inner" href="#使用数组初始化vector对象">使用数组初始化<code>vector</code>对象</a></span><span class="md-toc-item md-toc-h3" data-ref="n838"><a class="md-toc-inner" href="#向vector中添加元素">向<code>vector</code>中添加元素</a></span><span class="md-toc-item md-toc-h3" data-ref="n845"><a class="md-toc-inner" href="#其他vector操作">其他<code>vector</code>操作</a></span><span class="md-toc-item md-toc-h3" data-ref="n879"><a class="md-toc-inner" href="#使用for遍历vector中的元素">使用<code>for</code>遍历<code>vector</code>中的元素</a></span><span class="md-toc-item md-toc-h3" data-ref="n884"><a class="md-toc-inner" href="#索引">索引</a></span><span class="md-toc-item md-toc-h2" data-ref="n891"><a class="md-toc-inner" href="#迭代器">迭代器</a></span><span class="md-toc-item md-toc-h3" data-ref="n895"><a class="md-toc-inner" href="#使用迭代器">使用迭代器</a></span><span class="md-toc-item md-toc-h4" data-ref="n896"><a class="md-toc-inner" href="#begin和end"><code>begin()</code>和<code>end()</code></a></span><span class="md-toc-item md-toc-h4" data-ref="n920"><a class="md-toc-inner" href="#迭代器支持的运算">迭代器支持的运算</a></span><span class="md-toc-item md-toc-h4" data-ref="n942"><a class="md-toc-inner" href="#vector和string的迭代器支持的额外运算"><code>vector</code>和<code>string</code>的迭代器支持的额外运算</a></span><span class="md-toc-item md-toc-h4" data-ref="n966"><a class="md-toc-inner" href="#结合解引用和成员访问操作箭头操作符-）">结合解引用和成员访问操作（箭头操作符<code>-&gt;</code>）</a></span><span class="md-toc-item md-toc-h4" data-ref="n972"><a class="md-toc-inner" href="#某些操作会使迭代器失效">某些操作会使迭代器失效</a></span><span class="md-toc-item md-toc-h2" data-ref="n975"><a class="md-toc-inner" href="#数组">数组</a></span><span class="md-toc-item md-toc-h3" data-ref="n976"><a class="md-toc-inner" href="#定义和初始化内置数组">定义和初始化内置数组</a></span><span class="md-toc-item md-toc-h4" data-ref="n991"><a class="md-toc-inner" href="#字符数组的特殊性">字符数组的特殊性 </a></span><span class="md-toc-item md-toc-h3" data-ref="n1003"><a class="md-toc-inner" href="#访问数组元素">访问数组元素</a></span><span class="md-toc-item md-toc-h3" data-ref="n1011"><a class="md-toc-inner" href="#指针和数组">指针和数组</a></span><span class="md-toc-item md-toc-h4" data-ref="n1023"><a class="md-toc-inner" href="#标准库函数begin和end">标准库函数<code>begin</code>和<code>end</code></a></span><span class="md-toc-item md-toc-h4" data-ref="n1028"><a class="md-toc-inner" href="#指针运算">指针运算</a></span><span class="md-toc-item md-toc-h4" data-ref="n1037"><a class="md-toc-inner" href="#区分arr和arr">区分<code>&amp;arr</code>和<code>arr</code></a></span><span class="md-toc-item md-toc-h3" data-ref="n1043"><a class="md-toc-inner" href="#多维数组">多维数组</a></span><span class="md-toc-item md-toc-h1" data-ref="n1069"><a class="md-toc-inner" href="#span-id五运算符和表达式五运算符和表达式span">五、运算符和表达式</a></span><span class="md-toc-item md-toc-h2" data-ref="n1070"><a class="md-toc-inner" href="#基础">基础</a></span><span class="md-toc-item md-toc-h3" data-ref="n1082"><a class="md-toc-inner" href="#左值和右值">左值和右值</a></span><span class="md-toc-item md-toc-h3" data-ref="n1089"><a class="md-toc-inner" href="#优先级和结合律">优先级和结合律</a></span><span class="md-toc-item md-toc-h3" data-ref="n1093"><a class="md-toc-inner" href="#求值顺序">求值顺序</a></span><span class="md-toc-item md-toc-h2" data-ref="n1118"><a class="md-toc-inner" href="#算数运算符">算数运算符</a></span><span class="md-toc-item md-toc-h2" data-ref="n1172"><a class="md-toc-inner" href="#逻辑和关系运算符">逻辑和关系运算符</a></span><span class="md-toc-item md-toc-h2" data-ref="n1230"><a class="md-toc-inner" href="#赋值运算符">赋值运算符</a></span><span class="md-toc-item md-toc-h3" data-ref="n1254"><a class="md-toc-inner" href="#复合赋值运算符">复合赋值运算符</a></span><span class="md-toc-item md-toc-h2" data-ref="n1277"><a class="md-toc-inner" href="#递增递减运算符">递增递减运算符</a></span><span class="md-toc-item md-toc-h2" data-ref="n1295"><a class="md-toc-inner" href="#成员访问运算符">成员访问运算符</a></span><span class="md-toc-item md-toc-h2" data-ref="n1307"><a class="md-toc-inner" href="#条件运算符">条件运算符</a></span><span class="md-toc-item md-toc-h2" data-ref="n1320"><a class="md-toc-inner" href="#位运算符">位运算符</a></span><span class="md-toc-item md-toc-h2" data-ref="n1395"><a class="md-toc-inner" href="#sizeof运算符"><code>sizeof</code>运算符</a></span><span class="md-toc-item md-toc-h2" data-ref="n1419"><a class="md-toc-inner" href="#逗号运算符">逗号运算符</a></span><span class="md-toc-item md-toc-h1" data-ref="n1426"><a class="md-toc-inner" href="#span-id六语句六语句span">六、语句</a></span><span class="md-toc-item md-toc-h2" data-ref="n1427"><a class="md-toc-inner" href="#基础-n1427">基础</a></span><span class="md-toc-item md-toc-h3" data-ref="n1428"><a class="md-toc-inner" href="#表达式语句">表达式语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1432"><a class="md-toc-inner" href="#空语句">空语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1437"><a class="md-toc-inner" href="#复合语句块）">复合语句（块）</a></span><span class="md-toc-item md-toc-h3" data-ref="n1442"><a class="md-toc-inner" href="#语句作用域"><strong>语句作用域</strong></a></span><span class="md-toc-item md-toc-h2" data-ref="n1446"><a class="md-toc-inner" href="#条件语句">条件语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1447"><a class="md-toc-inner" href="#if语句"><code>if</code>语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1464"><a class="md-toc-inner" href="#switch语句"><code>switch</code>语句</a></span><span class="md-toc-item md-toc-h2" data-ref="n1491"><a class="md-toc-inner" href="#迭代语句">迭代语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1492"><a class="md-toc-inner" href="#while语句"><code>while</code>语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1500"><a class="md-toc-inner" href="#传统的for语句">传统的<code>for</code>语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1529"><a class="md-toc-inner" href="#范围for语句">范围<code>for</code>语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1538"><a class="md-toc-inner" href="#do-while语句"><code>do-while</code>语句</a></span><span class="md-toc-item md-toc-h2" data-ref="n1542"><a class="md-toc-inner" href="#跳转语句">跳转语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1544"><a class="md-toc-inner" href="#break语句"><code>break</code>语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1547"><a class="md-toc-inner" href="#continue语句"><code>continue</code>语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1550"><a class="md-toc-inner" href="#goto语句"><code>goto</code>语句</a></span><span class="md-toc-item md-toc-h2" data-ref="n1559"><a class="md-toc-inner" href="#try语句块和异常处理"><code>try</code>语句块和异常处理</a></span><span class="md-toc-item md-toc-h3" data-ref="n1562"><a class="md-toc-inner" href="#throw表达式"><code>throw</code>表达式</a></span><span class="md-toc-item md-toc-h3" data-ref="n1570"><a class="md-toc-inner" href="#标准异常">标准异常</a></span><span class="md-toc-item md-toc-h3" data-ref="n1608"><a class="md-toc-inner" href="#try语句块"><code>try</code>语句块</a></span><span class="md-toc-item md-toc-h1" data-ref="n1621"><a class="md-toc-inner" href="#span-id七函数七函数span">七、函数</a></span><span class="md-toc-item md-toc-h1" data-ref="n1622"><a class="md-toc-inner" href="#函数">函数</a></span><span class="md-toc-item md-toc-h2" data-ref="n1623"><a class="md-toc-inner" href="#函数基础">函数基础</a></span><span class="md-toc-item md-toc-h3" data-ref="n1624"><a class="md-toc-inner" href="#函数声明">函数声明</a></span><span class="md-toc-item md-toc-h3" data-ref="n1630"><a class="md-toc-inner" href="#函数定义">函数定义</a></span><span class="md-toc-item md-toc-h3" data-ref="n1634"><a class="md-toc-inner" href="#函数调用与执行">函数调用与执行</a></span><span class="md-toc-item md-toc-h3" data-ref="n1639"><a class="md-toc-inner" href="#形参与实参">形参与实参</a></span><span class="md-toc-item md-toc-h3" data-ref="n1649"><a class="md-toc-inner" href="#函数的返回类型">函数的返回类型</a></span><span class="md-toc-item md-toc-h3" data-ref="n1652"><a class="md-toc-inner" href="#局部对象">局部对象</a></span><span class="md-toc-item md-toc-h4" data-ref="n1653"><a class="md-toc-inner" href="#作用域与生命周期">作用域与生命周期</a></span><span class="md-toc-item md-toc-h4" data-ref="n1660"><a class="md-toc-inner" href="#局部变量">局部变量</a></span><span class="md-toc-item md-toc-h4" data-ref="n1663"><a class="md-toc-inner" href="#自动对象">自动对象</a></span><span class="md-toc-item md-toc-h4" data-ref="n1666"><a class="md-toc-inner" href="#局部静态对象static关键字）">局部静态对象（<code>static</code>关键字）</a></span><span class="md-toc-item md-toc-h2" data-ref="n1674"><a class="md-toc-inner" href="#参数传递">参数传递</a></span><span class="md-toc-item md-toc-h3" data-ref="n1675"><a class="md-toc-inner" href="#传值传递">传值传递</a></span><span class="md-toc-item md-toc-h3" data-ref="n1683"><a class="md-toc-inner" href="#传引用参数">传引用参数</a></span><span class="md-toc-item md-toc-h3" data-ref="n1690"><a class="md-toc-inner" href="#const形参与实参"><code>const</code>形参与实参</a></span><span class="md-toc-item md-toc-h3" data-ref="n1700"><a class="md-toc-inner" href="#数组形参">数组形参</a></span><span class="md-toc-item md-toc-h4" data-ref="n1706"><a class="md-toc-inner" href="#管理数组长度">管理数组长度</a></span><span class="md-toc-item md-toc-h4" data-ref="n1716"><a class="md-toc-inner" href="#数组形参和const">数组形参和<code>const</code></a></span><span class="md-toc-item md-toc-h4" data-ref="n1724"><a class="md-toc-inner" href="#传递多维数组">传递多维数组</a></span><span class="md-toc-item md-toc-h3" data-ref="n1732"><a class="md-toc-inner" href="#含有可变形参的函数">含有可变形参的函数</a></span><span class="md-toc-item md-toc-h2" data-ref="n1760"><a class="md-toc-inner" href="#返回类型和return语句">返回类型和<code>return</code>语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1761"><a class="md-toc-inner" href="#return语句"><code>return</code>语句</a></span><span class="md-toc-item md-toc-h3" data-ref="n1764"><a class="md-toc-inner" href="#无返回值的函数">无返回值的函数</a></span><span class="md-toc-item md-toc-h3" data-ref="n1768"><a class="md-toc-inner" href="#有返回值的函数">有返回值的函数</a></span><span class="md-toc-item md-toc-h4" data-ref="n1776"><a class="md-toc-inner" href="#值是如何被返回的"><strong>值是如何被返回的</strong></a></span><span class="md-toc-item md-toc-h4" data-ref="n1792"><a class="md-toc-inner" href="#引用返回左值">引用返回左值</a></span><span class="md-toc-item md-toc-h4" data-ref="n1794"><a class="md-toc-inner" href="#列表初始化返回值">列表初始化返回值</a></span><span class="md-toc-item md-toc-h4" data-ref="n1797"><a class="md-toc-inner" href="#main函数的返回值"><code>main</code>函数的返回值</a></span><span class="md-toc-item md-toc-h3" data-ref="n1802"><a class="md-toc-inner" href="#返回数组指针">返回数组指针</a></span><span class="md-toc-item md-toc-h2" data-ref="n1818"><a class="md-toc-inner" href="#函数重载">函数重载</a></span><span class="md-toc-item md-toc-h3" data-ref="n1824"><a class="md-toc-inner" href="#判断两个形参的类型是否相异">判断两个形参的类型是否相异</a></span><span class="md-toc-item md-toc-h3" data-ref="n1837"><a class="md-toc-inner" href="#constcast和重载"><code>const_cast</code>和重载</a></span><span class="md-toc-item md-toc-h3" data-ref="n1845"><a class="md-toc-inner" href="#重载函数匹配">重载函数匹配</a></span><span class="md-toc-item md-toc-h2" data-ref="n1855"><a class="md-toc-inner" href="#特殊用途语言特性">特殊用途语言特性</a></span><span class="md-toc-item md-toc-h3" data-ref="n1856"><a class="md-toc-inner" href="#默认实参">默认实参</a></span><span class="md-toc-item md-toc-h3" data-ref="n1868"><a class="md-toc-inner" href="#内联函数关键字inline）">内联函数（关键字<code>inline</code>）</a></span><span class="md-toc-item md-toc-h3" data-ref="n1872"><a class="md-toc-inner" href="#调试帮助">调试帮助</a></span><span class="md-toc-item md-toc-h4" data-ref="n1873"><a class="md-toc-inner" href="#assert预处理宏"><strong><code>assert</code>预处理宏</strong></a></span><span class="md-toc-item md-toc-h4" data-ref="n1879"><a class="md-toc-inner" href="#ndebug预处理变量"><strong>NDEBUG预处理变量</strong></a></span><span class="md-toc-item md-toc-h4" data-ref="n1884"><a class="md-toc-inner" href="#编写调试代码"><strong>编写调试代码</strong></a></span><span class="md-toc-item md-toc-h2" data-ref="n1911"><a class="md-toc-inner" href="#函数匹配">函数匹配</a></span><span class="md-toc-item md-toc-h3" data-ref="n1913"><a class="md-toc-inner" href="#确定候选函数和可行函数">确定候选函数和可行函数</a></span><span class="md-toc-item md-toc-h3" data-ref="n1926"><a class="md-toc-inner" href="#寻找最佳匹配">寻找最佳匹配</a></span><span class="md-toc-item md-toc-h2" data-ref="n1961"><a class="md-toc-inner" href="#函数指针">函数指针</a></span><span class="md-toc-item md-toc-h3" data-ref="n1977"><a class="md-toc-inner" href="#函数指针作函数参数">函数指针作函数参数</a></span><span class="md-toc-item md-toc-h3" data-ref="n1984"><a class="md-toc-inner" href="#返回指向函数的指针">返回指向函数的指针</a></span><span class="md-toc-item md-toc-h3" data-ref="n1990"><a class="md-toc-inner" href="#利用类型别名简化函数类型">利用类型别名简化函数类型</a></span><span class="md-toc-item md-toc-h3" data-ref="n1992"><a class="md-toc-inner" href="#将auto和decltype用于函数">将<code>auto</code>和<code>decltype</code>用于函数</a></span><span class="md-toc-item md-toc-h1" data-ref="n1997"><a class="md-toc-inner" href="#span-id八类八类span">八、类</a></span><span class="md-toc-item md-toc-h2" data-ref="n1999"><a class="md-toc-inner" href="#span-id类的定义和使用类的定义和使用span">类的定义和使用</a></span><span class="md-toc-item md-toc-h2" data-ref="n2001"><a class="md-toc-inner" href="#span-id编写自己的头文件编写自己的头文件span">编写自己的头文件</a></span><span class="md-toc-item md-toc-h1" data-ref="n2003"><a class="md-toc-inner" href="#span-id九io九iospan">九、I/O</a></span><span class="md-toc-item md-toc-h1" data-ref="n2004"><a class="md-toc-inner" href="#span-id相关内容相关内容span">相关内容</a></span><span class="md-toc-item md-toc-h2" data-ref="n2005"><a class="md-toc-inner" href="#span-id111计算机存储111-计算机存储span">11.1 计算机存储</a></span><span class="md-toc-item md-toc-h2" data-ref="n2014"><a class="md-toc-inner" href="#span-id113c操作符替代名113-c操作符替代名span">11.3 C++操作符替代名</a></span><span class="md-toc-item md-toc-h2" data-ref="n2036"><a class="md-toc-inner" href="#span-id114作用域114-作用域span">11.4 作用域</a></span><span class="md-toc-item md-toc-h2" data-ref="n2046"><a class="md-toc-inner" href="#span-id115预处理器115-预处理器span">11.5 预处理器</a></span><span class="md-toc-item md-toc-h2" data-ref="n2048"><a class="md-toc-inner" href="#span-id116命名空间116-命名空间span">11.6 命名空间</a></span><span class="md-toc-item md-toc-h3" data-ref="n2049"><a class="md-toc-inner" href="#span-id命名空间的using声明命名空间的using声明span">命名空间的<code>using</code>声明</a></span><span class="md-toc-item md-toc-h2" data-ref="n2056"><a class="md-toc-inner" href="#117-优先级">11.7 优先级</a></span><span class="md-toc-item md-toc-h2" data-ref="n2058"><a class="md-toc-inner" href="#118-初始化">11.8 初始化</a></span></p></div><p><a href='#save'><span>见计算机存储</span></a></p><p>&nbsp;</p><h1><a name="span-id变量和基本类型变量和基本类型span" class="md-header-anchor"></a><span id="变量和基本类型"><span>变量和基本类型</span></span></h1><h2><a name="span-id11基本内置类型11-基本内置类型span" class="md-header-anchor"></a><span id="1.1基本内置类型"><strong><span>1.1 基本内置类型</span></strong></span></h2><p><span>C++的基本数据类型包括</span><strong><span>算数类型</span></strong><span>和</span><strong><span>空类型</span><code>void</code></strong><span>。</span></p><ul><li><span>算数类型包括字符，</span><strong><span>整型数</span></strong><span>，</span><strong><span>布尔值</span></strong><span>和</span><strong><span>浮点数</span></strong><span>。</span></li><li><span>空类型不对应具体的值，仅用作一些特殊的场合（例如函数的返回值）。</span></li></ul><p><span>数据类型可以告诉我们</span><strong><span>数据的意义以及我们能在数据上执行的操作</span></strong><span>。</span><a href='#11.1计算机存储'><span>11.1计算机存储</span></a></p><h3><a name="span-id算数类型算数类型span" class="md-header-anchor"></a><span id="算数类型"><span>算数类型</span></span></h3><h4><a name="span-id常见的算数类型常见的算数类型span" class="md-header-anchor"></a><span id="常见的算数类型"><span>常见的算数类型</span></span></h4><p><span>算数类型分为</span><strong><span>整型</span></strong><span>（包括字符、布尔类型）和</span><strong><span>浮点型</span></strong><span>。</span></p><figure><table><thead><tr><th style='text-align:center;' ><span>类型</span></th><th style='text-align:center;' ><span>含义</span></th><th style='text-align:center;' ><span>Visual Studio上的尺寸/最小尺寸（位）</span></th></tr></thead><tbody><tr><td style='text-align:center;' ><code>bool</code></td><td style='text-align:center;' ><span>布尔类型</span></td><td style='text-align:center;' ><span>8/unknown</span></td></tr><tr><td style='text-align:center;' ><code>char</code></td><td style='text-align:center;' ><span>字符</span></td><td style='text-align:center;' ><span>8/8</span></td></tr><tr><td style='text-align:center;' ><code>short</code></td><td style='text-align:center;' ><span>短整型</span></td><td style='text-align:center;' ><span>16/16</span></td></tr><tr><td style='text-align:center;' ><code>int</code></td><td style='text-align:center;' ><span>整型</span></td><td style='text-align:center;' ><span>32/16</span></td></tr><tr><td style='text-align:center;' ><code>long</code></td><td style='text-align:center;' ><span>长整型</span></td><td style='text-align:center;' ><span>32/32</span></td></tr><tr><td style='text-align:center;' ><code>long long</code></td><td style='text-align:center;' ><span>长整型</span></td><td style='text-align:center;' ><span>64/64</span></td></tr><tr><td style='text-align:center;' ><code>float</code></td><td style='text-align:center;' ><span>单精度浮点数</span></td><td style='text-align:center;' ><span>32位/6位有效数字</span></td></tr><tr><td style='text-align:center;' ><code>double</code></td><td style='text-align:center;' ><span>双精度浮点数</span></td><td style='text-align:center;' ><span>64位/10位有效数字</span></td></tr><tr><td style='text-align:center;' ><code>long double</code></td><td style='text-align:center;' ><span>扩展精度浮点数</span></td><td style='text-align:center;' ><span>64位/10位有效数字</span></td></tr></tbody></table></figure><ul><li><code>char</code><span>类型用来储存机器基本字符集中字符对应的数字值。</span></li><li><span>布尔类型</span><code>bool</code><span>的取值是真</span><code>true</code><span>或假</span><code>false</code><span>。</span></li></ul><h4><a name="span-id扩展的字符型扩展的字符型span" class="md-header-anchor"></a><span id="扩展的字符型"><span>扩展的字符型</span></span></h4><figure><table><thead><tr><th style='text-align:center;' ><span>类型</span></th><th style='text-align:center;' ><span>含义</span></th><th style='text-align:center;' ><span>说明</span></th></tr></thead><tbody><tr><td style='text-align:center;' ><code>wchar_t</code></td><td style='text-align:center;' ><span>宽字符</span></td><td style='text-align:center;' ><span>用于确保可以存放机器最大扩展字符集中的任意一个字符。</span></td></tr><tr><td style='text-align:center;' ><code>char16_t</code></td><td style='text-align:center;' ><span>Unicode字符</span></td><td style='text-align:center;' ><span>用于Unicode字符集。</span></td></tr><tr><td style='text-align:center;' ><code>char32_t</code></td><td style='text-align:center;' ><span>Unicode字符</span></td><td style='text-align:center;' ><span>用于Unicode字符集。</span></td></tr></tbody></table></figure><h4><a name="span-id带符号类型和无符号类型带符号类型和无符号类型span" class="md-header-anchor"></a><span id="带符号类型和无符号类型"><span>带符号类型和无符号类型</span></span></h4><p><span>除去布尔型和扩展的字符型，其他整型都可以划分位</span><strong><span>带符号</span></strong><code>signed</code><span>的和</span><strong><span>无符号</span></strong><code>unsigned</code><span>的两种。</span></p><p><span>带符号的可以表示正数、负数和0，无符号类型仅能表示大于0的值。</span></p><blockquote><p><span>在Visual Studio中，对无符号类型取负会报错。</span></p></blockquote><figure><table><thead><tr><th><span>有符号类型</span></th><th><span>无符号类型</span></th><th><span>有符号类型</span></th><th><span>无符号类型</span></th></tr></thead><tbody><tr><td><code>int</code></td><td><code>unsigned int</code><span>/</span><code>unsigned</code></td><td><code>short</code></td><td><code>unsigned short</code></td></tr><tr><td><code>long</code></td><td><code>unsigned long</code></td><td><code>long long</code></td><td><code>unsigned long long</code></td></tr></tbody></table></figure><p><span>字符整型被分为</span><code>char</code><span>,</span><code>signed char</code><span>和</span><code>unsigned char</code><span>三种类型。</span><code>char</code><span>具体表示有符号还是无符号取决于编译器。</span></p><h4><a name="span-id如何选用类型如何选用类型span" class="md-header-anchor"></a><span id="如何选用类型"><span>如何选用类型</span></span></h4><blockquote><p><strong><span>如何选用类型:</span></strong></p><ul><li><span>如果数值不可能为负时，选用无符号类型。</span></li><li><span>使用</span><code>int</code><span>执行整型运算，如果数值超出</span><code>int</code><span>表示范围，使用</span><code>long long</code><span>。</span></li><li><span>只有表示字符时使用</span><code>char</code><span>，只有表示布尔值时使用</span><code>bool</code><span>。</span></li><li><span>在使用字符型表示小整数时，注明</span><code>signed char</code><span>还是</span><code>unsigned char</code><span>。</span></li><li><span>执行浮点数使用</span><code>double</code><span>。</span></li></ul></blockquote><h2><a name="span-id12类型转换12-类型转换span" class="md-header-anchor"></a><span id="1.2类型转换"><strong><span>1.2 类型转换</span></strong></span></h2><h3><a name="span-id将一种算术类型的值赋给另一种类型时的过程将一种算术类型的值赋给另一种类型时的过程span" class="md-header-anchor"></a><span id="将一种算术类型的值赋给另一种类型时的过程"><span>将一种算术类型的值赋给另一种类型时的过程</span></span></h3><ol start='' ><li><span>将非布尔值赋给布尔类型</span>
<span>初始值为0，则结果为</span><code>false</code><span>，初始值不为0，则结果为</span><code>true</code><span>。</span></li><li><span>将布尔值赋给非布尔类型</span>
<span>初始值为</span><code>true</code><span>，则结果为1，初始值为</span><code>false</code><span>，则结果为0。</span></li><li><span>将浮点数赋给整数类型</span>
<span>保留浮点数中小数点之前的部分。如果截断后的整数超过整数表示范围，按照第5、6条。</span></li><li><span>将整数赋给浮点类型</span>
<span>小数部分记为0 。如果整数所占空间超过浮点类型容量，精度可能损失。</span></li><li><span>赋给无符号类型一个超出表示范围的值</span>
<span>结果是对无符号类型表示的最大数值取模的余数。</span></li><li><span>赋给有符号类型一个超出表示范围的值</span>
<span>结果是</span><strong><span>未定义</span></strong><span>的。</span></li></ol><h3><a name="span-id隐式类型转换隐式类型转换span" class="md-header-anchor"></a><span id="隐式类型转换"><span>隐式类型转换</span></span></h3><h4><a name="span-id何时会发生隐式类型转换何时会发生隐式类型转换span" class="md-header-anchor"></a><span id="何时会发生隐式类型转换"><span>何时会发生隐式类型转换</span></span></h4><p><span>当两个运算对象类型不同时，C++语言不会直接将两个不同类型的值相加，而是先根据类型转换规则设法将运算对象的类型统一之后再求值。上述的类型转换是自动执行的，因此，它们被称为</span><strong><span>隐式类型转换</span></strong><span>。</span></p><p><span>隐式转换的设计原则是</span><strong><span>尽可能避免损失精度</span></strong><span>。</span></p><blockquote><p><span>在下面的情况下，编译器会自动转换：</span></p><ul><li><span>在表达式中，比</span><code>int</code><span>类型小的整型值会首先提升为较大的整数类型。</span></li><li><span>在条件中，非布尔值会转换为布尔值。</span></li><li><span>初始化过程中，初始值转换为变量的类型。</span></li><li><span>赋值语句中，右侧运算对象转换成左侧运算对象的类型。</span></li><li><span>如果算术运算或关系运算的运算对象有多种类型，需要转换为一种类型。</span></li><li><span>函数调用时发生的类型转换。</span></li></ul></blockquote><h4><a name="span-id最主要的隐式转换算数转换最主要的隐式转换算数转换span" class="md-header-anchor"></a><span id="最主要的隐式转换：算数转换"><span>最主要的隐式转换：算数转换</span></span></h4><p><span>算数转换是把一种算术类型转换为另一种算术类型。</span></p><h5><a name="span-id整型提升整型提升span" class="md-header-anchor"></a><span id="整型提升"><span>整型提升</span></span></h5><p><span>整型提升负责</span><strong><span>将小整数类型转换为较大的整数类型</span></strong><span>。</span></p><p><span>对于</span><code>bool</code><span>,</span><code>har</code><span>,</span><code>singed char</code><span>,</span><code>unsigned char</code><span>,</span><code>short</code><span>,</span><code>unsigned short</code><span>等类型来说，只要它们所有可能的值都能存在</span><code>int</code><span>类型中，它们就会提升为</span><code>int</code><span>类型，否则，提升为</span><code>unsigned int</code><span>类型。</span></p><blockquote><p><span>在Visual Studio中，由于</span><code>int</code><span>类型占32字节，所以上述所有小整型都可以存在</span><code>int</code><span>类型中，所以在整型提升时均提升为</span><code>int</code><span>类型。</span></p></blockquote><p><span>较大的字符型，比如</span><code>wchar_t</code><span>,</span><code>char16_t</code><span>,</span><code>char32_t</code><span>，会按照</span><code>int</code><span>,</span><code>unsigned int</code><span>,</span><code>long</code><span>,</span><code>unsigned long</code><span>,</span><code>long long</code><span>,</span><code>unsigned long long</code><span>的顺序依次检查，在能容纳所有可能的值的前提下选择最小的一种类型转换。</span></p><h5><a name="span-id无符号类型的运算对象无符号类型的运算对象span" class="md-header-anchor"></a><span id="无符号类型的运算对象"><span>无符号类型的运算对象</span></span></h5><p><span>如果运算对象一个是有符号的，一个是无符号的，则根据两个整数类型的相对大小进行转换（小类型向大类型转换）。</span></p><ol start='' ><li><span>如果无符号类型不小于有符号类型，则有符号的类型向无符号的类型转换。</span></li><li><span>如果无符号类型小于有符号类型，则无符号的类型向有符号的类型转换。</span></li></ol><blockquote><p><span>Visual Studio 上的转换：</span></p><figure><table><thead><tr><th>&nbsp;</th><th><code>unsigned int</code></th><th><code>unsigned long</code></th><th><code>unsigned long long</code></th></tr></thead><tbody><tr><td><code>int</code></td><td><code>unsigned int</code></td><td><code>unsigned long</code><br><font face="Consola" size = 2 color=red><span> 和《C++Primer》有出入！</span></font></td><td><code>unsigned long long</code></td></tr><tr><td><code>long</code></td><td><code>unsigned long</code></td><td><code>unsigned long</code></td><td><code>unsigned long long</code></td></tr><tr><td><code>long long</code></td><td><code>long long</code></td><td><code>long long</code></td><td><code>unsigned long long</code></td></tr></tbody></table></figure></blockquote><h4><a name="span-id算数转换的步骤算数转换的步骤span" class="md-header-anchor"></a><span id="算数转换的步骤"><span>算数转换的步骤</span></span></h4><ol start='' ><li><p><span>首先对</span><code>char</code><span>,</span><code>bool</code><span>等小整型进行</span><strong><span>整型提升</span></strong><span>。</span></p></li><li><p><span>如果整型提升之后类型不匹配：</span></p><ol start='' ><li><p><span>如果运算对象中有浮点类型，则</span><strong><span>所有运算对象转换为相应的浮点类型</span></strong><span>。</span></p></li><li><p><span>如果没有浮点类型：</span></p><ol start='' ><li><span>如果提升后的运算对象都是带符号的，或者都是不带符号的，则</span><strong><span>小类型运算对象转换成较大的类型</span></strong><span>。</span></li><li><span>如果提升后的运算对象既有有符号的，也有无符号的，则根据</span><strong><span>无符号类型的运算对象</span></strong><span>中的规则进行转换。</span></li></ol></li></ol></li></ol><h4><a name="span-id其他隐式转换其他隐式转换span" class="md-header-anchor"></a><span id="其他隐式转换"><span>其他隐式转换</span></span></h4><ul><li><p><span>数组转换为指针</span></p></li><li><p><span>指针的转换</span></p><p><span>例如：常量整数值</span><code>0</code><span>和字面值</span><code>nullptr</code><span>可以转换成任意指针类型。指向非常量的指针能转换为</span><code>void*</code><span>，指向任意对象的指针能转换为</span><code>const void*</code><span>。</span></p></li></ul><h3><a name="span-id显式类型转换强制类型转换）显式类型转换强制类型转换）span" class="md-header-anchor"></a><span id="显式类型转换（强制类型转换）"><span>显式类型转换（强制类型转换）</span></span></h3><p><strong><span>字符和字符串字面值</span></strong></p><p><span>一个命名的强制类型转换具有如下形式：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cast</span><span class="cm-operator">-</span><span class="cm-variable">name</span> <span class="cm-operator">&lt;</span><span class="cm-variable">type</span><span class="cm-operator">&gt;</span> (<span class="cm-variable">expression</span>)</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><span>其中:</span><code>type</code><span>是转换的目标类型。</span><code>expression</code><span>是要转换的值。</span>
<code>cast-name</code><span>是</span><code>static_cast</code><span>,</span><code>dynamic_cast</code><span>,</span><code>const_cast</code><span>,</span><code>reinterpret_cast</code><span>中的一种。</span></p><p><strong><code>static_cast</code></strong></p><p><span>任何具有明确定义的类型转换，只要不包含底层</span><code>const</code><span>，都可以使用</span><code>static_cast</code><span>。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//利用static_cast执行强制执行浮点运算</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span><span class="cm-number">3</span>, <span class="cm-variable">j</span> <span class="cm-operator">=</span> <span class="cm-number">2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">double</span> <span class="cm-variable">slope</span> <span class="cm-operator">=</span> <span class="cm-keyword">static_cast</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">double</span><span class="cm-operator">&gt;</span>(<span class="cm-variable">i</span>) <span class="cm-operator">/</span> <span class="cm-variable">j</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//将一个较大的算术类型赋值给较小的类型</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-keyword">static_cast</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span>(<span class="cm-number">3.2</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//执行编译器无法自动执行的类型转换</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">double</span> <span class="cm-variable">fval</span> <span class="cm-operator">=</span> <span class="cm-number">3.2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void*</span> <span class="cm-variable">p</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">fval</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">*</span>(<span class="cm-keyword">static_cast</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">double*</span><span class="cm-operator">&gt;</span>(<span class="cm-variable">p</span>));</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 195px;"></div><div class="CodeMirror-gutters" style="display: none; height: 195px;"></div></div></div></pre><p><strong><code>const_cast</code></strong></p><p><code>const_cast</code><span>只能改变运算对象的底层</span><code>const</code><span>。因此</span><strong><code>const_cast</code><span>中的类型必须是指针、引用或指向对象类型成员的指针</span></strong><span>。</span></p><p><span>将常量对象转换成非常量对象的行为一般称为“去掉</span><code>const</code><span>性质”。</span></p><p><span>只有</span><code>const_cast</code><span>能改变表达式的常量属性。其他形式的命名强制类型转换改变表达式的常量属性都将引发编译器错误。同时，</span><code>const_cast</code><span>不能改变表达式的类型。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char</span> <span class="cm-variable">ch</span> <span class="cm-operator">=</span> <span class="cm-string">'a'</span>, <span class="cm-variable">cch</span> <span class="cm-operator">=</span> <span class="cm-string">'3'</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">char*</span> <span class="cm-variable">pch</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">ch</span>, <span class="cm-operator">*</span> <span class="cm-variable">pcch</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">cch</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char*</span> <span class="cm-variable">p1</span> <span class="cm-operator">=</span> <span class="cm-keyword">const_cast</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">char*</span><span class="cm-operator">&gt;</span>(<span class="cm-variable">pch</span>); &nbsp; &nbsp;<span class="cm-comment">//正确。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char*</span> <span class="cm-variable">p2</span> <span class="cm-operator">=</span> <span class="cm-keyword">const_cast</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">char*</span><span class="cm-operator">&gt;</span>(<span class="cm-variable">pcch</span>); &nbsp; <span class="cm-comment">//正确，但由于cch本身是一个常量，所以通过p2写值是未定义的行为。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span><span class="cm-operator">&amp;</span> <span class="cm-variable">crval</span> <span class="cm-operator">=</span> <span class="cm-variable">val</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span><span class="cm-operator">&amp;</span> <span class="cm-variable">rval</span> <span class="cm-operator">=</span> <span class="cm-keyword">static_cast</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&amp;&gt;</span>(<span class="cm-variable">crval</span>); <span class="cm-comment">//错误：static_cast无法丢掉常量或其他类型限定符</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">double</span> <span class="cm-variable">fval</span> <span class="cm-operator">=</span> <span class="cm-number">3.2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">double*</span> <span class="cm-variable">pfval</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">fval</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-variable">pint</span> <span class="cm-operator">=</span> <span class="cm-keyword">const_cast</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int*</span><span class="cm-operator">&gt;</span>(<span class="cm-variable">fval</span>); &nbsp;<span class="cm-comment">//错误：const_cast 只能调节类型限定符；不能更改基础类型</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 370px;"></div><div class="CodeMirror-gutters" style="display: none; height: 370px;"></div></div></div></pre><p><strong><code>reinterpret_cast</code></strong></p><p><code>reinterpret_cast</code><span>通常为运算对象的位模式提供较低层次上的重新解释。使用</span><code>reinterpret_cast</code><span>是十分危险的行为。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-variable">ip</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char*</span> <span class="cm-variable">pc</span> <span class="cm-operator">=</span> <span class="cm-keyword">reinterpret_cast</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">char*</span><span class="cm-operator">&gt;</span>(<span class="cm-variable">ip</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><h4><a name="旧式的强制类型转换" class="md-header-anchor"></a><span>旧式的强制类型转换</span></h4><p><span>旧式的强制类型转换包含两种形式：</span></p><p><code>type (expr)</code><span>和</span><code>(type) expr</code></p><p><span>根据所涉及的类型不同，旧式的强制类型转换分别具有与</span><code>static_cast</code><span>,</span><code>const_cast</code><span>,</span><code>reinterpret_cast</code><span>相似的行为。</span></p><p><span>如果替换为</span><code>static_cast</code><span>或</span><code>const_cast</code><span>合法，则其行为与对应的命名转换一致。如果不合法，则执行与</span><code>reinterpret_cast</code><span>类似的功能。</span></p><h2><a name="span-id13字面值常量13-字面值常量span" class="md-header-anchor"></a><span id="1.3字面值常量"><strong><span>1.3 字面值常量</span></strong></span></h2><h3><a name="span-id整型字面值及类型整型字面值及类型span" class="md-header-anchor"></a><span id="整型字面值及类型"><span>整型字面值及类型</span></span></h3><p><strong><span>整型字面值分为十进制数，八进制数或十六进制数</span></strong><span>。</span></p><p><strong><span>以</span><code>0</code><span>开头的整数代表8进制数，以</span><code>0x</code><span>或</span><code>0X</code><span>开头的整数代表16进制数。</span></strong><span>因此，为了表示十进制中的20，可以采用如下方法。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">20</span><span class="cm-comment">/*dec*/</span> &nbsp; &nbsp;<span class="cm-number">024</span><span class="cm-comment">/*oct*/</span> &nbsp; &nbsp;<span class="cm-number">0x14</span><span class="cm-comment">/*hec*/</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><strong><span>注意：</span><code>-</code><span>不是字面值（例如</span><code>int x = -23;</code><span>），它的作用仅是对字面值取负。</span></strong></p><p><span>字面值类型是能容纳其数值的</span><code>int</code><span>,</span><code>unsigned int</code><span>,</span><code>long</code><span>,</span><code>unsigned long</code><span>,</span><code>long long</code><span>,</span><code>unsigned long long</code><span>中的最小的一个。</span><font face="Consola" size = 2 color=red><span> 和《C++Primer》有出入！</span></font></p><blockquote><p><span>在Visual Studio中，如果有：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">-</span><span class="cm-number">4294967290</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><span>这样类似的写法，编译器会报错：error C4146: 一元负运算符应用于无符号类型，结果仍为无符号类型。</span></p><p><span>原因：当字面值为4294967290时，编译器发现</span><code>int</code><span>类型无法容纳，则决定使用</span><code>unsigned int</code><span>（实际上Visual Studio 使用</span><code>unsigned long</code><span>）容纳。因此出现了一元负运算符应用于无符号类型的错误。</span></p></blockquote><h3><a name="span-id浮点型字面值及类型浮点型字面值及类型span" class="md-header-anchor"></a><span id="浮点型字面值及类型"><span>浮点型字面值及类型</span></span></h3><p><strong><span>所有浮点型字面值的默认类型为</span><code>double</code><span>。</span></strong></p><p><strong><span>小数型字面值</span></strong></p><p><span>下面均是可行的形式：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">3.14159</span> &nbsp; .<span class="cm-number">1234</span><span class="cm-comment">/*0.1234*/</span> &nbsp; &nbsp;<span class="cm-number">34.</span><span class="cm-comment">/*34.0*/</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><strong><span>科学计数法</span></strong><span>使用</span><code>E</code><span>或</span><code>e</code><span>表示指数部分。</span></p><p><span>下面均是可行的形式：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-number">0.314159E1</span> &nbsp; &nbsp;<span class="cm-number">3e1</span> &nbsp; &nbsp;<span class="cm-number">0E0</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><h3><a name="span-id字符字符串字面值及类型字符字符串字面值及类型span" class="md-header-anchor"></a><span id="字符、字符串字面值及类型"><span>字符、字符串字面值及类型</span></span></h3><p><strong><span>由单引号括起来的一个字符称为</span><code>char</code><span>型字面型。</span></strong></p><p><strong><span>由双引号括起来的零个或多个字符构成字符串型字面值。</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">'a'</span> &nbsp; &nbsp;<span class="cm-string">'b'</span> &nbsp; &nbsp;<span class="cm-string">' '</span> <span class="cm-comment">//char</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string">"Hello World."</span> &nbsp; &nbsp; &nbsp;<span class="cm-string">""</span> <span class="cm-comment">//字符串</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><strong><span>字符串字面值实际上是由常量字符构成的数组</span></strong><span>（VS中为</span><code>const char[]</code><span>），编译器在每个字符串的结尾处添加一个空字符</span><code>&#39;\0&#39;</code><span>,因此，</span><strong><span>字符串字面值的实际长度比它的内容多1</span></strong><span>。</span></p><h3><a name="span-id布尔字面值和指针字面值布尔字面值和指针字面值span" class="md-header-anchor"></a><span id="布尔字面值和指针字面值"><span>布尔字面值和指针字面值</span></span></h3><p><code>true</code><span>和</span><code>false</code><span>是</span><code>bool</code><span>类型的字面值。</span></p><p><code>nullptr</code><span>是指针字面值。</span><a href='#空指针'><span>空指针</span></a></p><h3><a name="span-id转义序列转义序列span" class="md-header-anchor"></a><span id="转义序列"><span>转义序列</span></span></h3><p><span>有些在C++语言中有特殊含义的字符（比如单引号、双引号）不能直接在字符（串）字面值中使用。在这些情况下需要使用</span><strong><span>转义序列</span></strong><span>。</span></p><p><span>常见的转义序列：</span></p><figure><table><thead><tr><th style='text-align:center;' ><span>字符字面值不可使用</span></th><th style='text-align:center;' ><span>字符串字面值不可使用</span></th><th style='text-align:center;' ><span>有特殊含义</span></th><th style='text-align:center;' ><span>其他</span></th></tr></thead><tbody><tr><td style='text-align:center;' ><code>\\</code><span> 反斜线</span></td><td style='text-align:center;' ><code>\\</code><span> 反斜线</span></td><td style='text-align:center;' ><code>\n</code><span> 换行符</span></td><td style='text-align:center;' ><code>\?</code><span> 问号</span></td></tr><tr><td style='text-align:center;' ><code>\&#39;</code><span> 单引号</span></td><td style='text-align:center;' ><code>\&quot;</code><span>双引号</span></td><td style='text-align:center;' ><code>\r</code><span> 回车符</span></td><td style='text-align:center;' >&nbsp;</td></tr><tr><td style='text-align:center;' >&nbsp;</td><td style='text-align:center;' >&nbsp;</td><td style='text-align:center;' ><code>\t</code><span> 横向制表符</span></td><td style='text-align:center;' >&nbsp;</td></tr><tr><td style='text-align:center;' >&nbsp;</td><td style='text-align:center;' >&nbsp;</td><td style='text-align:center;' ><code>\b</code><span> 退格符</span></td><td style='text-align:center;' >&nbsp;</td></tr><tr><td style='text-align:center;' >&nbsp;</td><td style='text-align:center;' >&nbsp;</td><td style='text-align:center;' ><code>\a</code><span> 报警（响铃）符</span></td><td style='text-align:center;' >&nbsp;</td></tr></tbody></table></figure><p><span>泛化的转义序列</span></p><p><span>泛化的转义字符的形式是</span><code>\x</code><span>后面跟着一位或多位十六进制字符，或者</span><code>\</code><span>后面跟着1位、2位或3位八进制数。</span></p><blockquote><p><span>在Visual Studio中，十六进制数最多识别四位，八进制数最多识别三位，并且只要连续，会连续识别直到达到最大的位数。</span></p><p><span>如果十六进制数或八进制数太大，编译器会报错。</span></p><p><font face="Consola" size = 2 color=red><span> 和《C++Primer》有出入！</span></font></p></blockquote><h3><a name="span-id指定字面值的类型指定字面值的类型span" class="md-header-anchor"></a><span id="指定字面值的类型"><span>指定字面值的类型</span></span></h3><figure><table><thead><tr><th><span>前缀</span></th><th><span>含义</span></th><th><span>类型</span></th></tr></thead><tbody><tr><td><code>u</code></td><td><span>Unicode 16 字符</span></td><td><code>char16_t</code><span>    (VS中的</span><code>cout &lt;&lt;</code><span>转换为</span><code>int</code><span>)</span></td></tr><tr><td><code>U</code></td><td><span>Unicode 32 字符</span></td><td><code>char32_t</code><span>    (VS中的</span><code>cout &lt;&lt;</code><span>转换为</span><code>`unisgned int</code><span>)</span></td></tr><tr><td><code>L</code></td><td><span>宽字符</span></td><td><code>wchar_t</code><span>       (VS中的</span><code>cout &lt;&lt;</code><span>转换为</span><code>int</code><span>)`</span></td></tr><tr><td><code>u8</code></td><td><span>UTF-8</span></td><td><code>char</code></td></tr></tbody></table></figure><p><strong><span>浮点型字面值</span></strong></p><figure><table><thead><tr><th><span>后缀</span></th><th><span>类型</span></th></tr></thead><tbody><tr><td><code>f</code><span>或</span><code>F</code></td><td><code>float</code></td></tr><tr><td><code>l</code><span>或</span><code>L</code></td><td><code>double</code></td></tr></tbody></table></figure><p><strong><span>整型字面值</span></strong></p><figure><table><thead><tr><th><span>后缀</span></th><th><span>最小匹配类型</span></th></tr></thead><tbody><tr><td><code>u</code><span>或</span><code>U</code></td><td><code>unsigned</code></td></tr><tr><td><code>l</code><span>或</span><code>L</code></td><td><code>long</code></td></tr><tr><td><code>ll</code><span>或</span><code>LL</code></td><td><code>long long</code></td></tr></tbody></table></figure><blockquote><p><span>整型字面值后缀</span><code>u</code><span>可以和另外两个合在一起使用。比如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">unsigned</span> <span class="cm-variable-3">long</span> <span class="cm-variable-3">long</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">12ULL</span>, <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-number">12LLu</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><span>如果字面值大于后缀最小匹配类型，C++会自动寻找更大的可以容纳的类型。</span></p></blockquote><h2><a name="span-id14变量14-变量span" class="md-header-anchor"></a><span id="1.4变量"><strong><span>1.4 变量</span></strong></span></h2><h3><a name="span-id变量定义变量定义span" class="md-header-anchor"></a><span id="变量定义"><span>变量定义</span></span></h3><p><span>变量定义的基本形式是：首先是</span><strong><span>类型说明符</span></strong><span>，随后紧跟有</span><strong><span>一个或多个变量名组成的列表</span></strong><span>，其中变量名以逗号分隔，最后以分号结束。列表中每个变量名的类型都</span><strong><span>由类型说明符</span></strong><span>指定。</span></p><h3><a name="span-id初始化初始化span" class="md-header-anchor"></a><span id="初始化"><span>初始化</span></span></h3><h4><a name="span-id初始化与赋值初始化与赋值span" class="md-header-anchor"></a><span id="初始化与赋值"><span>初始化与赋值</span></span></h4><p><span>当对象在创建时获得了一个特定的值，我们说这个对象被</span><strong><span>初始化</span></strong><span>了，在同一条定义语句中，可以用先定义的变量值初始化后定义的其他变量。</span></p><p><span>在C++语言中，初始化和赋值是两个完全不同的操作。</span><strong><span>初始化的含义是创建变量时赋予其一个初始值</span></strong><span>，而</span><strong><span>赋值的含义是把对象当前的值擦除，而以一个新的值来代替</span></strong><span>。</span></p><h4><a name="span-id初始化的形式初始化的形式span" class="md-header-anchor"></a><span id="初始化的形式"><span>初始化的形式</span></span></h4><p><span>C++语言定义了初始化的好几种不同形式。以下四条语句均可以做到这一点：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 11.9958px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">y</span> <span class="cm-operator">=</span> { <span class="cm-number">3</span> };</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-def">z</span>(<span class="cm-number">0</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">m</span>{ <span class="cm-number">3</span> };</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 83px;"></div><div class="CodeMirror-gutters" style="display: none; height: 83px;"></div></div></div></pre><p><span>后文有关于这些初始化的详细描述。</span></p><h5><a name="span-id列表初始化列表初始化span" class="md-header-anchor"></a><span id="列表初始化"><span>列表初始化</span></span></h5><p><span>用花括号</span><code>{}</code><span>来初始化变量的形式被称为</span><strong><span>列表初始化</span></strong><span>。</span></p><p><span>使用内置类型的变量时，列表初始化有一个重要的特点：</span><strong><span>如果初始值存在丢失信息的风险，则编译器将报错</span></strong><span>。</span></p><h4><a name="span-id默认初始化默认初始化span" class="md-header-anchor"></a><span id="默认初始化"><span>默认初始化</span></span></h4><p><span>如果定义变量时没有指定初值，则变量被</span><strong><span>默认初始化。</span></strong></p><p><strong><span>内置类型</span></strong></p><p><span>如果内置类型没有显式初始化，它的值由定义的为hi决定。</span><strong><span>定义域任何函数体之外的变量被初始化为0</span></strong><span>.</span><strong><span>定义在函数体内部的内置类型变量将不被初始化</span></strong><span>。试图访问此类值将会引发错误。</span></p><blockquote><p><span>error C4700: 使用了未初始化的局部变量。</span></p></blockquote><p><strong><span>类</span></strong></p><p><span>每个类各自决定初始化对象的方式。</span></p><p><strong><code>string</code><span>类</span></strong></p><p><code>string</code><span>类规定如果没有指定初值则生成一个空串。</span></p><blockquote><p><span>在Visual Studio中，没有显式构造函数的类在函数体内部定义但不初始化，试图访问此类值时不会编译报错，</span><strong><span>但这些变量并没有被初始化为0</span></strong><span>，在函数体外部定义则按照各自的类型默认初始化为0。</span></p><p><code>char[]</code><span>型字符串在函数体内部定义但不初始化，试图访问此类值时不会编译报错，但</span><strong><span>每个字符也没有被初始化为0</span></strong><span>。在函数体外部定义则初始化为0。</span></p></blockquote><h3><a name="span-id变量声明与定义的关系extern关键字）变量声明与定义的关系extern关键字）span" class="md-header-anchor"></a><span id="变量声明与定义的关系（extern关键字）"><span>变量声明与定义的关系（</span><code>extern</code><span>关键字）</span></span></h3><p><span>C++语言支持分离式编译机制，如果将程序分为多个文件，则需要有在文件间共享代码的方法。</span><a href='#11.2分离式编译'><span>11.2分离式编译</span></a></p><p><span>为了支持分离式编译，C++语言将声明和定义区分开。</span><strong><span>声明使得名字被程序所知，一个文件如果想使用别处定义的名字则必须包含对那个名字的声明。定义负责创建与名字关联的实体。</span></strong></p><p><span>如果想声明一个变量而非定义它，在变量名前加关键字</span><code>extern</code><span>，而不要显式地初始化变量。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">extern</span> <span class="cm-variable-3">int</span> <span class="cm-variable">x</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><span>任何在函数体外部包含显式初始化的声明即成为定义。在函数体内部如果试图初始化一个由</span><code>extern</code><span>关键字标记的变量，将引发错误。</span></p><blockquote><p><span>error C2205: 不能对带有块范围的外部变量进行初始化。</span></p></blockquote><p><span>变量在一个工程中只能被定义一次（函数体内部的局部变量除外），但是可以被多次声明。多次定义将出现链接错误。</span></p><blockquote><p><span>fatal error LNK1169: 找到一个或多个多重定义的符号。</span></p></blockquote><h3><a name="span-id标识符标识符span" class="md-header-anchor"></a><span id="标识符"><span>标识符</span></span></h3><p><span>C++的标识符由字母、数字和下划线组成。</span><strong><span>必须以字母或下划线开头</span></strong><span>。标识符对长度没有限制，但</span><strong><span>对大小写敏感</span></strong><span>。</span></p><p><span>C++语言保留了一些名字供语言本身使用（</span><strong><span>C++关键字</span></strong><span>和</span><strong><span>C++操作符替代名</span></strong><span>），这些名字不能被用作标识符。</span></p><p><a href='#11.3C++操作符替代名'><span>11.3C++操作符替代名</span></a></p><p><span>C++为标准库保留了一些名字,用户自定义的标识符不能连续出现两个下划线,也不能以下划线紧连大写字母开头．定义在函数体外的标识符不能以下划线开头。</span></p><blockquote><p><span>在Visual Studio中没有出现编译错误或运行错误。</span></p></blockquote><h3><a name="span-id变量命名规范变量命名规范span" class="md-header-anchor"></a><span id="变量命名规范"><span>变量命名规范</span></span></h3><ul><li><span>标识符要能体现实际含义。</span></li><li><span>变量名一般用小写字母，如果由多个单词组成，则单词间应有明显区分。如</span><code>index</code><span>,</span><code>student_id</code><span>,</span><code>strdentLoan</code><span>。</span></li><li><span>用户自定义的类名一般以大写字母开头。</span></li></ul><h2><a name="span-id15复合类型15-复合类型span" class="md-header-anchor"></a><span id="1.5复合类型"><strong><span>1.5 复合类型</span></strong></span></h2><h3><a name="span-id引用引用span" class="md-header-anchor"></a><span id="引用"><span>引用</span></span></h3><p><span>引用为对象另起了一个名字，引用类型引用另外一种类型。通过将</span><strong><span>声明符</span></strong><span>写成</span><code>&amp;name</code><span>的形式来定义引用类型。</span></p><p><span>允许在一条语句中定义多个引用，其中</span><strong><span>每个引用标识符都必须以符号</span><code>&amp;</code><span>开头</span></strong><span>。</span><a href='#理解复合类型的声明'><span>理解复合类型的声明</span></a></p><p><span>绝大多数情况下，</span><strong><span>引用的类型都需要和与之绑定的对象严格匹配</span></strong><span>。例外：</span><a href='#const与引用'><span>const与引用</span></a><span>。</span></p><p><strong><span>引用只能绑定在对象上，而不能与某个字面值或某个表达式的计算结果绑定在一起。</span></strong></p><p><strong><span>定义引用时，程序把引用和它的初始值绑定在一起</span></strong><span>。而不是将初始值拷贝给引用。一旦初始化完成，引用将和它的初始值对象一直绑定在一起引用指向的变量地址将不能再改变。</span><strong><span>因为无法令引用重新绑定到另外一个对象，因此引用必须初始化</span></strong><span>。</span></p><p><span>由于引用本身不是对象，所以不能定义引用的引用。</span></p><blockquote><p><strong><font color = red><span> 区分引用初始化与赋值</span></font></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>, <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span><span class="cm-operator">&amp;</span> <span class="cm-variable">p</span> <span class="cm-operator">=</span> <span class="cm-variable">x</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">x</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">y</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">p</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">&amp;</span><span class="cm-variable">x</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">&amp;</span><span class="cm-variable">y</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">&amp;</span><span class="cm-variable">p</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">p</span> <span class="cm-operator">=</span> <span class="cm-variable">y</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">x</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">y</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">p</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">&amp;</span><span class="cm-variable">x</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">&amp;</span><span class="cm-variable">y</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">&amp;</span><span class="cm-variable">p</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 214px;"></div><div class="CodeMirror-gutters" style="display: none; height: 214px;"></div></div></div></pre><p><code>int &amp;p = x</code><span>是引用的初始化，它的含义是将</span><code>p</code><span>与</span><code>x</code><span>绑定在一起，</span><code>p</code><span>相当于</span><code>x</code><span>的一个别名。</span></p><p><code>p = y</code><span>是将</span><code>y</code><span>的值赋给</span><code>p</code><span>指向的内存，也就是赋给变量</span><code>x</code><span>。</span></p><p><span>因此将代码运行，将得到：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">3 4 3</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">003CFA24 003CFA18 003CFA24</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">4 4 4</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">003CFA24 003CFA18 003CFA24</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre><p><span>即</span><code>p</code><span>指向的地址没有发生变化，但该地址的值发生变化。</span></p></blockquote><h3><a name="span-id指针指针span" class="md-header-anchor"></a><span id="指针"><span>指针</span></span></h3><h4><a name="span-id指针的使用指针的使用span" class="md-header-anchor"></a><span id="指针的使用"><span>指针的使用</span></span></h4><p><span>指针是指向另外一种类型的复合类型。指针和引用都实现了对对象的间接访问，然而指针与引用相比又有很多不同点。第一，指针本身是一个对象，允许对指针赋值和拷贝，而且在指针的生命周期内它可以先后指向几个不同的对象。第二，指针无需再定义时初始化，和其他内置类型一样，在块作用域中定义的指针如果没有被初始化，将拥有一个不确定的值。</span></p><p><strong><span>绝大多数情况下，所有指针的类型都要和它所指向的对象严格匹配。</span></strong><span>例外：</span><a href='#const和指针'><span>const和指针</span></a></p><ul><li><span>定义指针的方法是将声明符写成</span><code>*name</code><span>的形式，如果在一条语句中定义了几个指针变量，</span><strong><span>每个变量前都需要有符号</span><code>*</code></strong><span>。</span><a href='#理解复合类型的声明'><span>理解复合类型的声明</span></a></li><li><span>指针存放某个对象的地址，要想获取该地址，需要使用取地址符</span><code>&amp;</code><span>。</span></li><li><span>如果指针指向了一个对象，则允许使用解引用符</span><code>*</code><span>来访问该对象。对对象解引用会得出所指的对象，因此如果给解引用的结果赋值，实际上是给指针所指的对象赋值。</span></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-variable">pval</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">val</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">*</span><span class="cm-variable">pval</span> <span class="cm-operator">=</span> <span class="cm-number">5</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">val</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">*</span><span class="cm-variable">pval</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre><p><span>由于引用本身不是对象，其本身并没有对应的地址，对引用取地址将得到与其绑定的对象的地址，因此无法定义指向引用的指针。</span></p><h4><a name="span-id空指针空指针span" class="md-header-anchor"></a><span id="空指针"><span>空指针</span></span></h4><p><span>空指针不指向任何对象，下面语句都可以生成一个空指针。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-variable">p1</span> <span class="cm-operator">=</span> <span class="cm-variable">NULL</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-variable">p2</span> <span class="cm-operator">=</span> <span class="cm-keyword">nullptr</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-variable">p3</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><p><span id="nullptr"><span> </span></span><code>nullptr</code><span>是一种特殊类型的字面值，它可以被转换成任意其他类型的指针。</span><a href='#1.2类型转换'><span>1.2类型转换</span></a></p><p><code>NULL</code><span>是预处理变量，它的值就是0。但是不能将</span><code>int</code><span>变量直接赋给指针，即使</span><code>int</code><span>变量的值恰好为0。</span><a href='#11.5预处理器'><span>11.5预处理器</span></a></p><h4><a name="span-id关于指针的操作关于指针的操作span" class="md-header-anchor"></a><span id="关于指针的操作"><span>关于指针的操作</span></span></h4><p><strong><span>条件表达式</span></strong></p><p><span>只要指针拥有一个合法值，就能将他用在条件表达式，转换原则和算数值作为条件的规则类似，即0-false， 1-true。</span><a href='#1.2类型转换'><span>1.2类型转换</span></a></p><p><strong><span>比较</span></strong></p><p><span>对于两个类型相同的指针，可以用相等操作符</span><code>==</code><span>和不相等操作符</span><code>!=</code><span>来比较，如果两个指针存放的地址值相同，则它们相同，结果是</span><code>true</code><span>，如果不相同，结果为</span><code>false</code><span>。</span></p><h4><a name="span-idvoid指针void指针span" class="md-header-anchor"></a><span id="void指针"><code>void*</code><span>指针</span></span></h4><p><code>void*</code><span>指针是一种特殊的指针类型，可以存放任意对象的地址。</span></p><h4><a name="span-id指向指针的指针指向指针的指针span" class="md-header-anchor"></a><span id="指向指针的指针"><span>指向指针的指针</span></span></h4><p><span>通过</span><code>*</code><span>的个数可以区分指针的级别。</span><code>**</code><span>表示指向指针的指针，</span><code>***</code><span>表示指向 指向指针的指针 的指针。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">ival</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable-3">*</span><span class="cm-variable">pi</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">ival</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable-3">**</span><span class="cm-variable">ppi</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">pi</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><h3><a name="span-id理解复合类型的声明理解复合类型的声明span" class="md-header-anchor"></a><span id="理解复合类型的声明"><span>理解复合类型的声明</span></span></h3><p><span>变量的定义包括一个</span><strong><span>基本数据类型</span></strong><span>和</span><strong><span>一组声明符</span></strong><span>。</span><strong><span>在同一条定义语句中，虽然基本数据类型只有一个，但是声明符的形式可以不同。因此一条定义语句可能定义出不同类型的变量。</span></strong></p><p><span>例如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">1024</span>, <span class="cm-operator">*</span><span class="cm-variable">ptr</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">i</span>, <span class="cm-operator">&amp;</span><span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-variable">i</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//i是int型的变量，ptr是一个指针，r是一个int型引用。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><h4><a name="span-id指向指针的引用两种修饰符混用）指向指针的引用两种修饰符混用）span" class="md-header-anchor"></a><span id="指向指针的引用（两种修饰符混用）"><span>指向指针的引用（两种修饰符混用）</span></span></h4><p><span>存在对指针的引用。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">ival</span> <span class="cm-operator">=</span> <span class="cm-number">1024</span>; <span class="cm-comment">//int型变量</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">kval</span> <span class="cm-operator">=</span> <span class="cm-number">2048</span>; <span class="cm-comment">//int型变量</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-variable">pi</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">ival</span>; <span class="cm-comment">//int型指针，指向ival</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span><span class="cm-operator">&amp;</span> <span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-variable">pi</span>; &nbsp; &nbsp;<span class="cm-comment">//r引用了一个指针，因此r和pi是一个对象的两个不同的名字</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">kval</span>; &nbsp; &nbsp; &nbsp; <span class="cm-comment">//给r赋值就是给pi赋值，因此pi是指向kval的指针</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">*</span><span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-number">128</span>; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//对r解引用就是对pi解引用。所以现在kval的值为128</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 175px;"></div><div class="CodeMirror-gutters" style="display: none; height: 175px;"></div></div></div></pre><p><span>面对一个比较复杂的指针或者引用的声明语句，从右向左阅读修饰符有助于理解真实含义。</span></p><blockquote><p><span>在语句</span><code>int*&amp; r = pi;</code><span>中，</span><code>r</code><span>的第一个修饰符是</span><code>&amp;</code><span>，说明</span><code>r</code><span>是一个引用。之后是</span><code>*</code><span>说明引用的类型是一个指针。</span></p><p><span>类似的，可以定义指向指针的指针的引用。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-variable">px</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">x</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int**</span> <span class="cm-variable">ppx</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">px</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int**</span><span class="cm-operator">&amp;</span> <span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-variable">ppx</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre></blockquote><h2><a name="span-id16const限定符16-const限定符span" class="md-header-anchor"></a><span id="1.6const限定符"><strong><span>1.6 </span><code>const</code><span>限定符</span></strong></span></h2><h3><a name="span-idconst常量const常量span" class="md-header-anchor"></a><span id="const常量"><code>const</code><span>常量</span></span></h3><p><span>如果我们希望定义这样一种变量，它的值不能被改变，可以使用关键字</span><code>const</code><span>对变量的类型加以限定。如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++ "><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++ "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">bufSize</span> <span class="cm-operator">=</span> <span class="cm-number">512</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><span>因为</span><code>const</code><span>常量一旦创建后其值就不能再改变，因此</span><strong><code>const</code><span>变量必须初始化</span></strong><span>。</span></p><p><span>与非</span><code>const</code><span>相比，</span><code>const</code><span>类型的对象能完成其中大部分操作（如对另一个对象赋值，输出对象的值），除了改变其内容的操作（如赋值）。任何试图改变其内容的操作都将引发错误。</span></p><h3><a name="span-idconst对象的有效范围const对象的有效范围span" class="md-header-anchor"></a><span id="const对象的有效范围"><code>const</code><span>对象的有效范围</span></span></h3><p><span>当以编译时初始化的方式定义一个</span><code>const</code><span>对象时，编译器再编译过程中会把用到该变量的地方都替换成对应的值。为了执行上述操作，编译器必须知道变量的初始值。如果程序包含多个文件，则每个用了</span><code>const</code><span>对象的文件都必须能访问到它的初始值。这使得每个文件都要有对该对象的定义。参考变量声明与定义的关系。因此，默认情况下，</span><strong><code>const</code><span>对象被设定为仅在当前文件内有效（即使它们都具有全局作用域）</span></strong><span>。</span><a href='#变量声明与定义的关系（extern关键字）'><span>变量声明与定义的关系（extern关键字）</span></a></p><p><span>如果一个</span><code>const</code><span>对象需要在多个文件中使用，需要添加</span><code>extern</code><span>关键字。</span><a href='#变量声明与定义的关系（extern关键字）'><span>变量声明与定义的关系（extern关键字）</span></a><span>通常的做法是：</span><strong><span>对于</span><code>const</code><span>变量，不管是声明还是定义，都添加</span><code>extern</code><span>关键字，这样只需要定义一次就可以了。</span></strong></p><h3><a name="span-idconst与引用const与引用span" class="md-header-anchor"></a><span id="const与引用"><code>const</code><span>与引用</span></span></h3><p><span>形如</span><code>const int r = &amp;x;</code><span>形式的引用被称为</span><strong><span>对</span><code>const</code><span>的引用</span></strong><span>，也称为</span><strong><span>常量引用</span></strong><span>。</span></p><p><span>将（对</span><code>const</code><span>的）引用绑定在被</span><code>const</code><span>限定符限定的对象上被称为</span><strong><span>对常量的引用</span></strong><span>。</span></p><p><strong><span>只有对</span><code>const</code><span>的引用可以引用</span><code>const</code><span>常量；对</span><code>const</code><span>的引用则可能引用一个并非</span><code>const</code><span>的对象。</span></strong></p><blockquote><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">cival</span> <span class="cm-operator">=</span> <span class="cm-number">12</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span><span class="cm-operator">&amp;</span> <span class="cm-variable">r1</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">cival</span>;<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//错误</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span><span class="cm-operator">&amp;</span> <span class="cm-variable">r2</span> <span class="cm-operator">=</span> <span class="cm-variable">cival</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//正确</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">ival</span> <span class="cm-operator">=</span> <span class="cm-number">123</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span><span class="cm-operator">&amp;</span> <span class="cm-variable">r3</span> <span class="cm-operator">=</span> <span class="cm-variable">ival</span>;<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">//正确</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 102px;"></div><div class="CodeMirror-gutters" style="display: none; height: 102px;"></div></div></div></pre><p><span>对常量的引用必须使用对</span><code>const</code><span>的引用，使用一般的引用不合法。（如果合法，则可以通过引用改变常量的值，这违背了常量不可被改变的性质）。</span></p><p><span>对</span><code>const</code><span>的引用可以引用常量，也可以引用变量。不同的是，</span><strong><span>如果使用将对</span><code>const</code><span>的引用绑定到变量上，则不能通过引用改变变量的值，变量的值仍可以通过其他的途径更改</span></strong><span>（如对被绑定的对象直接赋值）。</span></p></blockquote><h4><a name="span-id常量引用的初始化常量引用的初始化span" class="md-header-anchor"></a><span id="常量引用的初始化"><span>常量引用的初始化</span></span></h4><p><span>在初始化常量引用时允许使用任意表达式作为初始值，只要该表达式的结果能转换成引用的类型即可。</span><a href='#1.2类型转换'><span>1.2类型转换</span></a><span>。因此，</span><strong><span>允许为一个常量引用绑定字面值，甚至是一个一般表达式。</span></strong><span>例如:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-operator">&amp;</span><span class="cm-variable">r2</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-operator">&amp;</span><span class="cm-variable">r3</span> <span class="cm-operator">=</span> <span class="cm-number">3.12</span> <span class="cm-operator">*</span> <span class="cm-number">3</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-operator">&amp;</span><span class="cm-variable">r4</span> <span class="cm-operator">=</span> <span class="cm-variable">min</span>(<span class="cm-string">'a'</span>, <span class="cm-string">'5'</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><p><span>在这种情况下，</span><strong><span>这些引用绑定了一个临时量</span></strong><span>。所谓临时量就是当编译器需要一个空间来暂存表达式的求值结果时临时创建的一个未命名的对象。</span></p><blockquote><p><span>运行代码:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">double</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">3.2</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span><span class="cm-operator">&amp;</span> <span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-variable">x</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">double</span><span class="cm-operator">&amp;</span> <span class="cm-variable">rx</span> <span class="cm-operator">=</span> <span class="cm-variable">x</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">x</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">r</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">rx</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">&amp;</span><span class="cm-variable">x</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">&amp;</span><span class="cm-variable">r</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">&amp;</span><span class="cm-variable">rx</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 136px;"></div><div class="CodeMirror-gutters" style="display: none; height: 136px;"></div></div></div></pre><p><span>得到：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">3.2 3 3.2</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">0076FD18 0076FD00 0076FD18</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><span>当引用的类型和其所引用的对象类型不一致时，引用实际指向的是临时量所在的内存。</span></p><p><span>因此，</span><code>cosnt int&amp; r = x;</code><span>实际上和如下的代码是等价的：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">temp</span> <span class="cm-operator">=</span> <span class="cm-variable">x</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span><span class="cm-operator">&amp;</span> <span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-variable">temp</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre></blockquote><h3><a name="span-idconst和指针const和指针span" class="md-header-anchor"></a><span id="const和指针"><code>const</code><span>和指针</span></span></h3><ul><li><span>形如</span><code>const int* ptr = &amp;val;</code><span>形式的指针被称作</span><strong><span>指向常量的指针(pointer to const)</span></strong><span>。</span></li><li><span>形如</span><code>int *const curErr = &amp;errNumb</code><span>形式的指针被称为</span><strong><span>常量指针(const pointer)</span></strong><span>。</span></li></ul><p><span>和引用类似：</span><strong><span>指向常量的指针(pointer to const)可以指向常量，也可以指向变量，但常量只能由指向常量的指针(pointer to const)指向。并且指向变量的指向常量的指针(pointer to const)不能修改变量的值，但仍可以通过其他途径修改。</span></strong></p><p><strong><span>指针本身是一个对象，它又可以指向另一个对象。因此，指针本身是不是常量和指针所指的是不是一个常量就是两个相互独立的问题。</span></strong><span>用名词</span><strong><span>顶层</span><code>const</code></strong><span>来表示指针本身是个常量，用名词</span><strong><span>底层</span><code>const</code></strong><span>来表示指针所指的对象是一个常量。</span><a href='#顶层const与底层const'><span>顶层const与底层const</span></a></p><blockquote><p><strong><font color = red><span> 区别指向常量的指针(pointer to const)和常量指针(const pointer)</span></font></strong></p><p><span>指向常量的指针(pointer to const)的一般格式是</span><code>const type-name * name</code><span>，是指这个指针指向的对象是一个</span><code>const</code><span>常量，但是指针（作为一个对象）本身不是常量，它还可以通过赋值等操作指向其他对象。</span></p><p><span>常量指针(const pointer)的一般格式是</span><code>type-name *const name</code><span>，它指向</span><code>type-name</code><span>对应的对象（不一定是常量），这个指针（作为一个对象）本身是一个常量，即，不能再改变该指针指向的对象（指针指向的地址）。</span></p><p><span>弄清楚的最好办法是从右向左读。例如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">double</span> <span class="cm-variable">pi</span> <span class="cm-operator">=</span> <span class="cm-number">3.14159</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">double</span> <span class="cm-variable-3">*</span> <span class="cm-variable">ptr_pi</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">pi</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">double</span> <span class="cm-variable-3">*</span> <span class="cm-variable-3">*</span><span class="cm-keyword">const</span> <span class="cm-variable">cp</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">ptr_pi</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre><p><code>const double* *const</code><span>首先是</span><code>const</code><span>，即cp本身是一个常量，之后是</span><code>*</code><span>，说明cp是一个常量指针，他指向</span><code>const double *</code><span>类型的对象，就是</span><code>ptr_pi</code><span>。对于</span><code>const double * ptr_pi</code><span>，从右向左第一个是</span><code>*</code><span>，即</span><code>ptr_pi</code><span>是一个指针，它指向</span><code>const double</code><span>类型的对象，即</span><code>pi</code><span>。因此</span><code>ptr_pi</code><span>是一个指向常量的指针。</span></p></blockquote><h3><a name="span-id顶层const与底层const顶层const与底层constspan" class="md-header-anchor"></a><span id="顶层const与底层const"><span>顶层</span><code>const</code><span>与底层</span><code>const</code></span></h3><p><span>一般的：</span></p><p><strong><span>顶层</span><code>const</code><span>可以表示任意的对象是常量，这一点对任何数据类型都适用，如算术类型、类、指针。</span></strong></p><p><strong><span>底层</span><code>const</code><span>则指指针和引用等复合类型的基本类型是</span><code>const</code><span>常量。</span></strong></p><ul><li><span>算数类型、类等是顶层</span><code>const</code><span>。</span></li><li><span>引用是底层</span><code>const</code><span>（由于引用一旦初始化就不能再次更改绑定的对象，因此所有引用都有</span><code>const</code><span>的性质，因此</span><code>const</code><span>修饰符特指底层</span><code>const</code><span>）。</span></li><li><span>指针既可以是顶层</span><code>cosnt</code><span>，也可以是底层</span><code>const</code><span>。</span></li><li><span>虽然算数类型、类等是顶层</span><code>cosnt</code><span>,但是对它们取地址和引用是底层</span><code>const</code><span>。对指针来说，取地址之后，原本的算术类型、类等的</span><code>const</code><span>对地址来说是底层的。地址本身并不是</span><code>const</code><span>。对引用来说，被绑定的对象是</span><code>const</code><span>的。</span></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">ci</span> <span class="cm-operator">=</span> <span class="cm-number">42</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//顶层const</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-operator">&amp;</span><span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-variable">ci</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//所有用于声明引用的const都是底层const</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable-3">*</span><span class="cm-keyword">const</span> <span class="cm-variable">p1</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">i</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//顶层const</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable-3">*</span><span class="cm-variable">p2</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">ci</span>;<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//底层const</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable-3">*</span><span class="cm-keyword">const</span> <span class="cm-variable">p3</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">ci</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//左边的const是底层const，右边的是顶层const</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 164px;"></div><div class="CodeMirror-gutters" style="display: none; height: 164px;"></div></div></div></pre><h4><a name="span-id拷贝操作与const拷贝操作与constspan" class="md-header-anchor"></a><span id="拷贝操作与const"><span>拷贝操作与</span><code>const</code></span></h4><p><span>当执行（指针）对象的拷贝操作时，顶层和底层</span><code>const</code><span>区别明显。</span></p><p><strong><span>顶层</span><code>const</code><span>：</span></strong></p><p><span>执行拷贝操作并不会改变被拷贝对象的值，因此拷出的对象是否是常量都没什么影响，但是由于顶层</span><code>const</code><span>本身不能被修改，所以拷入的对象不能是顶层</span><code>const</code><span>。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">cval</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable-3">*</span><span class="cm-variable">ptr</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">val</span>;<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//顶层const</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int*</span> <span class="cm-variable">ptrToC</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">cval</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//底层const</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable-3">*</span><span class="cm-keyword">const</span> <span class="cm-variable">cPtr</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">val</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//顶层const</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable-3">*</span><span class="cm-keyword">const</span> <span class="cm-variable">cPtrToC</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">cval</span>;<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">//顶层const，底层const</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ptrToC</span> <span class="cm-operator">=</span> <span class="cm-variable">cPtrToC</span>;<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">//正确</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cPtrToC</span> <span class="cm-operator">=</span> <span class="cm-variable">ptrToC</span>;<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">//错误</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ptr</span> <span class="cm-operator">=</span> <span class="cm-variable">cPtr</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//正确</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cPtr</span> <span class="cm-operator">=</span> <span class="cm-variable">ptr</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//错误</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 284px;"></div><div class="CodeMirror-gutters" style="display: none; height: 284px;"></div></div></div></pre><p><strong><span>底层</span><code>const</code><span>：</span></strong></p><p><span>当执行拷贝操作时，拷入拷出的对象必须具有相同的底层</span><code>const</code><span>资格，或者拷出对象的数据类型可以转换为拷入对象的数据类型（即非</span><code>const</code><span>可以向</span><code>const</code><span>转换，而</span><code>const</code><span>不可以向非</span><code>const</code><span>转换。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">cval</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-variable">ptr</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">val</span>;<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int*</span> <span class="cm-variable">ptrToC</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">cval</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-keyword">const</span> <span class="cm-variable">cPtr</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">val</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int*</span> <span class="cm-keyword">const</span> <span class="cm-variable">cPtrToC</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">cval</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ptrToC</span> <span class="cm-operator">=</span> <span class="cm-variable">cPtrToC</span>;<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//正确</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ptrToC</span> <span class="cm-operator">=</span> <span class="cm-variable">cPtr</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//正确：非const向const转换</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ptr</span> <span class="cm-operator">=</span> <span class="cm-variable">cPtrToC</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//错误：const不能向非const转换</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 223px;"></div><div class="CodeMirror-gutters" style="display: none; height: 223px;"></div></div></div></pre><blockquote><p><span>能不能相互拷贝遵循的原则是：</span><strong><span>原来可以改变的（非</span><code>const</code><span>）可以变为不可以改变的（</span><code>const</code><span>），但原本不可以改变的不可以变为可以改变的。</span></strong></p></blockquote><h3><a name="span-idconstexpr和常量表达式constexpr和常量表达式span" class="md-header-anchor"></a><span id="constexpr和常量表达式"><code>constexpr</code><span>和常量表达式</span></span></h3><h4><a name="span-id常量表达式常量表达式span" class="md-header-anchor"></a><span id="常量表达式"><span>常量表达式</span></span></h4><p><span>常量表达式是指</span><strong><span>值不会改变</span></strong><span>，并且</span><strong><span>在编译过程中就能得到计算结果</span></strong><span>的表达式。</span></p><p><span>例如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">max_files</span> <span class="cm-operator">=</span> <span class="cm-number">20</span>;<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//是常量表达式</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">limit</span> <span class="cm-operator">=</span> <span class="cm-variable">max_files</span> <span class="cm-operator">+</span> <span class="cm-number">20</span>;<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">//是常量表达式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">staff_size</span> <span class="cm-operator">=</span> <span class="cm-number">27</span>;<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//不是常量表达式</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">sz</span> <span class="cm-operator">=</span> <span class="cm-variable">get_size</span>();<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//不是常量表达式</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 161px;"></div><div class="CodeMirror-gutters" style="display: none; height: 161px;"></div></div></div></pre><p><span>尽管</span><code>staff_size</code><span>的初始值是一个字面值常量，但是由于它是普通的</span><code>int</code><span>类型，所以它的值可能会发生改变。</span></p><p><span>虽然</span><code>sz</code><span>是一个常量，但是</span><code>get_size()</code><span>的值只有在运行之后才能得到结果，所以也不是一个常量表达式。</span></p><h4><a name="span-idconstexpr变量constexpr变量span" class="md-header-anchor"></a><span id="constexpr变量"><code>constexpr</code><span>变量</span></span></h4><p><span>在一个复杂系统中，很难分辨一个初始值是不是常量表达式。因此允许将变量声明为</span><code>constexpr</code><span>类型以便由编译器来验证变量的值是不是一个常量表达式。</span></p><p><span>声明为</span><code>constexpr</code><span>的变量一定是一个常量，并且必须用常量表达式初始化，因此不能使用变量或普通的函数作为</span><code>constexpr</code><span>变量的初始值。</span></p><blockquote><p><span>在Visual Studio中运行代码：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">get_size</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-variable">x</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//···</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">number</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">constexpr</span> <span class="cm-variable-3">int</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-variable">number</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">constexpr</span> <span class="cm-variable-3">int</span> <span class="cm-variable">t</span> <span class="cm-operator">=</span> <span class="cm-variable">get_size</span>();</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 163px;"></div><div class="CodeMirror-gutters" style="display: none; height: 163px;"></div></div></div></pre><p><span>得到的错误信息为：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">error C2131: 表达式的计算结果不是常数</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">message : 因读取超过生命周期的变量而失败</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">message : 请参见“number”的用法</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">error C2131: 表达式的计算结果不是常数</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">message : 对未定义的函数或为未声明为“constexpr”的函数的调用导致了故障</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">message : 请参见“get_size”的用法</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 156px;"></div><div class="CodeMirror-gutters" style="display: none; height: 156px;"></div></div></div></pre></blockquote><h4><a name="span-id字面值类型字面值类型span" class="md-header-anchor"></a><span id="字面值类型"><span>字面值类型</span></span></h4><p><span>常量表达式的值需要在编译时就得到计算，因此声明</span><code>constexpr</code><span>时用到的类型必须有所限制。</span><strong><span>这些可用的类型被称为字面值类型</span></strong><span>。</span></p><p><strong><span>算术类型、指针、引用都属于字面值类型</span></strong><span>。自定义类、IO库、</span><code>string</code><span>类型不属于字面值类型。 </span></p><p><strong><span>指针和引用都能定义为</span><code>constexpr</code></strong><span>，但他们的初始值受到严格限制。</span><strong><span>一个</span><code>constexpr</code><span>指针的初始值必须是</span><code>nullptr</code><span>或</span><code>0</code><span>，或者是存储于某个固定地址中的对象。</span></strong></p><p><span>函数体内部定义的变量一般来说并非放在固定的地址中，所以</span><code>constexpr</code><span>指针不能指向这样的对象。</span><strong><span>定义于函数体之外的对象和函数定义的有效范围超出函数本身的变量</span></strong><span>有固定的地址，所以</span><code>constexpr</code><span>指针可以指向这样的对象，</span><code>constexpr</code><span>也可以绑定到这样的变量上。</span></p><h5><a name="span-id指针和constexpr指针和constexprspan" class="md-header-anchor"></a><span id="指针和constexpr"><span>指针和</span><code>constexpr</code></span></h5><p><span>如果在</span><code>constexpr</code><span>声明中定义了一个指针，限定符</span><code>constexpr</code><span>仅对指针有效（即把它所定义的指针置为了顶层</span><code>const</code><span>），与其他常量指针一样，</span><code>constexpr</code><span>指针既可以指向常量也可以指向变量。</span><a href='#顶层const与底层const'><span>顶层const与底层const</span></a></p><h2><a name="span-id17处理类型17-处理类型span" class="md-header-anchor"></a><span id="1.7处理类型"><strong><span>1.7 处理类型</span></strong></span></h2><h3><a name="span-id类型别名类型别名span" class="md-header-anchor"></a><span id="类型别名"><span>类型别名</span></span></h3><p><span>类型别名是一个名字，它是某种类型的同义词。使用类型别名有很多好处，它让复杂的类型名字变得简单明了、易于理解和使用，有助于程序员清楚地知道使用该类型的真实目的。</span></p><h4><a name="span-id使用typedef关键字定义类型别名使用typedef关键字定义类型别名span" class="md-header-anchor"></a><span id="使用typedef关键字定义类型别名"><span>使用</span><code>typedef</code><span>关键字定义类型别名</span></span></h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-variable-3">double</span> <span class="cm-variable">lfloat</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//lfoat和double等价</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-variable">lfloat</span> <span class="cm-variable">base</span>, <span class="cm-operator">*</span><span class="cm-variable">p</span>;<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//base和lfoat,double等价，p和*lfoat,*double等价，是指向double的指针</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-variable-3">int</span> <span class="cm-variable">arrT</span>[<span class="cm-number">10</span>];<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//arrT是int[10]的类型别名</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 141px;"></div><div class="CodeMirror-gutters" style="display: none; height: 141px;"></div></div></div></pre><p><span>关键字</span><code>typedef</code><span>作为声明语句的基本数据类型的一部分出现。含有</span><code>typedef</code><span>的声明语句定义的不再是变量而是类型别名。和以前的声明语句一样，这里的声明符也可以包含类型修饰，从而也能由基本数据类型构造出复合类型来。</span><a href='#理解复合类型的声明'><span>理解复合类型的声明</span></a><span>。理解某个类型别名真正含义的办法同样是从右向左读。</span></p><h4><a name="span-id使用别名声明定义类型别名使用别名声明定义类型别名span" class="md-header-anchor"></a><span id="使用别名声明定义类型别名"><span>使用别名声明定义类型别名</span></span></h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">using</span> <span class="cm-variable">LF</span> <span class="cm-operator">=</span> <span class="cm-variable-3">double</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">using</span> <span class="cm-variable">Cint</span> <span class="cm-operator">=</span> <span class="cm-keyword">const</span> <span class="cm-variable-3">int</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">using</span> <span class="cm-variable">arr</span> <span class="cm-operator">=</span> <span class="cm-variable-3">int</span>[<span class="cm-number">10</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">using</span> <span class="cm-variable">refer</span> <span class="cm-operator">=</span> <span class="cm-variable-3">int</span><span class="cm-operator">&amp;</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre><h4><a name="span-id指针常量和类型别名指针常量和类型别名span" class="md-header-anchor"></a><span id="指针、常量和类型别名"><span>指针、常量和类型别名</span></span></h4><blockquote><p><strong><font color = red><span> 正确理解类型别名声明语句</span></font></strong></p><p><a href='#顶层const与底层const'><span>顶层const与底层const</span></a>
<a href='#const和指针'><span>const和指针</span></a></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-variable-3">char</span> <span class="cm-variable-3">*</span><span class="cm-variable">pstring</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable">pstring</span> <span class="cm-variable">cstr</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable">pstring</span> <span class="cm-operator">*</span><span class="cm-variable">ps</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><p><span>上述两条声明语句的基本数据类型都是</span><code>const pstring</code><span>。</span><code>const</code><span>是对给定类型的修饰，</span><code>pstring</code><span>是指向</span><code>char</code><span>的指针，因此</span><code>const pstring</code><span>是指向</span><code>char</code><span>的常量指针，属于顶层</span><code>const</code><span>。</span>
<span>因此</span><code>cstr</code><span>是指向</span><code>char</code><span>的常量指针，</span><code>ps</code><span>是指向常量指针的指针。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-variable-3">char</span> <span class="cm-variable-3">*</span><span class="cm-variable">pstring</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable">pstring</span> <span class="cm-variable">cstr</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">char</span> <span class="cm-variable-3">*</span><span class="cm-variable">cstr</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><p><strong><span>在理解类型别名时，不能直接将类型别名替换成他本来的名字。</span></strong></p><p><font color=red><span>上述第二行和第三行并不等价。</span></font><span> </span><code>const char*</code><span>从右向左第一个修饰符是</span><code>*</code><span>，说明此时</span><code>cstr</code><span>是一个指针，它指向的类型是</span><code>const char</code><span>是一个常量。因此此时，</span><code>cstr</code><span>是一个指向常量的指针，属于底层</span><code>cosnt</code><span>。</span></p></blockquote><h3><a name="span-idauto类型说明符auto类型说明符span" class="md-header-anchor"></a><span id="auto类型说明符"><code>auto</code><span>类型说明符</span></span></h3><p><code>auto</code><span>说明符能让编译器分析表达式所属的类型。</span><code>auto</code><span>定义的变量必须有初始值。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">3.14</span>; &nbsp; <span class="cm-comment">//auto和double等价</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><span>使用</span><code>auto</code><strong><span>可以在一条语句中声明多个变量</span></strong><span>，因为一条声明语句只能有一个基本数据类型，</span><a href='#理解复合类型的声明'><span>理解复合类型的声明</span></a><span>，所以该语句中所有变量的初始基本数据类型必须一致。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++ "><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++ "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-operator">*</span><span class="cm-variable">p</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">i</span>; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//正确</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">size</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-variable">pi</span> <span class="cm-operator">=</span> <span class="cm-number">3.14</span>; &nbsp; <span class="cm-comment">//不正确</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><h4><a name="span-id复合类型常量和auto复合类型常量和autospan" class="md-header-anchor"></a><span id="复合类型、常量和auto"><span>复合类型、常量和</span><code>auto</code></span></h4><p><a href='#const与引用'><span>const与引用</span></a>
<a href='#const和指针'><span>const和指针</span></a>
<a href='#顶层const与底层const'><span>顶层const与底层const</span></a></p><p><span>编译器推断出来的</span><code>auto</code><span>类型有时候和初始值不完全一样，编译器会适当地改变结果使其更符合初始化规则。</span></p><ul><li><strong><span>当引用被用作</span><code>auto</code><span>的初始值时，编译器以引用对象的类型作为</span><code>auto</code><span>的类型。</span></strong></li><li><strong><code>auto</code><span>一般会忽略顶层</span><code>const</code><span>，而保留底层</span><code>const</code></strong><span>。</span></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">cval</span> <span class="cm-operator">=</span> <span class="cm-number">34</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int*</span> <span class="cm-keyword">const</span> <span class="cm-variable">pcval</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">cval</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-variable">cval</span>;  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//auto = int，忽略cval的顶层const性质</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">ptr</span> <span class="cm-operator">=</span> <span class="cm-variable">pcval</span>; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//auto = const int*，保留pcval的底层const 忽略顶层const</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">p</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">cval</span>; <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//auto = const int*，对常量取地址是底层const</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 179px;"></div><div class="CodeMirror-gutters" style="display: none; height: 179px;"></div></div></div></pre><ul><li><strong><span>如果希望推断出的类型是顶层</span><code>const</code><span>，需要明确指出。</span></strong></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-keyword">auto</span> <span class="cm-variable">cptr</span> <span class="cm-operator">=</span> <span class="cm-variable">pcval</span>; <span class="cm-comment">//cptr的类型是const int * const</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><ul><li><span>**可以将引用的类型设置为</span><code>auto</code><span>，引用的初始化在这里仍然适用。</span><a href='#常量引用的初始化'><span>常量引用的初始化</span></a></li><li><span>**设置一个类型为</span><code>auto</code><span>的引用时，初始值中的顶层</span><code>const</code><span>仍然保留。</span><a href='#顶层const与底层const'><span>顶层const与底层const</span></a></li><li><strong><span>符号</span><code>*</code><span>,</span><code>&amp;</code><span>属于某个声明符，而非基本数据类型的一部分。因此初始值必须是同一种类型。（</span><code>const int</code><span>和</span><code>int</code><span>是不同的类型）。</span><a href='#变量声明与定义的关系（extern关键字）'><span>变量声明与定义的关系（extern关键字）</span></a></strong></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">val</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">cval</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-operator">&amp;</span><span class="cm-variable">r1</span> <span class="cm-operator">=</span> <span class="cm-variable">val</span>, <span class="cm-operator">&amp;</span><span class="cm-variable">r2</span> <span class="cm-operator">=</span> <span class="cm-variable">cval</span>; &nbsp;<span class="cm-comment">//错误，val和cval属于不同的类型。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-operator">&amp;</span><span class="cm-variable">r3</span> <span class="cm-operator">=</span> <span class="cm-variable">val</span>, <span class="cm-operator">*</span><span class="cm-variable">p</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">val</span>; &nbsp; <span class="cm-comment">//正确，它们都是int类型,只是两个声明符中的修饰符不同。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 117px;"></div><div class="CodeMirror-gutters" style="display: none; height: 117px;"></div></div></div></pre><h3><a name="span-iddecltype类型指示符decltype类型指示符span" class="md-header-anchor"></a><span id="decltype类型指示符"><code>decltype</code><span>类型指示符</span></span></h3><p><span>类型说明符</span><code>decltype</code><span>的作用是选择并返回操作数的数据类类型。操作数可以是对象，也可以是表达式、函数。在此过程中，编译器只分析操作数并得到它的类型（表达式的类型，函数的返回类型，对象的类型），但是不计算表达式的值。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">cval</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-operator">&amp;</span><span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-variable">cval</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>(<span class="cm-variable">cval</span>) <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; &nbsp; &nbsp;<span class="cm-comment">//const int</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>(<span class="cm-variable">r</span>) <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-variable">x</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span> <span class="cm-comment">//const int&amp;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>(<span class="cm-variable">r</span>) <span class="cm-variable">z</span> <span class="cm-operator">=</span> <span class="cm-number">12</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span> <span class="cm-comment">//const int&amp;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>(<span class="cm-number">3.5</span> <span class="cm-operator">+</span> <span class="cm-string">'a'</span>) <span class="cm-variable">w</span> <span class="cm-operator">=</span> <span class="cm-number">3.42</span>; <span class="cm-comment">//double</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 100px;"></div><div class="CodeMirror-gutters" style="display: none; height: 100px;"></div></div></div></pre><p><span>和</span><code>auto</code><span>不同的是，</span><code>decltype</code><span>会完全保留（复制）表达式的类型，如果表达式是引用，结果就是引用；并且不会丢弃顶层</span><code>const</code><span>。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-number">32</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-operator">&amp;</span><span class="cm-variable">rval</span> <span class="cm-operator">=</span> <span class="cm-variable">val</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int*</span> <span class="cm-keyword">const</span> <span class="cm-variable">ptr</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">val</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>(<span class="cm-variable">ptr</span>) <span class="cm-variable">w</span> <span class="cm-operator">=</span> <span class="cm-keyword">nullptr</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//const int* const</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>(<span class="cm-variable">rval</span>) <span class="cm-variable">ref</span> <span class="cm-operator">=</span> <span class="cm-variable">val</span>; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//const int&amp;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><p><strong><span>使用关键词</span><code>decltype</code><span>的时候，左值和右值有所不同</span></strong></p><p><span>如果表达式的求值结果是左值，</span><code>decltype</code><span>作用域该表达式（不是变量）得到一个引用类型。</span></p><blockquote><p><span>假定</span><code>p</code><span>的类型是</span><code>int*</code><span>，因为解引用生成左值，所以</span><code>decltype(*p)</code><span>得到的结果是</span><code>int&amp;</code><span>。</span></p><p><span>假定</span><code>p</code><span>的类型是</span><code>int*</code><span>，因为取地址生成右值，所以</span><code>decltype(&amp;p)</code><span>得到的结果是</span><code>int**</code><span>。</span></p></blockquote><p><strong><span>如果</span><code>decltype</code><span>作用于一个变量</span></strong></p><p><span>如果变量名加上了一对括号，则得到的类型与不加括号会有所不同。如果作用于不加括号的变量，得到的结果就是该变量的类型。如果给变量加上一层或多层括号，编译器就会当成一个表达式，变量是一种可以作为赋值语句左值的特殊表达式，因此这时候</span><code>decltype</code><span>会得到引用类型。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>(<span class="cm-variable">i</span>) <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//int</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>((<span class="cm-variable">i</span>)) <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-variable">i</span>;<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//int&amp;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 61px;"></div><div class="CodeMirror-gutters" style="display: none; height: 61px;"></div></div></div></pre><h2><a name="span-id自定义数据结构自定义数据结构span" class="md-header-anchor"></a><span id="自定义数据结构"><span>自定义数据结构</span></span></h2><p><a href='#八、类'><span>八、类</span></a></p><h1><a name="span-id二字符串二字符串span" class="md-header-anchor"></a><span id="二、字符串"><span>二、字符串</span></span></h1><h2><a name="span-id标准库类型string标准库类型stringspan" class="md-header-anchor"></a><span id="标准库类型string"><span>标准库类型</span><code>string</code></span></h2><p><strong><span>标准库类型</span><code>string</code><span>表示可变长的字符序列</span></strong><span>。使用</span><code>string</code><span>应首先有如下声明：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 11.9958px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-meta">#include &lt;string&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-keyword">using</span> <span class="cm-variable">std::string</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><h3><a name="span-id定义和初始化string对象定义和初始化string对象span" class="md-header-anchor"></a><span id="定义和初始化string对象"><span>定义和初始化</span><code>string</code><span>对象</span></span></h3><p><span>六种初始化方式和含义：</span></p><figure><table><thead><tr><th><span>初始化方式</span></th><th><span>含义</span></th></tr></thead><tbody><tr><td><code>string s1</code></td><td><span>默认初始化，是一个空字符串</span></td></tr><tr><td><code>string s2(s1)</code></td><td><code>s2</code><span>是</span><code>s1</code><span>的副本</span></td></tr><tr><td><code>string s3 = s1</code></td><td><span>等价于第二种，</span><code>s3</code><span>是</span><code>s1</code><span>的副本</span></td></tr><tr><td><code>string s4(&quot;HelloWorld.&quot;)</code></td><td><code>s4</code><span>是字面值</span><code>&quot;HelloWorld.&quot;</code><span>的副本，除了字面值最后的那个空字符外</span></td></tr><tr><td><code>string s5 = &quot;HelloWorld.&quot;</code></td><td><span>等价于第四种，</span><code>s5</code><span>是字面值</span><code>&quot;HelloWorld.&quot;</code><span>的副本</span></td></tr><tr><td><code>string s6(n, &#39;x&#39;)</code></td><td><span>把</span><code>s6</code><span>初始化为由连续</span><code>n</code><span>个字符</span><code>&#39;x&#39;</code><span>组成的串</span></td></tr></tbody></table></figure><h4><a name="span-id直接初始化和间接初始化直接初始化和间接初始化span" class="md-header-anchor"></a><span id="直接初始化和间接初始化"><span>直接初始化和间接初始化</span></span></h4><p><a href='#初始化'><span>初始化</span></a></p><p><span>如果使用等号</span><code>=</code><span>初始化一个变量，实际上执行的是</span><strong><span>拷贝初始化</span></strong><span>（间接初始化），编译器把等号右侧的初始值拷贝到新创建的对象中去。</span></p><p><span>如果不使用等号，则执行的是</span><strong><span>直接初始化</span></strong><span>。</span></p><h3><a name="span-idstring对象上的操作string对象上的操作span" class="md-header-anchor"></a><span id="string对象上的操作"><code>string</code><span>对象上的操作</span></span></h3><h4><a name="span-id读写string对象读写string对象span" class="md-header-anchor"></a><span id="读写string对象"><span>读写</span><code>string</code><span>对象</span></span></h4><p><strong><code>cin</code><span>读取</span></strong></p><p><code>cin</code><span>读取</span><code>string</code><span>对象时会自动忽略开头的空白（空格符、换行符、制表符），并从第一个真正的字符开始读，直到遇到下一个空白。</span></p><blockquote><p><span>例如，如果使用</span><code>string x;  cin &gt;&gt; x;  cout &lt;&lt; x;</code><span>，输入</span><code>Hello World.</code><span>，输出结果是</span><code>Hello</code><span>。</span></p></blockquote><p><strong><span>使用</span><code>getline()</code><span>读取整行字符串</span></strong></p><p><code>getline()</code><span>函数位于</span><code>&lt;string&gt;</code><span>库中。</span></p><p><code>getline()</code><span>函数的参数是一个输入流和一个</span><code>string</code><span>对象，函数从给定的输入流中读入内容，直到遇到换行符为止（</span><strong><span>读取换行符但丢弃换行符</span></strong><span>）。得到的字符串不包括最后的换行符。</span></p><p><span>如果输入开始就是换行符，则得到一个空串。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-variable">str</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">getline</span>(<span class="cm-variable">cin</span>, <span class="cm-variable">str</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><h5><a name="span-id流的状态111流的状态-span" class="md-header-anchor"></a><span id="流的状态[111]()"><span>流的状态 </span></span></h5><p><span>当我们使用一个</span><code>istream</code><span>对象作为条件时，其效果是检测流的状态。如果流是有效的，即流未遇见错误，那么检测成功。如果遇到文件结束符</span><code>eof</code><span>，或遇到一个无效的输入时（例如读如的值和期望类型不相符），</span><code>istream</code><span>的状态会变为无效。有效状态的</span><code>istream</code><span>使条件变为</span><code>true</code><span>，无效状态的</span><code>istream</code><span>使条件变为</span><code>false</code><span>。</span></p><p><strong><span>读取未知数量的</span><code>string</code><span>对象</span></strong></p><p><span>利用流的状态和</span><code>while</code><span>语句，可以读取未知数量的字符串。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-variable">str</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span> (<span class="cm-variable">cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">str</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//...</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span> (<span class="cm-variable">getline</span>(<span class="cm-variable">cin</span>, <span class="cm-variable">str</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//...</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 139px;"></div><div class="CodeMirror-gutters" style="display: none; height: 139px;"></div></div></div></pre><h4><a name="span-idstring的empty和size操作string的empty和size操作span" class="md-header-anchor"></a><span id="string的empty和size操作"><code>string</code><span>的</span><code>empty</code><span>和</span><code>size</code><span>操作</span></span></h4><p><code>empty()</code><span>函数根据</span><code>string</code><span>对象是否为空返回一个对应的布尔值。如果为空，返回</span><code>true</code><span>，否则返回</span><code>false</code><span>。</span></p><p><code>size()</code><span>函数返回</span><code>string</code><span>对象的长度（</span><code>string</code><span>对象中字符的个数）。</span></p><p><code>empty()</code><span>和</span><code>size()</code><span>函数都是</span><code>string</code><span>的一个成员函数，需要使用点操作符指明对哪一个</span><code>string</code><span>对象执行函数。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-variable">str</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span>(<span class="cm-variable">getline</span>(<span class="cm-variable">cin</span>, <span class="cm-variable">str</span>)){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">str</span>.<span class="cm-variable">empty</span>() <span class="cm-operator">==</span> <span class="cm-atom">false</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">str</span>.<span class="cm-variable">size</span>() <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 117px;"></div><div class="CodeMirror-gutters" style="display: none; height: 117px;"></div></div></div></pre><h5><a name="span-idstringsizetype类型sizetype类型span" class="md-header-anchor"></a><span id="string::size_type类型"><code>size_type</code><span>类型</span></span></h5><p><code>string</code><span>类型的</span><code>size()</code><span>函数返回的并不是一个</span><code>int</code><span>或</span><code>unsigned int</code><span>值。</span></p><p><code>string</code><span>返回的是一个</span><code>string::size_type</code><span>类型的值，</span><strong><span>他是一个无符号类型的值，并且足够存放下任何</span><code>string</code><span>对象的大小</span></strong><span>。</span></p><p><span>由于</span><code>string::size_type</code><span>是一个无符号类型的值，</span><strong><span>如果表达式中出现了</span><code>size()</code><span>函数，应避免使用有符号类型（</span><code>int</code><span>）的变量</span></strong><span>。</span></p><blockquote><p><span>如果运行如下代码：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-variable">str</span> <span class="cm-operator">=</span> <span class="cm-string">"HelloWorld."</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">str</span>.<span class="cm-variable">size</span>() <span class="cm-operator">&lt;</span> <span class="cm-operator">-</span><span class="cm-number">1</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"ture"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 79px;"></div><div class="CodeMirror-gutters" style="display: none; height: 79px;"></div></div></div></pre><p><span>将会输出</span><code>true</code><span>，这显然是错误的。</span></p><p><a href='#将一种算术类型的值赋给另一种类型时的过程'><span>将一种算术类型的值赋给另一种类型时的过程</span></a>
<a href='#无符号类型的运算对象'><span>无符号类型的运算对象</span></a></p></blockquote><h4><a name="span-id比较string对象比较string对象span" class="md-header-anchor"></a><span id="比较string对象"><span>比较</span><code>string</code><span>对象</span></span></h4><p><strong><span>相等性运算符</span></strong></p><p><span>相等性运算符（</span><code>==</code><span>,</span><code>!=</code><span>）分别检验两个</span><code>string</code><span>对象相等或不相等。</span><strong><code>string</code><span>对象相等意味着它们的长度相同并且所包含的字符也全都相同（对应位置上的字符相同）。比较时对大小写敏感。</span></strong></p><p><strong><span>关系运算符</span></strong></p><p><span>关系运算符（</span><code>&lt;</code><span>,</span><code>&lt;=</code><span>,</span><code>&gt;</code><span>,</span><code>&gt;=</code><span>）的比较依照字典序：</span></p><ol start='' ><li><span>如果两个</span><code>string</code><span>对象长度不同，并且较短的对象的每个字符都与较长对象对应位置上的字符相同，就说较短对象小于较长对象。</span></li><li><span>如果两个</span><code>string</code><span>对象在某些位置上的字符不同，则</span><code>string</code><span>对象比较的结果和第一对相异字符比较的结果（</span><code>char</code><span>类型）。</span></li></ol><h4><a name="span-id赋值赋值span" class="md-header-anchor"></a><span id="赋值"><span>赋值</span></span></h4><p><span>可以使用</span><code>=</code><span>为</span><code>string</code><span>赋值，可以使用字符串字面值或</span><code>string</code><span>对象。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-variable">str1</span>, <span class="cm-variable">str2</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">str1</span> <span class="cm-operator">=</span> <span class="cm-string">"Hello"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">str2</span> <span class="cm-operator">=</span> <span class="cm-variable">str1</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><h4><a name="span-id两个string对象相加两个string对象相加span" class="md-header-anchor"></a><span id="两个string对象相加"><span>两个</span><code>string</code><span>对象相加</span></span></h4><p><span>对两个</span><code>string</code><span>类型使用</span><strong><span>加法运算符</span><code>+</code></strong><span>的结果时一个新的</span><code>string</code><span>对象，它包含的字符由两部分构成，前半部分是加号左侧对象所含的字符，右半部分是加号右侧对象所含的字符。</span></p><p><strong><span>复合赋值运算符</span><code>+=</code></strong><span>将右侧对象的内容追加到左侧对象的后面。</span></p><h4><a name="span-id字面值和string对象相加字面值和string对象相加span" class="md-header-anchor"></a><span id="字面值和string对象相加"><span>字面值和</span><code>string</code><span>对象相加</span></span></h4><p><code>string</code><span>字符可以和字符字面值、字符串字面值相加。</span></p><p><strong><span>需要注意的是两个字符串字面值不能直接相加，所以必须确保每个加法运算符</span><code>+</code><span>的两侧的运算对象至少有一个是</span><code>string</code><span>类型的对象</span></strong><span>。</span></p><blockquote><p><span>C++中字符串字面值的类型不是</span><code>string</code><span>，而是</span><code>const char[]</code><span>（Visual Studio中）。</span><a href='#字符、字符串字面值及类型'><span>字符、字符串字面值及类型</span></a></p></blockquote><blockquote><p><strong><font color=red><span> 正确理解两个字符串字面值不能直接相加</span></font></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">str2</span> <span class="cm-operator">=</span> <span class="cm-variable">str1</span> <span class="cm-operator">+</span> <span class="cm-string">' '</span> <span class="cm-operator">+</span> <span class="cm-string">"niect"</span> <span class="cm-operator">+</span> &nbsp;<span class="cm-string">"World.\n"</span>; &nbsp; <span class="cm-comment">//正确</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">str2</span> <span class="cm-operator">=</span> <span class="cm-string">"h"</span> <span class="cm-operator">+</span> <span class="cm-string">"3"</span> <span class="cm-operator">+</span> <span class="cm-variable">str1</span>;<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> <span class="cm-comment">//错误</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">str2</span> <span class="cm-operator">=</span> <span class="cm-variable">str1</span> <span class="cm-operator">+</span> <span class="cm-string">' '</span> <span class="cm-operator">+</span> (<span class="cm-string">"niect"</span> <span class="cm-operator">+</span> &nbsp;<span class="cm-string">"World.\n"</span>); <span class="cm-comment">//错误</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div><div class="CodeMirror-gutters" style="display: none; height: 120px;"></div></div></div></pre><p><strong><span>C++对</span><code>string</code><span>的加法运算符</span><code>+</code><span>进行了重载，其返回的仍然是</span><code>string</code><span>类型。</span></strong></p><p><span>对于</span><code>str1 + &#39; &#39; + &quot;niect&quot; +  &quot;World.\n&quot;</code><span>，程序根据优先级从左到右运算，每一个加号左侧都是一个</span><code>string</code><span>类型，因此是正确的。</span></p><p><span>对于</span><code>&quot;h&quot; + &quot;3&quot; + str1</code><span>,程序会首先计算</span><code>&quot;h&quot; + &quot;3&quot;</code><span>，产生错误。</span></p><p><span>对于</span><code>str1 + &#39; &#39; + (&quot;niect&quot; +  &quot;World.\n&quot;)</code><span>，程序根据优先级首先计算</span><code>&quot;niect&quot; +  &quot;World.\n&quot;</code><span>，产生错误。</span></p><p><a href=''><span>youxianji</span></a></p></blockquote><h4><a name="利用基于范围的for语句处理string对象中的每一个字符" class="md-header-anchor"></a><span>利用基于范围的</span><code>for</code><span>语句处理</span><code>string</code><span>对象中的每一个字符</span></h4><p><span>利用</span><strong><span>范围</span><code>for</code><span>语句</span></strong><span>可以遍历</span><code>string</code><span>对象中的每一个字符。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-variable">str</span> <span class="cm-operator">=</span> <span class="cm-string">"Hello World.\n"</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">i</span> : <span class="cm-variable">str</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">i</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span><span class="cm-operator">&amp;</span> <span class="cm-variable">i</span> : <span class="cm-variable">str</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-variable">isupper</span>(<span class="cm-variable">i</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-variable">tolower</span>(<span class="cm-variable">i</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 181px;"></div><div class="CodeMirror-gutters" style="display: none; height: 181px;"></div></div></div></pre><p><strong><code>auto i</code><span>是遍历</span><code>string</code><span>中的元素并将每个元素的值拷贝到</span><code>i</code><span>中，因此改变</span><code>i</code><span>的值不影响</span><code>string</code><span>中的元素。</span></strong></p><p><strong><code>auto&amp; i</code><span>是引用，因此改变</span><code>i</code><span>的值也就相应改变</span><code>string</code><span>中的元素的值。</span></strong></p><p><code>isupper()</code><span>,</span><code>tolower()</code><span>是</span><code>cctype</code><span>头文件中的函数，这些函数有助于处理每个字符。</span></p><h5><a name="cctype头文件" class="md-header-anchor"></a><code>cctype</code><span>头文件</span></h5><figure><table><thead><tr><th><span>函数</span></th><th><span>说明</span></th></tr></thead><tbody><tr><td><code>isalnum(i)</code></td><td><span>当</span><code>i</code><span>是字母或数字时为真。</span></td></tr><tr><td><code>isalpha(i)</code></td><td><span>当</span><code>i</code><span>是字母时为真。</span></td></tr><tr><td><code>iscntrl(i)</code></td><td><span>当</span><code>i</code><span>是控制字符时为真，例如</span><code>\n</code><span>,</span><code>\a</code><span>等。</span></td></tr><tr><td><code>isdigit(i)</code></td><td><span>当</span><code>i</code><span>是数字时为真。</span></td></tr><tr><td><code>isgraph(i)</code></td><td><span>当</span><code>i</code><span>不是空格但可以打印时为真。</span></td></tr><tr><td><code>islower(i)</code></td><td><span>当</span><code>i</code><span>是小写字母时为真。</span></td></tr><tr><td><code>isprint(i)</code></td><td><span>当</span><code>i</code><span>是可打印字符时为真。（可打印即空格或具有可视形式）</span></td></tr><tr><td><code>ispunct(i)</code></td><td><span>当</span><code>i</code><span>是标点符号时为真。（不是控制字符、字母、数字、可打印空白中的一种）</span></td></tr><tr><td><code>isspace(i)</code></td><td><span>当</span><code>i</code><span>是空格时为真。</span></td></tr><tr><td><code>isupper(i)</code></td><td><span>当</span><code>i</code><span>是大写字母时为真。</span></td></tr><tr><td><code>tolower(i)</code></td><td><span>如果</span><code>i</code><span>是大写字母，则返回相应的小写字母。否则返回本身。</span></td></tr><tr><td><code>toupper(i)</code></td><td><span>如果</span><code>i</code><span>是小写字母，则返回相应的大写字母。否则返回本身。</span></td></tr></tbody></table></figure><h4><a name="利用索引访问单个字符" class="md-header-anchor"></a><span>利用索引访问单个字符</span></h4><p><span>使用下标运算符</span><code>[]</code><span>能获取到指定位置的元素。</span><code>string</code><span>对象的下标是从0开始的，范围是</span><code>0 - size() - 1</code><span>。下标的类型是</span><code>string::size_type</code><span>类型。</span></p><p><span>任何表达式只要它的值是一个整型值就可以作为索引，如果某个符号是带符号类型的会被转换为由</span><code>string::size_type</code><span>表达的无符号类型。</span></p><p><span>只要</span><code>string</code><span>不是一个常量，</span><strong><span>下标运算符返回引用</span></strong><span>。因此可以改变元素的值。</span></p><p><strong><span>使用超出范围的下标将引发不可预知的错误。因此需要检查下标的合法性。</span></strong></p><p><span>此外还可以使用迭代器访问</span><code>string</code><span>对象中的单个字符。</span></p><h2><a name="c风格字符串" class="md-header-anchor"></a><span>C风格字符串</span></h2><blockquote><p><span>C风格字符串不仅使用起来不太方便，而且极易引发系统漏洞，因此尽量不要使用C风格字符串。</span></p></blockquote><p><span>C风格字符串不是一种类型，而是为了表达和使用字符串而形成的一种约定俗成的写法。</span><strong><span>按照此书写习惯的字符串存放在字符数组中并以空字符结束(字符串最后一个字符后面跟着一个空字符</span><code>&#39;\0&#39;</code><span>)。</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char</span> <span class="cm-variable">ch</span>[] <span class="cm-operator">=</span> <span class="cm-string">"HelloWorld."</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><strong><span>C标准</span><code>string</code><span>函数</span></strong></p><p><span>这些函数都定义在头文件</span><code>&lt;cstring&gt;</code><span>中。</span></p><figure><table><thead><tr><th><span>函数</span></th><th><span>说明</span></th></tr></thead><tbody><tr><td><code>strlen(str1)</code></td><td><span>返回字符串的长度。空字符不算在内</span></td></tr><tr><td><code>strcmp(str1, str2)</code></td><td><span>比较</span><code>str1</code><span>和</span><code>str2</code><span>的大小。</span><br><span>如果</span><code>str1 == str2</code><span>返回</span><code>0</code><span>，如果</span><code>str1 &gt; str2</code><span>返回</span><code>1</code><span>，如果</span><code>str1 &lt; str2</code><span>,返回</span><code>-1</code><span>.</span></td></tr><tr><td><code>strcat(str1, str2)</code></td><td><span>将</span><code>str2</code><span>的内容附加到</span><code>str1</code><span>后面。</span></td></tr><tr><td><code>strcpy(str1, str2)</code></td><td><span>将</span><code>str2</code><span>的内容拷贝到</span><code>str1</code><span>。</span></td></tr></tbody></table></figure><blockquote><p><strong><span>这些函数不负责验证字符串会不会出现溢出的问题。</span></strong><span>因此在Visual Studio中，需要使用更安全的</span><code>strcat_s()</code><span>和</span><code>strcpy_s()</code><span>函数。</span></p></blockquote><p><strong><span>不能使用普通的关系运算符和相等性运算符比较两个C风格字符串的大小。</span></strong></p><h3><a name="cstr函数" class="md-header-anchor"></a><code>c_str()</code><span>函数</span></h3><p><span>如果程序的某处需要一个C风格字符串，无法直接使用</span><code>string</code><span>对象来代替它，可以使用</span><code>string</code><span>类型的成员函数</span><code>c_str()</code><span>。</span></p><p><code>c_str()</code><span>函数返回的是一个C风格的字符串。也就是说，函数的返回结果是一个指针，该指针指向一个以空字符结束的字符数组，这个数组和</span><code>string</code><span>对象保存的内容相同。结果指针的类型是</span><code>cosnt char*</code><span>。</span></p><h1><a name="span-id三数组和向量三数组和向量span" class="md-header-anchor"></a><span id="三、数组和向量"><span>三、数组和向量</span></span></h1><h2><a name="标准库类型vector" class="md-header-anchor"></a><span>标准库类型</span><code>vector</code></h2><p><span>标准库类型</span><code>vector</code><span>表示对象的集合。其中所有对象的类型都相同。</span></p><p><span>使用</span><code>vector</code><span>需要包含头文件：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 11.9958px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-meta">#include &lt;vector&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-keyword">using</span> <span class="cm-variable">std::vector</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><strong><code>vector</code><span>是模板而非类型。由</span><code>vector</code><span>生成的类型必须包含</span><code>vector</code><span>中元素的类型。</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++ "><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++ "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-variable">ivec</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable">string</span><span class="cm-operator">&gt;</span> <span class="cm-variable">strvec</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">char</span><span class="cm-operator">&gt;</span> <span class="cm-operator">&gt;</span> <span class="cm-variable">file</span>; &nbsp;<span class="cm-comment">//space</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><p><span>因为引用不是对象，所以不存在包含引用的</span><code>vector</code><span>。除此之外，其他大多数内置类型和类类型都可以构成</span><code>vector</code><span>对象，甚至是</span><code>vector</code><span>。</span></p><p><span>（在某些早期版本），如果</span><code>vector</code><span>作为</span><code>vector</code><span>的对象，两个右尖括号之间要加上空格。</span></p><h3><a name="定义和初始化vector" class="md-header-anchor"></a><span>定义和初始化</span><code>vector</code></h3><p><span>常见的初始化方式：</span></p><figure><table><thead><tr><th>&nbsp;</th><th><span>含义</span></th></tr></thead><tbody><tr><td><code>vector&lt;T&gt; v1</code></td><td><span>空</span><code>vector</code><span>，不包含任何元素，执行默认初始化。</span></td></tr><tr><td><code>vector&lt;T&gt; v2(v1)</code><br><code>vector&lt;T&gt; v2 = v1</code></td><td><code>v2</code><span>包含</span><code>v1</code><span>的所有元素，是</span><code>v1</code><span>的副本。（</span><code>v1</code><span>和</span><code>v2</code><span>的类型应相同）</span></td></tr><tr><td><code>vector&lt;T&gt; v3(n, val)</code></td><td><span>包含n个值为val的元素。</span></td></tr><tr><td><code>vector&lt;T&gt; v4(n)</code></td><td><span>包含n个重复的元素，每个元素执行值初始化。</span></td></tr><tr><td><code>vector&lt;T&gt; v5 = {a, b, c, ...}</code><br><code>vector&lt;T&gt; v5 {a, b, c, ...}</code></td><td><span>包含了初始值个数的元素，每个元素按顺序被赋予相应的初始值。</span></td></tr></tbody></table></figure><h4><a name="值初始化" class="md-header-anchor"></a><span>值初始化</span></h4><p><span>通常情况下，可以只提供</span><code>vector</code><span>对象容纳的元素数量而略去初始值。此时库会创建一个</span><strong><span>值初始化的</span></strong><span>元素初值，并把它赋给容器中的所有元素。</span></p><p><span>如果元素是内置类型，比如</span><code>int</code><span>，则元素初始值自动设为0。如果是类类型，则元素由类默认初始化（如果不支持默认初始化，必须提供初始值）。</span></p><p><span>如果只提供元素的数量而没有设定初始值，只能使用直接初始化。</span></p><h4><a name="列表初始化-n817" class="md-header-anchor"></a><span>列表初始化</span></h4><p><span>见前文</span><a href='#列表初始化'><span>列表初始化</span></a></p><p><span>形如</span><code>vector&lt;T&gt; v5 = {a, b, c, ...}</code><span>和</span><code>vector&lt;T&gt; v5 {a, b, c, ...}</code><span>形式的初始化被称为列表初始化。</span></p><p><span>C++提供了几种不同的初始化形式。大多数情况下这些形式是可以互相使用的，但有例外的情况。</span></p><ul><li><span>使用拷贝初始化时，只能提供一个初始值。</span><a href='#直接初始化和间接初始化'><span>直接初始化和间接初始化</span></a></li><li><span>如果提供的是一个类内初始值，则只能使用拷贝初始化或使用花括号形式的初始化。</span></li><li><span>如果提供的是初始元素值的列表，则只能把初始值都放在花括号里进行列表初始化，而不能放在圆括号中。</span></li><li><span>提供元素数量的初始化只能使用直接初始化。</span></li></ul><h4><a name="使用数组初始化vector对象" class="md-header-anchor"></a><span>使用数组初始化</span><code>vector</code><span>对象</span></h4><p><span>允许使用数组来初始化</span><code>vector</code><span>对象。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++ "><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++ "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[] <span class="cm-operator">=</span> {<span class="cm-number">0</span>, <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>, <span class="cm-number">5</span>, <span class="cm-number">6</span>};</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-def">vec</span> (<span class="cm-variable">begin</span>(<span class="cm-variable">arr</span>), <span class="cm-variable">end</span>(<span class="cm-variable">arr</span>));</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><strong><span>区分列表初始值和元素数量</span></strong></p><p><span>如果使用圆括号，则提供的值是用来构造</span><code>vector</code><span>对象的，而不能提供列表初始值：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-def">T</span>(<span class="cm-number">3</span>, <span class="cm-number">4</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-def">T</span>(<span class="cm-number">3</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-variable">string</span><span class="cm-operator">&gt;</span> <span class="cm-def">T</span>(<span class="cm-string">"Hello"</span>);<span class="cm-comment">//错误</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><p><span>如果使用花括号，并且花括号中的值都可以作为初始化的字面值（或者可以转换为</span><code>vector</code><span>中元素的类型），则相当于列表初始化，</span><strong><span>确定无法执行列表初始化之后，编译器会尝试利用花括号中的值构造</span><code>vector</code><span>对象</span></strong><span>。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-variable">string</span><span class="cm-operator">&gt;</span> <span class="cm-variable">T1</span>{ <span class="cm-string">"a"</span>, <span class="cm-string">"b"</span> };<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//列表初始化</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-variable">string</span><span class="cm-operator">&gt;</span> <span class="cm-variable">T2</span>{ <span class="cm-string">'a'</span>, <span class="cm-string">"d"</span> };<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//构造vector对象，字符a被转换为int(97)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-variable">string</span><span class="cm-operator">&gt;</span> <span class="cm-variable">T3</span>{ <span class="cm-number">3</span> };<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//构造vector对象</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 121px;"></div><div class="CodeMirror-gutters" style="display: none; height: 121px;"></div></div></div></pre><h3><a name="向vector中添加元素" class="md-header-anchor"></a><span>向</span><code>vector</code><span>中添加元素</span></h3><blockquote><p><code>vector</code><span>对象能够高效增长，所以开始的时候创建空的</span><code>vector</code><span>对象，在运行时动态添加元素，会比初始化时指定容量更高效。</span></p></blockquote><p><strong><span>利用成员函数</span><code>push_back()</code><span>可以向</span><code>vector</code><span>对象中添加元素，添加位置是队列尾。</span></strong></p><blockquote><p><span>利用</span><code>push_back()</code><span>函数将0-99添加到</span><code>vector</code><span>元素中：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-variable">T</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;=</span> <span class="cm-number">99</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">T</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">i</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 79px;"></div><div class="CodeMirror-gutters" style="display: none; height: 79px;"></div></div></div></pre></blockquote><h3><a name="其他vector操作" class="md-header-anchor"></a><span>其他</span><code>vector</code><span>操作</span></h3><figure><table><thead><tr><th><span>操作</span></th><th><span>描述</span></th><th><span>说明</span></th></tr></thead><tbody><tr><td><code>v.size()</code></td><td><span>返回元素的个数。</span></td><td>&nbsp;</td></tr><tr><td><code>v.size()</code></td><td><span>如果不含有任何元素，返回</span><code>true</code><span>，否则返回</span><code>false</code></td><td>&nbsp;</td></tr><tr><td><code>v1 = v2</code></td><td><span>赋值，用</span><code>v2</code><span>中的元素的拷贝替换</span><code>v1</code><span>中的元素</span></td><td>&nbsp;</td></tr><tr><td><code>v1 = {a, b, ...}</code></td><td><span>用列表中的元素的拷贝替换</span><code>v1</code><span>中的元素</span></td><td>&nbsp;</td></tr><tr><td><code>v1 == v2</code><span>，</span><code>v1 != v2</code></td><td><span>元素相同并且对应位置的元素值相同视为两个</span><code>vector</code><span>相同</span></td><td><span>和</span><code>string</code><span>类型相同</span></td></tr><tr><td><code>&lt; &lt;= &gt; &gt;=</code></td><td><span>以字典序进行比较</span></td><td><span>和</span><code>string</code><span>类型相同</span></td></tr></tbody></table></figure><p><strong><span>和</span><code>string</code><span>类似，</span><code>v.size()</code><span>返回的是</span><code>vector&lt;T&gt;::size_type</code><span>类型。</span></strong></p><blockquote><p><span>注意</span><code>vector</code><span>对象的类型要总是包含着元素的类型。因此</span><code>vector&lt;char&gt; T</code><span>对象的成员函数</span><code>T.size()</code><span>返回的类型是</span><code>vector&lt;char&gt;::size_type</code><span>而不是</span><code>vector::size_type</code><span>。</span></p></blockquote><p><strong><span>使用</span><code>==</code><span>,</span><code>!=</code><span>,</span><code>&gt;</code><span>等相等性运算符和比较运算符时，两个</span><code>vector</code><span>中的元素类型应该相同（或者有相应的运算符重载）。</span></strong></p><h3><a name="使用for遍历vector中的元素" class="md-header-anchor"></a><span>使用</span><code>for</code><span>遍历</span><code>vector</code><span>中的元素</span></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-variable">T</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">i</span> : <span class="cm-variable">T</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">i</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span><span class="cm-operator">&amp;</span> <span class="cm-variable">i</span> : <span class="cm-variable">T</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">i</span> <span class="cm-operator">*=</span> <span class="cm-variable">i</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 139px;"></div><div class="CodeMirror-gutters" style="display: none; height: 139px;"></div></div></div></pre><p><span>注意：</span></p><p><strong><code>auto i</code><span>是遍历</span><code>vector</code><span>中的元素并将每个元素的值拷贝到</span><code>i</code><span>中，因此改变</span><code>i</code><span>的值不影响</span><code>vector</code><span>中的元素。</span></strong></p><p><strong><code>auto&amp; i</code><span>是引用，因此改变</span><code>i</code><span>的值也就相应改变</span><code>vector</code><span>中的元素的值。</span></strong></p><h3><a name="索引" class="md-header-anchor"></a><span>索引</span></h3><p><span>使用下标运算符</span><code>[]</code><span>能获取到指定位置的元素。和</span><code>string</code><span>一样，</span><code>vector</code><span>对象的下标是从0开始的，范围是</span><code>0 - size()-1</code><span>。下标的类型是相应的</span><code>size_type</code><span>无符号类型。</span></p><p><span>只要</span><code>vector</code><span>不是一个常量，下标运算符返回引用。因此可以改变元素的值。</span></p><blockquote><p><strong><font color=red><span>不能用下标形式添加元素</span></font></strong></p><p><code>vector</code><span>的下标运算符只能对已存在的元素执行。试图用下标的形式去访问一个不存在的元素将会引发错误，导致缓冲区溢出。</span></p><p><span>因此，只能用下标访问</span><code>vector</code><span>中的元素而不能添加一个新的元素。添加新的元素应使用</span><code>push_back()</code><span>成员函数。</span></p></blockquote><h2><a name="迭代器" class="md-header-anchor"></a><span>迭代器</span></h2><p><span>有一种更通用的访问</span><code>string</code><span>和</span><code>vector</code><span>中的元素的方式：迭代器。</span></p><blockquote><p><span>所有标准库容器都可以使用迭代器，但只有少数几种支持下标运算符。因此迭代器是一种更通用的访问方式。</span></p></blockquote><h3><a name="使用迭代器" class="md-header-anchor"></a><span>使用迭代器</span></h3><h4><a name="begin和end" class="md-header-anchor"></a><code>begin()</code><span>和</span><code>end()</code></h4><p><span>有迭代器的类型同时拥有返回迭代器的成员。比如，这些类型都拥有</span><strong><code>begin()</code><span>和</span><code>end()</code><span>成员</span></strong><span>。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-variable">str</span> <span class="cm-operator">=</span> <span class="cm-string">"helloWorld."</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">beg</span> <span class="cm-operator">=</span> <span class="cm-variable">str</span>.<span class="cm-variable">begin</span>(), <span class="cm-variable">end</span> <span class="cm-operator">=</span> <span class="cm-variable">str</span>.<span class="cm-variable">end</span>();</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><ul><li><strong><code>begin()</code><span>负责返回指向第一个元素的迭代器</span></strong><span>。</span></li><li><strong><code>end()</code><span>负责返回指向容器尾元素的下一个位置的迭代器</span></strong><span>。也就是说，该迭代器指示的是容器中本不存在的“尾后”元素。这样的迭代器没有实际含义，仅是一个标记，表示已经处理完了容器中的所有元素。因此</span><strong><code>end()</code><span>返回的迭代器被称作尾后迭代器，简称尾迭代器。</span></strong></li><li><span>特殊的，</span><strong><span>如果容器为空，则</span><code>begin()</code><span>和</span><code>end()</code><span>返回的是同一个迭代器</span></strong><span>。</span></li></ul><blockquote><p><span>使用范围的</span><code>for</code><span>语句是利用了</span><code>begin()</code><span>和</span><code>end()</code><span>函数，</span><strong><span>这两个函数的形参类型是数组而不是指针</span></strong><span>（此时数组名不再转换为相应的指针）。</span></p><p><span>因此，编译以下代码：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">3</span>];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span>(<span class="cm-operator">*</span><span class="cm-variable">p</span>)[<span class="cm-number">3</span>] <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">arr</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">i</span> : <span class="cm-variable">p</span>) {}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><p><span>会得到错误信息：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">error C2672: “begin”: 未找到匹配的重载函数</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">error C2672: “end”: 未找到匹配的重载函数</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre><p><span>参照</span><code>begin()</code><span>函数的定义：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">_NODISCARD</span> <span class="cm-keyword">constexpr</span> <span class="cm-variable">_Ty</span><span class="cm-operator">*</span> <span class="cm-def">begin</span>(<span class="cm-variable">_Ty</span> (<span class="cm-operator">&amp;</span><span class="cm-variable">_Array</span>)[<span class="cm-variable">_Size</span>]) <span class="cm-keyword">noexcept</span> { <span class="cm-comment">// get beginning of array</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-keyword">return</span> <span class="cm-variable">_Array</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 117px;"></div><div class="CodeMirror-gutters" style="display: none; height: 117px;"></div></div></div></pre></blockquote><p>&nbsp;</p><p><strong><span>迭代器的类型</span></strong></p><p><span>迭代器类型包括</span><code>iterator</code><span>和</span><code>const_iterator</code><span>两种。其中，</span><code>iterator</code><span>能读取并且修改所指的元素，而</span><code>const_iterator</code><span>只能读取但不能修改。</span></p><p><strong><span>如果容器本身是</span><code>const</code><span>，则</span><code>begin()</code><span>和</span><code>end()</code><span>返回</span><code>const_iterator</code><span>类型，否则，返回</span><code>iterator</code><span>类型。</span></strong></p><p><span>为了便于专门得到</span><code>const_iterator</code><span>类型，C++11引入</span><code>cbegin()</code><span>和</span><code>cend()</code><span>两个成员，不论容器本身是不是</span><code>const</code><span>，它们都返回</span><code>const_iterator</code><span>类型。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-variable">str</span> <span class="cm-operator">=</span> <span class="cm-string">"abc"</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable">string</span> <span class="cm-variable">cstr</span> <span class="cm-operator">=</span> <span class="cm-string">"abc"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-variable">vec</span> <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span> };</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">iter1</span> <span class="cm-operator">=</span> <span class="cm-variable">str</span>.<span class="cm-variable">begin</span>();<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">//string::iterator</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">iter2</span> <span class="cm-operator">=</span> <span class="cm-variable">cstr</span>.<span class="cm-variable">end</span>();<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//string::const_iterator</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">iter3</span> <span class="cm-operator">=</span> <span class="cm-variable">str</span>.<span class="cm-variable">cbegin</span>();<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//string::const_iterator</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">iter4</span> <span class="cm-operator">=</span> <span class="cm-variable">cstr</span>.<span class="cm-variable">cend</span>();<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">//string::const_iterator</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">iter5</span> <span class="cm-operator">=</span> <span class="cm-variable">vec</span>.<span class="cm-variable">begin</span>();<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">//vector&lt;const int&gt;::iterator</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">iter6</span> <span class="cm-operator">=</span> <span class="cm-variable">vec</span>.<span class="cm-variable">cbegin</span>();<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//vector&lt;const int&gt;::const_iterator</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 301px;"></div><div class="CodeMirror-gutters" style="display: none; height: 301px;"></div></div></div></pre><h4><a name="迭代器支持的运算" class="md-header-anchor"></a><span>迭代器支持的运算</span></h4><figure><table><thead><tr><th>&nbsp;</th><th><span>说明</span></th></tr></thead><tbody><tr><td><code>*iter</code></td><td><span>返回迭代器所指元素的引用</span></td></tr><tr><td><code>++iter</code></td><td><span>令</span><code>iter</code><span>指向容器中的下一个元素</span></td></tr><tr><td><code>--iter</code></td><td><span>令</span><code>iter</code><span>指向容器中的上一个元素</span></td></tr><tr><td><code>iter1 == iter2</code><span>和</span><code>iter1 != iter2</code></td><td><span>判断两个迭代器是否相等，如果两个迭代器指示的是同一个元素或者都是尾后迭代器，则相等，否则不相等。</span></td></tr></tbody></table></figure><ul><li><strong><span>执行解引用的迭代器必须合法并且确实指向某个元素。</span></strong><span>试图解引用一个非法迭代器或者尾后迭代器都是未定义的行为。</span></li><li><strong><span>不能对尾后迭代器执行递增操作</span></strong><span>。</span></li></ul><h4><a name="vector和string的迭代器支持的额外运算" class="md-header-anchor"></a><code>vector</code><span>和</span><code>string</code><span>的迭代器支持的额外运算</span></h4><figure><table><thead><tr><th>&nbsp;</th><th><span>说明</span></th></tr></thead><tbody><tr><td><code>iter + n</code></td><td><span>返回一个迭代器，迭代器指示的新位置与原来相比向后移动n位</span></td></tr><tr><td><code>iter - n</code></td><td><span>返回一个迭代器，迭代器指示的新位置与原来相比向前移动n位</span></td></tr><tr><td><code>iter1 += n</code></td><td><span>迭代器向后移动n位</span></td></tr><tr><td><code>iter1 -= n</code></td><td><span>迭代器向前移动n位</span></td></tr><tr><td><code>iter1 - iter2</code></td><td><span>返回它们的距离。形象的说，</span><code>iter1</code><span>向前移动</span><code>iter1 - iter2</code><span>个距离后和</span><code>iter2</code><span>相同</span></td></tr><tr><td><code>&gt;</code><span>,</span><code>&lt;</code><span>,</span><code>&gt;=</code><span>,</span><code>&lt;=</code></td><td><span>如果某迭代器指向的容器位置在另一个迭代器所指位置的前面，则说前者小于后者。</span></td></tr></tbody></table></figure><p><code>iter1 - iter2</code><span>操作返回的类型是</span><code>difference_type</code><span>的带符号整数。</span></p><h4><a name="结合解引用和成员访问操作箭头操作符-）" class="md-header-anchor"></a><span>结合解引用和成员访问操作（箭头操作符</span><code>-&gt;</code><span>）</span></h4><p><span>解引用迭代器可以获得迭代器所指的对象，如果对象的类型恰好是类，则可以进一步访问它的成员。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-variable">string</span><span class="cm-operator">&gt;</span> <span class="cm-variable">file</span> <span class="cm-operator">=</span> { <span class="cm-string">"a"</span>, <span class="cm-string">"bc"</span>, <span class="cm-string">"def"</span> };</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">iter</span> <span class="cm-operator">=</span> <span class="cm-variable">file</span>.<span class="cm-variable">begin</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> (<span class="cm-operator">*</span><span class="cm-variable">iter</span>).<span class="cm-variable">empty</span>() <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre><p><span>由于优先级的原因，</span><strong><code>(*iter).empty()</code><span>必须加上小括号</span></strong><span>。</span></p><p><span>为了简化上述表达式，</span><strong><span>C++语言定义了</span><code>-&gt;</code><span>箭头运算符。它将解引用和成员访问两个操作结合在一起。</span></strong><span>因此，上面的代码可以写为：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-variable">string</span><span class="cm-operator">&gt;</span> <span class="cm-variable">file</span> <span class="cm-operator">=</span> { <span class="cm-string">"a"</span>, <span class="cm-string">"bc"</span>, <span class="cm-string">"def"</span> };</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">iter</span> <span class="cm-operator">=</span> <span class="cm-variable">file</span>.<span class="cm-variable">begin</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">iter</span><span class="cm-operator">-&gt;</span><span class="cm-variable">empty</span>() <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre><h4><a name="某些操作会使迭代器失效" class="md-header-anchor"></a><span>某些操作会使迭代器失效</span></h4><p><span>使容器对象容量改变的操作都会使迭代器失效。（比如</span><code>vector</code><span>的</span><code>push_back()</code><span>成员）</span></p><p><strong><span>在使用了迭代器的循环体中不要改变迭代器所属的容器的元素个数。</span></strong></p><h2><a name="数组" class="md-header-anchor"></a><span>数组</span></h2><h3><a name="定义和初始化内置数组" class="md-header-anchor"></a><span>定义和初始化内置数组</span></h3><p><span>数组是一种复合类型。数组是存放类型相同的对象的容器，这些对象本身没有名字，需要通过其所在位置访问。</span></p><p><span>数组的声明形如</span><code>arr[n]</code><span>，其中</span><code>arr</code><span>是数组的名字，</span><code>n</code><span>是数组的维度。</span></p><p><span>维度说明了数组中元素的个数，因此</span><strong><span>必须大于0</span></strong><span>。编译的时候维度应该是已知的，也就是说，</span><strong><span>维度必须是一个常量表达式</span></strong><span>。</span></p><p><span>定义数组的时候必须指定数组的类型，</span><strong><span>不允许使用</span><code>auto</code><span>关键字由初始值的列表推断数组的类型</span></strong><span>。</span></p><blockquote><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">arr</span>[<span class="cm-number">23</span>] <span class="cm-operator">=</span> { <span class="cm-number">3</span>, <span class="cm-number">4</span> };</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">error C3318: “auto [23]”: 数组不能具有其中包含“auto”的元素类型</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">error C3535: 无法推导“auto [23]”的类型(依据“initializer list”)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">error C2440: “初始化”: 无法从“int”转换为“std::initializer_list&lt;int&gt;”</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">message : 无构造函数可以接受源类型，或构造函数重载决策不明确</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 156px;"></div><div class="CodeMirror-gutters" style="display: none; height: 156px;"></div></div></div></pre></blockquote><p><span>数组的元素为对象，因此不存在引用的数组。</span></p><p><strong><span>如果不显式初始化，数组中的每个元素执行相应类型的默认初始化。</span></strong></p><p><strong><span>显式初始化</span></strong></p><p><span>下面的语句都可以定义并显式初始化一个数组：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">constexpr</span> <span class="cm-variable-3">unsigned</span> <span class="cm-variable-3">int</span> <span class="cm-variable">size</span> <span class="cm-operator">=</span> <span class="cm-number">5</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr1</span>[<span class="cm-variable">size</span>] <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span> };<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">// int arr1[5] = {1, 3, 4, 0, 0}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr2</span>[<span class="cm-number">2</span>] <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">4</span> };<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr3</span>[] <span class="cm-operator">=</span> { <span class="cm-number">3</span>, <span class="cm-number">4</span>, <span class="cm-number">4</span>, <span class="cm-number">5</span> };<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">// int arr3[4] = {3, 4, 4, 5}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr4</span>[<span class="cm-number">4</span>]{ <span class="cm-number">1</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span> };</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 160px;"></div><div class="CodeMirror-gutters" style="display: none; height: 160px;"></div></div></div></pre><p><span>如果对数组中的元素进行列表初始化，此时允许忽略数组的维度。编译器会根据初始值的数量计算并推测数组的维度。</span></p><p><span>如果提供了维度但是提供的初始值比维度的小，则用提供的初始值初始化靠前的元素，剩下的元素被初始化为默认值（进行值初始化）。</span></p><h4><a name="字符数组的特殊性" class="md-header-anchor"></a><span>字符数组的特殊性 </span></h4><p><span>字符数组有一种额外的初始化形式：用字符串字面值对此类数组进行初始化。当使用这种初始化形式时，字符串字面值的结尾还有一个空字符，这个空字符也会像字符串的其他字符一样被拷贝到字符数组中去。</span></p><blockquote><p><span>字符数组有很多特殊性。尽量使用标准库类型</span><code>vector</code><span>或者</span><code>int</code><span>型数组表示字符数组。</span></p></blockquote><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char</span> <span class="cm-variable">a1</span>[] <span class="cm-operator">=</span> { <span class="cm-string">'a'</span>, <span class="cm-string">'b'</span> };<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//如果使用列表初始化，则后面没有'\0'</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char</span> <span class="cm-variable">a2</span>[] <span class="cm-operator">=</span> { <span class="cm-string">'a'</span>, <span class="cm-string">'b'</span>, <span class="cm-string">'\0'</span> };<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-comment">//含有显式的空字符</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char</span> <span class="cm-variable">a3</span>[] <span class="cm-operator">=</span> <span class="cm-string">"C++"</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//等价于char a4[4] = {'C', '+', '+', '\0'}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char</span> <span class="cm-variable">a4</span>[<span class="cm-number">6</span>] <span class="cm-operator">=</span> <span class="cm-string">"Daniel"</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//错误：数组界限溢出</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 161px;"></div><div class="CodeMirror-gutters" style="display: none; height: 161px;"></div></div></div></pre><p><strong><span>不允许拷贝和赋值</span></strong></p><p><span>不允许使用一个数组初始化另一个数组，也不能把一个数组直接赋给另一个数组。</span></p><p><strong><span>理解复杂数组的声明</span></strong></p><p><span>就数组而言，由内向外阅读有助于理解复杂函数的声明。</span></p><blockquote><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">10</span>] <span class="cm-operator">=</span> {};</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-variable">ptrs</span>[<span class="cm-number">10</span>];<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//含有10个int*型元素的数组</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span><span class="cm-operator">&amp;</span> <span class="cm-variable">refs</span>[<span class="cm-number">10</span>] <span class="cm-operator">=</span> <span class="cm-comment">/*?*/</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//错误：不能使用引用的数组</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span>(<span class="cm-operator">*</span><span class="cm-variable">pArray</span>)[<span class="cm-number">10</span>] <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">arr</span>;<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//指向含有10个int型元素的数组的指针</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span>(<span class="cm-operator">&amp;</span><span class="cm-variable">arrRef</span>)[<span class="cm-number">10</span>] <span class="cm-operator">=</span> <span class="cm-variable">arr</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//是含有10个int型元素的数组的引用</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 181px;"></div><div class="CodeMirror-gutters" style="display: none; height: 181px;"></div></div></div></pre><p><span>例如</span><code>int* (&amp;arr)[10] = ptrs;</code><span>，从内向外，</span><code>arr</code><span>首先被</span><code>&amp;</code><span>修饰，说明</span><code>arr</code><span>是一个引用，外面是</span><code>int*[10]</code><span>说明</span><code>arr</code><span>引用的类型是一个含有10个</span><code>int*</code><span>型元素的数组。</span></p></blockquote><h3><a name="访问数组元素" class="md-header-anchor"></a><span>访问数组元素</span></h3><p><span>数组的元素也能使用范围</span><code>for</code><span>语句或下标运算符。</span></p><p><strong><span>范围</span><code>for</code><span>语句</span></strong></p><p><span>和</span><code>vector</code><span>和</span><code>string</code><span>一样，当需要遍历数组的所有元素时，最好的办法是使用范围</span><code>for</code><span>语句。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">5</span>] <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>, <span class="cm-number">5</span> };</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">i</span> : <span class="cm-variable">arr</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">i</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span><span class="cm-operator">&amp;</span> <span class="cm-variable">i</span> : <span class="cm-variable">arr</span>) { &nbsp;<span class="cm-comment">//引用和非引用的区别和vector，string相同</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">i</span> <span class="cm-operator">*=</span> <span class="cm-variable">i</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 159px;"></div><div class="CodeMirror-gutters" style="display: none; height: 159px;"></div></div></div></pre><p><strong><span>下标</span></strong></p><p><span>数组的索引从0开始，范围</span><code>0 ~ size-1</code><span>。在使用数组下标时，通常将其定义为</span><code>size_t</code><span>类型，它是一种机器相关的无符号类型，被设计得足够大以便能表示内存中任意对象的大小。</span></p><p><span>数组的下标应在合理范围。</span></p><h3><a name="指针和数组" class="md-header-anchor"></a><span>指针和数组</span></h3><p><strong><span>对数组的元素使用取地址符就能得到指向该元素的指针</span></strong><span>：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-variable">nums</span>[] <span class="cm-operator">=</span> {<span class="cm-string">"one"</span>, <span class="cm-string">"two"</span>};</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span><span class="cm-operator">*</span> <span class="cm-variable">ptr</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">num</span>[<span class="cm-number">1</span>];</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><strong><span>在很多用到数组名字的地方，编译器会自动地将其替换为一个指向数组首元素地指针</span></strong><span>：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span><span class="cm-operator">*</span> <span class="cm-variable">ptr1</span> <span class="cm-operator">=</span> <span class="cm-variable">nums</span>; <span class="cm-comment">//等价于 string* ptr1 = &amp;num[0];</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><span> 在大多数表达式中，使用数组类型的对象其实是使用一个指向该数组首元素地指针。</span></p><p><strong><span>当使用数组作为一个</span><code>auto</code><span>变量地初始值时，推断得到的类型是指针而非数组</span></strong><span>：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">p</span> <span class="cm-operator">=</span> <span class="cm-variable">nums</span>; &nbsp;<span class="cm-comment">//auto = string*</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><strong><span>当使用</span><code>decltype</code><span>关键字时，上述转换不会发生</span></strong><span>：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">5</span>] <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>, <span class="cm-number">5</span> };</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>(<span class="cm-variable">arr</span>) <span class="cm-variable">arr1</span> <span class="cm-operator">=</span> { <span class="cm-number">2</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>, <span class="cm-number">5</span>, <span class="cm-number">6</span> };</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><strong><span>指针也是迭代器。指向数组元素地指针拥有更多功能。</span><code>vector</code><span>和</span><code>string</code><span>地迭代器支持的运算，数组地指针全部支持：</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">5</span>] <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>, <span class="cm-number">5</span> };</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">ptr</span> <span class="cm-operator">=</span> <span class="cm-variable">arr</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ptr</span><span class="cm-operator">++</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><h4><a name="标准库函数begin和end" class="md-header-anchor"></a><span>标准库函数</span><code>begin</code><span>和</span><code>end</code></h4><p><span>两个函数定义于头文件</span><code>&lt;iterator&gt;</code><span>中。</span></p><p><code>begin</code><span>函数返回指向数组首元素地指针，</span><code>end</code><span>函数返回指向数组尾元素下一个位置地指针（类似于尾后迭代器）。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">pbeg</span> <span class="cm-operator">=</span> <span class="cm-variable">begin</span>(<span class="cm-variable">arr</span>), <span class="cm-variable">pend</span> <span class="cm-operator">=</span> <span class="cm-variable">end</span>(<span class="cm-variable">arr</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span> (<span class="cm-variable">pbeg</span> <span class="cm-operator">!=</span> <span class="cm-variable">pend</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">*</span><span class="cm-variable">pbeg</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">pbeg</span><span class="cm-operator">++</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div><div class="CodeMirror-gutters" style="display: none; height: 120px;"></div></div></div></pre><p><span>同样，尾后指针不能执行解引用和递增操作。</span></p><h4><a name="指针运算" class="md-header-anchor"></a><span>指针运算</span></h4><p><span>指向数组元素的指针可以执行</span><code>vector</code><span>迭代器中列出来的所有迭代器运算。这些运算（解引用、递增、比较、与整数相加、指针相减）用在指针上和用在迭代器上意义完全一致。</span></p><p><strong><span>解引用和指针运算的交互</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">5</span>] <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>, <span class="cm-number">5</span> };</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-number">5</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">*</span>(<span class="cm-variable">arr</span> <span class="cm-operator">+</span> <span class="cm-variable">i</span>) <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//小括号必不可少</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 99px;"></div><div class="CodeMirror-gutters" style="display: none; height: 99px;"></div></div></div></pre><p><strong><span>下标和指针</span></strong></p><p><span>当数组使用下标运算符时，编译器会自动执行转换操作。对数组执行下标运算其实是对指向数组元素的指针执行下标运算：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-variable">arr</span>[<span class="cm-number">3</span>]; <span class="cm-comment">//等价于 int i = *(arr + 3);</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><span>和</span><code>vector</code><span>，</span><code>string</code><span>不同，内置的下标运算符所用的索引值不是无符号类型。内置的下标运算符可以处理负值。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> (<span class="cm-variable">arr</span> <span class="cm-operator">+</span> <span class="cm-number">3</span>)[<span class="cm-operator">-</span><span class="cm-number">2</span>]; <span class="cm-comment">//等价于 int i = arr[1];</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><h4><a name="区分arr和arr" class="md-header-anchor"></a><span>区分</span><code>&amp;arr</code><span>和</span><code>arr</code></h4><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">3</span>] <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span> };</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">p1</span> <span class="cm-operator">=</span> <span class="cm-variable">arr</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// int* p1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">p2</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">arr</span>; <span class="cm-comment">// int(*p2)[3]</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 60px;"></div><div class="CodeMirror-gutters" style="display: none; height: 60px;"></div></div></div></pre><p><span>在很多用到数组名字的地方，数组名会自动替换为</span><strong><span>指向数组首元素</span></strong><span>的指针，对这个指针解引用得到的是数组首元素。</span></p><p><span>对数组取地址，得到的是</span><strong><span>指向数组的指针</span></strong><span>，对这个指针解引用得到的是一个数组。</span></p><p><span>以下两种方法都可以实现对数组的遍历：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++ "><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++ "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">3</span>] <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span> };</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">p1</span> <span class="cm-operator">=</span> <span class="cm-variable">arr</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// int* p1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">p2</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">arr</span>; <span class="cm-comment">// int(*p2)[3]</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-number">3</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">*</span>(<span class="cm-variable">p1</span> <span class="cm-operator">+</span> <span class="cm-variable">i</span>) <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-number">3</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> (<span class="cm-operator">*</span><span class="cm-variable">p2</span>)[<span class="cm-variable">i</span>] <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//等价于 cout &lt;&lt; *((*p2) + i) &lt;&lt; endl;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 199px;"></div><div class="CodeMirror-gutters" style="display: none; height: 199px;"></div></div></div></pre><h3><a name="多维数组" class="md-header-anchor"></a><span>多维数组</span></h3><p><span>严格来说，C++语言中没有多维数组。通常所说的多维数组其实是数组的数组。</span></p><p><span>当一个数组的元素仍然是数组时，通常使用两个维度来定义它：一个维度表示数组本身的大小，另一个维度表示其元素（数组）的大小。</span></p><p><strong><span>多维数组的初始化</span></strong></p><p><span>允许使用花括号括起来的一组值初始化多维数组。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">3</span>][<span class="cm-number">4</span>] <span class="cm-operator">=</span> { {<span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>}, {}, {<span class="cm-number">1</span>, <span class="cm-number">2</span>} };</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//arr对应 1 2 3 4 0 0 0 0 1 2 0 0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">3</span>][<span class="cm-number">4</span>] <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">2</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>, <span class="cm-number">1</span>, <span class="cm-number">2</span> };</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//arr对应 1 2 3 4 1 2 0 0 0 0 0 0</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 97px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><p><span>列表初始化时未列出的元素执行值初始化。</span></p><p><strong><span>指针和下标</span></strong></p><ul><li><span>可以使用下标运算符访问多维数组的元素。此时</span><strong><span>数组的每一个维度对应一个下标运算符</span></strong><span>。</span></li><li><strong><span>如果表达式含有的下标运算符数量和数组维度一样多，该表达式的结果将是给定类型的元素。如果表达式含有的下标运算符数量比数组的维度小，则表达式的结果将是给定索引处的一个内层数组</span></strong><span>。</span></li><li><span>当程序使用多维数组的名字时，也会</span><strong><span>自动将其转换为指向数组首元素的指针</span></strong><span>。和指针类似，</span><strong><span>对多维数组解引用得到的是指向的第一个元素，也就是内层的第一个数组</span></strong><span>。</span></li></ul><p><span>示例：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">3</span>][<span class="cm-number">4</span>][<span class="cm-number">3</span>][<span class="cm-number">4</span>];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">dim1</span> <span class="cm-operator">=</span> <span class="cm-variable">arr</span>; <span class="cm-variable">dim1</span> <span class="cm-operator">!=</span> <span class="cm-variable">arr</span> <span class="cm-operator">+</span> <span class="cm-number">3</span>; <span class="cm-variable">dim1</span><span class="cm-operator">++</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span>(<span class="cm-keyword">auto</span> <span class="cm-variable">dim2</span> <span class="cm-operator">=</span> <span class="cm-operator">*</span><span class="cm-variable">dim1</span>; <span class="cm-variable">dim2</span> <span class="cm-operator">!=</span> <span class="cm-operator">*</span><span class="cm-variable">dim1</span> <span class="cm-operator">+</span> <span class="cm-number">4</span>; <span class="cm-variable">dim2</span><span class="cm-operator">++</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">//*dim1是一个int[4][3][4]的数组，数组名被自动地转换成了指向该数组首元素地指针，因此dim2的类型是 int(*dim2)[3][4].</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">//下面两个同理。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span>(<span class="cm-keyword">auto</span> <span class="cm-variable">dim3</span> <span class="cm-operator">=</span> <span class="cm-operator">*</span><span class="cm-variable">dim2</span>; <span class="cm-variable">dim3</span> <span class="cm-operator">!=</span> <span class="cm-operator">*</span><span class="cm-variable">dim2</span> <span class="cm-operator">+</span> <span class="cm-number">3</span>; <span class="cm-variable">dim3</span><span class="cm-operator">++</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">dim4</span> <span class="cm-operator">=</span> <span class="cm-operator">*</span><span class="cm-variable">dim3</span>; <span class="cm-variable">dim4</span> <span class="cm-operator">!=</span> <span class="cm-operator">*</span><span class="cm-variable">dim3</span> <span class="cm-operator">+</span> <span class="cm-number">4</span>; <span class="cm-variable">dim4</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">*</span><span class="cm-variable">dim4</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 299px;"></div><div class="CodeMirror-gutters" style="display: none; height: 299px;"></div></div></div></pre><p><strong><code>begin()</code><span>和</span><code>end()</code><span>函数</span></strong></p><p><span>利用标准库函数可以实现和上述代码相同的功能：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">3</span>][<span class="cm-number">4</span>][<span class="cm-number">3</span>][<span class="cm-number">4</span>];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">dim1</span> <span class="cm-operator">=</span> <span class="cm-variable">begin</span>(<span class="cm-variable">arr</span>); <span class="cm-variable">dim1</span> <span class="cm-operator">!=</span> <span class="cm-variable">end</span>(<span class="cm-variable">arr</span>); <span class="cm-variable">dim1</span><span class="cm-operator">++</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">dim2</span> <span class="cm-operator">=</span> <span class="cm-variable">begin</span>(<span class="cm-operator">*</span><span class="cm-variable">dim1</span>); <span class="cm-variable">dim2</span> <span class="cm-operator">!=</span> <span class="cm-variable">end</span>(<span class="cm-operator">*</span><span class="cm-variable">dim1</span>); <span class="cm-variable">dim2</span><span class="cm-operator">++</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">dim3</span> <span class="cm-operator">=</span> <span class="cm-variable">begin</span>(<span class="cm-operator">*</span><span class="cm-variable">dim2</span>); <span class="cm-variable">dim3</span> <span class="cm-operator">!=</span> <span class="cm-variable">end</span>(<span class="cm-operator">*</span><span class="cm-variable">dim2</span>); <span class="cm-variable">dim3</span><span class="cm-operator">++</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">dim4</span> <span class="cm-operator">=</span> <span class="cm-variable">begin</span>(<span class="cm-operator">*</span><span class="cm-variable">dim3</span>); <span class="cm-variable">dim4</span> <span class="cm-operator">!=</span> <span class="cm-variable">end</span>(<span class="cm-operator">*</span><span class="cm-variable">dim3</span>); <span class="cm-variable">dim4</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">*</span><span class="cm-variable">dim4</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 241px;"></div><div class="CodeMirror-gutters" style="display: none; height: 241px;"></div></div></div></pre><p><strong><span>使用范围</span><code>for</code><span>语句处理多维数组</span></strong></p><p><span>使用范围</span><code>for</code><span>语句可以实现上述代码相同的功能：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span>(<span class="cm-keyword">auto</span><span class="cm-operator">&amp;</span> <span class="cm-variable">dim1</span> :<span class="cm-variable">arr</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span>(<span class="cm-keyword">auto</span><span class="cm-operator">&amp;</span> <span class="cm-variable">dim2</span>: <span class="cm-variable">dim1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span>(<span class="cm-keyword">auto</span><span class="cm-operator">&amp;</span> <span class="cm-variable">dim3</span>:<span class="cm-variable">dim2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">dim4</span> : <span class="cm-variable">dim3</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">dim4</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 124px;"></div><div class="CodeMirror-gutters" style="display: none; height: 124px;"></div></div></div></pre><p><strong><span>要注意，即使没有读写操作，除了最内层的循环外，其他所有循环的控制变量都必须是引用类型。</span></strong><span>这是为了避免数组被自动转换为指针。</span></p><blockquote><p><span>假设不用引用类型，对于第一层循环</span><code>for(auto dim1 : arr)</code><span>，</span><code>arr</code><span>被转换为了</span><code>int(*arr)[4][3][4]</code><span>，此时对</span><code>arr</code><span>中的元素进行遍历，</span><code>dim1</code><span>的类型就会变为</span><code>int(*dim1)[3][4]</code><span>。</span></p></blockquote><h1><a name="span-id五运算符和表达式五运算符和表达式span" class="md-header-anchor"></a><span id="五、运算符和表达式"><span>五、运算符和表达式</span></span></h1><h2><a name="基础" class="md-header-anchor"></a><span>基础</span></h2><ul><li><span>表达式是由一个或多个运算对象组成。对表达式求值将得到一个结果。</span><strong><span>字面值和变量是最简单的表达式，其结果就是字面值和变量的值</span></strong><span>。</span><strong><span>把一个运算符和一个或多个运算对象组合起来可以生成较复杂的表达式</span></strong><span>。</span></li><li><span>C++定义了一元运算符和二元运算符。</span><strong><span>函数调用也是一种特殊的运算符，它对运算对象的数量没有限制</span></strong><span>。</span></li><li><span>对于含有多个运算符的复杂表达式来说，要想理解它的含义首先要理解运算符的</span><strong><span>优先级</span></strong><span>、</span><strong><span>结合律</span></strong><span>以及</span><strong><span>运算对象的求值顺序</span></strong><span>。</span></li><li><span>在表达式求值的过程中，运算对象常由一种类型转换为另一种类型。</span></li><li><strong><span>运算符重载</span></strong><span>：当运算符作用于类类型的运算对象时，用户可以自行定义其含义。因为这种自定义的过程事实上是为已存在的运算符赋予了另外一种含义，所以称之为</span><strong><span>重载运算符</span></strong><span>。例如：IO库的</span><code>&lt;&lt;</code><span>和</span><code>&gt;&gt;</code><span>运算符。</span><strong><span>运算对象的个数</span></strong><span>、</span><strong><span>运算符的优先级</span></strong><span>和</span><strong><span>结合律</span></strong><span>都是无法改变的。</span></li></ul><h3><a name="左值和右值" class="md-header-anchor"></a><span>左值和右值</span></h3><p><span>C++的表达式要不然就是左值，要不然就是右值。</span></p><blockquote><p><span>左值和右值这两个名词是从C语言中继承过来的。原本是为了帮助记忆：左值可以位于赋值语句的左侧，右值则不能。</span></p><p><span>在C++语言中，两者的区别就没有这么简单。</span><strong><span>一个左值表达式的求值结果是一个对象或者一个函数</span></strong><span>。然而某些左值（比如常量对象）实际上不能作为赋值语句的左侧运算对象。此外，某些表达式的求值结果是对象，但它们是右值而不是左值。</span></p></blockquote><p><span>简单地归纳：</span><strong><span>当一个对象被用作右值时，用的是对象的值（内容）；当对象被用作左值的时候，用的是对象的身份（在内存中的位置）</span></strong><span>。</span></p><p><strong><span>在需要使用右值的地方可以使用左值来代替；但是不能把右值当成左值（也就是位置）使用</span></strong><span>。</span></p><h3><a name="优先级和结合律" class="md-header-anchor"></a><span>优先级和结合律</span></h3><p><strong><span>复合表达式</span></strong><span>是指含有两个或多个运算符的表达式。求复合表达式的值首先要将运算符和运算对象合理地组合在一起。优先级与结合律决定了运算对象组合的方式。</span></p><p><span>一般来说，表达式最终的值依赖于子表达式的组合方式。</span><strong><span>高优先级运算符的运算对象要比低优先级运算符的运算对象更紧密地结合在一起</span></strong><span>。</span><strong><span>如果优先级相同，则组合规律由结合律确定</span></strong><span>。</span></p><p><strong><span>表达式中的括号无视上述规则</span></strong><span>。表达式中括号括起来的部分被当成一个单元来求值，然后再与其他部分一起按照优先级组合。</span></p><h3><a name="求值顺序" class="md-header-anchor"></a><span>求值顺序</span></h3><p><span>优先级规定了运算对象的组合方式，但是没有说明运算对象按照什么顺序求值。</span></p><blockquote><p><span>例如</span><code>int i = f1() + f2()</code><span>，</span><code>f1()</code><span>和</span><code>f2()</code><span>会在执行加法之前被调用，但是我们无法知道</span><code>f1</code><span>和</span><code>f2</code><span>哪个先被调用。</span></p><p><span>再如</span><code>int i = 1;   cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; ++i &lt;&lt; endl</code><span>，编译器可能先求出</span><code>++i</code><span>的值，在求出</span><code>i</code><span>的值，最后根据优先级从左到右输出</span><span>	</span><code>2 2</code><span>，也可能反过来，先求出</span><code>i</code><span>的值，再求出</span><code>++i</code><span>的值，输出</span><code>1 2</code><span>。</span></p></blockquote><p><span>有四种运算符明确规定了运算对象的求值顺序。</span></p><ul><li><span>逻辑与运算符</span><code>&amp;&amp;</code></li><li><span>逻辑或运算符</span><code>||</code></li><li><span>条件运算符</span><code>?:</code></li><li><span>逗号运算符</span><code>,</code></li></ul><p><span>运算对象的求值顺序与优先级和结合律无关。</span></p><blockquote><p><span>在一条形如</span><code>f() + g() * h() + j()</code><span>的表达式中：</span></p><ul><li><span>优先级规定，</span><code>g()</code><span>的返回值和</span><code>h()</code><span>的返回值相乘。</span></li><li><span>结合律规定，</span><code>f()</code><span>的返回值先与</span><code>g()</code><span>和</span><code>h()</code><span>的乘积相加，所得结果再与</span><code>j()</code><span>的返回值相加。</span></li><li><span>但是由于没有规定求值顺序，这些函数的调用顺序没有明确规定。</span></li></ul></blockquote><h2><a name="算数运算符" class="md-header-anchor"></a><span>算数运算符</span></h2><figure><table><thead><tr><th><span>运算符</span></th><th><span>功能</span></th><th><span>用法</span></th></tr></thead><tbody><tr><td><code>+</code></td><td><span>一元正号</span></td><td><code>+expr</code></td></tr><tr><td><code>-</code></td><td><span>一元负号</span></td><td><code>-expr</code></td></tr><tr><td><code>*</code></td><td><span>乘法</span></td><td><code>expr * expr</code></td></tr><tr><td><code>/</code></td><td><span>除法</span></td><td><code>expr / expr</code></td></tr><tr><td><code>%</code></td><td><span>求余</span></td><td><code>expr % expr</code></td></tr><tr><td><code>+</code></td><td><span>加法</span></td><td><code>expr + expr</code></td></tr><tr><td><code>-</code></td><td><span>减法</span></td><td><code>expr - expr</code></td></tr></tbody></table></figure><ul><li><strong><span>所有的算数运算符都满足左结合律。</span></strong></li><li><strong><span>算数运算符的运算对象和求值结果都是右值。</span></strong></li></ul><p><span>一元正号运算符、加法运算符和减法运算符都能作用于指针。</span></p><p><span>一元负号运算符对运算对象值取负后，返回其（提升后）的副本。</span></p><p><span>对值为</span><code>true</code><span>的布尔值使用一元负号运算符得到的结果仍然是</span><code>true</code><span>。</span></p><blockquote><p><span>在表达式中，布尔类型会被提升为整型。在</span><code>bool bl = true;  bool x = -bl;</code><span>中，</span><code>bl</code><span>会首先被提升为</span><code>1</code><span>，之后取负，得到</span><code>-1</code><span>，根据“非0为true”的原则，</span><code>x</code><span>仍然为</span><code>true</code><span>。</span></p></blockquote><p><span>参与取余运算的必须是整数类型。</span></p><p><strong><span>整型除法与求余运算</span></strong></p><ul><li><span>两个整型相除的结果还是整数。如果商含有小数部分，（不论商是正是负），小数部分直接切除。</span></li><li><span>根据取余运算的定义，表达式</span><code>(m/n)*n+m%n</code><span>的求值结果与</span><code>m</code><span>相同。即，如果</span><code>m%n</code><span>结果不为0，则它的符号和</span><code>m</code><span>相同。</span></li></ul><p><span>具体的说：</span></p><p><code>(-m)/n</code><span>和</span><code>m/(-n)</code><span>都等于</span><code>-(m/n)</code><span>；</span><code>(-m)/(-n)</code><span>等于</span><code>m/n</code><span>。</span></p><p><code>m%(-n)</code><span>等于</span><code>m%n</code><span>，</span><code>(-m)%n</code><span>等于</span><code>-(m%n)</code><span>。</span></p><h2><a name="逻辑和关系运算符" class="md-header-anchor"></a><span>逻辑和关系运算符</span></h2><figure><table><thead><tr><th><span>运算符</span></th><th><span>功能</span></th><th><span>说明</span></th></tr></thead><tbody><tr><td><code>!</code></td><td><span>逻辑非</span></td><td><span>将运算对象的（对应布尔）值取反后返回。即运算对象为真时返回假，运算对象为假时返回真</span></td></tr><tr><td><code>&lt;</code></td><td><span>小于</span></td><td><span>返回布尔值</span></td></tr><tr><td><code>&lt;=</code></td><td><span>小于等于</span></td><td><span>返回布尔值</span></td></tr><tr><td><code>&gt;</code></td><td><span>大于</span></td><td><span>返回布尔值</span></td></tr><tr><td><code>&gt;=</code></td><td><span>大于等于</span></td><td><span>返回布尔值</span></td></tr><tr><td><code>==</code></td><td><span>相等</span></td><td><span>返回布尔值</span></td></tr><tr><td><code>!=</code></td><td><span>不相等</span></td><td><span>返回布尔值</span></td></tr><tr><td><code>&amp;&amp;</code></td><td><span>逻辑与</span></td><td><span>当且仅当两个运算对象都为真时为真</span></td></tr><tr><td><code>||</code></td><td><span>逻辑或</span></td><td><span>只要两个运算对象中的一个为真时就为真</span></td></tr></tbody></table></figure><ul><li><strong><span>逻辑非运算符满足右结合律，其他的逻辑和关系运算符满足左结合律。</span></strong></li><li><strong><span>逻辑和关系运算符的运算对象和求值结果都是右值。</span></strong></li></ul><p><strong><span>短路求值</span></strong></p><p><span>逻辑与运算符和逻辑或运算符都是先求左侧运算对象的值再求右侧运算对象的值。当且仅当左侧运算对象无法确定表达式的结果时才会计算右侧运算对象的值。</span></p><p><strong><span>连用关系运算符</span></strong></p><p><span>如果想要比较多个运算对象的大小关系，应该分开并用逻辑运算符连接起来，而不能连用关系运算符。</span></p><blockquote><p><span>例如</span><code>if(i &lt; k &lt; j)</code><span>，关系运算符满足左结合律，因此会先计算</span><code>i &lt; k</code><span>的值，之后再和</span><span>	</span><code>j</code><span>比较，因为关系运算符返回布尔值，所以返回的值只可能是0或1。因此，上面的表达式等价于</span><code>bool temp = (i &lt; k); if(temp &lt; j)</code><span>。</span></p><p><span>应该写成</span><code>if(i &lt; k &amp;&amp; k &lt; j)</code><span>。</span></p></blockquote><p><strong><span>相等性测试和布尔字面值</span></strong></p><p><span>如果想测试一个算术对象或指针对象的真值，最好的方法是直接将其作为</span><code>if</code><span>语句的条件：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span>(<span class="cm-variable">val</span>) <span class="cm-comment">//....</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span>(<span class="cm-operator">!</span><span class="cm-variable">val</span>) <span class="cm-comment">//....</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><span>如果写为</span><code>if(val == true)</code><span>，一是这样的写法不简洁，二是如果</span><code>val</code><span>不是布尔值，则</span><code>true</code><span>会被提升为</span><code>1</code><span>，此时比较就失去了意义。</span></p><h2><a name="赋值运算符" class="md-header-anchor"></a><span>赋值运算符</span></h2><ul><li><strong><span>赋值运算符的左侧运算对象必须是一个可修改的左值。</span></strong></li><li><strong><span>赋值运算的结果就是它的左侧运算对象，并且是一个左值。相应的，结果的类型就是左侧运算对象的类型。</span></strong></li><li><strong><span>赋值运算满足右结合律。</span></strong></li></ul><p><strong><span>使用花括号括起来的初始值列表</span></strong></p><p><span>C++11新标准允许使用花括号括起来的初始值列表作为赋值语句的右侧运算对象。</span></p><ul><li><span>如果左侧运算对象是内置类型，那么初始值列表最多只有一个，并且该值即使转换的话其所占空间不应大于目标类型的空间（即不允许收缩转换）。</span></li><li><span>如果左侧运算对象是类类型，赋值运算的细节由类本身决定。</span></li></ul><p><span>初始值列表可以为空，此时，编译器创建一个值初始化的临时量并赋给左侧运算对象。</span></p><p><strong><span>多重赋值语句</span></strong></p><p><span>因为赋值运算符满足右结合律，所以可以使用多重赋值语句。</span></p><p><span>对于多重赋值语句中的每一个对象，它的类型或者与右边对象类型相同，或者可以由右边对象的类型转换得到。</span></p><p><strong><span>将赋值语句放在条件当中</span></strong></p><p><span>由于赋值运算符的结果是左侧的运算对象，所以可以将赋值语句放在条件中。</span></p><blockquote><p><span>例如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">i</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//反复调用直到得到指定的值。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span>((<span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-variable">getVal</span>()) <span class="cm-operator">!=</span> <span class="cm-number">42</span>){ <span class="cm-comment">/*...*/</span> }</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre></blockquote><h3><a name="复合赋值运算符" class="md-header-anchor"></a><span>复合赋值运算符</span></h3><p><span>复合赋值运算符包括：</span></p><figure><table><thead><tr><th><span>复合赋值运算符</span></th><th><span>复合赋值运算符</span></th><th><span>复合赋值运算符</span></th><th><span>复合赋值运算符</span></th><th><span>复合赋值运算符</span></th></tr></thead><tbody><tr><td><code>+=</code></td><td><code>-=</code></td><td><code>*=</code></td><td><code>/=</code></td><td><code>%=</code></td></tr><tr><td><code>&lt;&lt;=</code></td><td><code>&gt;&gt;=</code></td><td><code>&amp;=</code></td><td><code>^=</code></td><td><code>!=</code></td></tr></tbody></table></figure><p><span>第二行的运算符属于位运算符的复合赋值运算符。</span></p><p><span>任意一种复合运算符都完全等价于</span><code>a = a op b</code><span>。</span></p><h2><a name="递增递减运算符" class="md-header-anchor"></a><span>递增递减运算符</span></h2><p><span>递增运算符和递减运算符为对象的加1和减1操作提供了一种简洁的书写形式。并且这两个运算符还可以用于迭代器。</span></p><p><span>递增和递减运算符有两种形式：前置版本和后置版本。 </span></p><ul><li><span>前置版本形式的运算符首先将运算对象加一（或减一），然后将改变后的对象作为求值结果。</span></li><li><span>后置版本也会将运算对象加一（或减一），但是求值结果是运算对象改变之前那个值的副本。</span></li><li><strong><span>两种版本的运算符都必须作用于左值运算对象。</span></strong></li><li><strong><span>前置版本将对象本身作为左值返回，后置版本将对象原始值的副本作为右值返回。</span></strong></li></ul><p><strong><span>运算符可以按照任意顺序求值</span></strong></p><p><span>如果一条子表达式改变了某个运算对象的值，另一条子表达式又要使用该值的话，运算对象的求值顺序就很关键了，但是大多数运算符都没有规定运算对象的求值顺序。因为递增运算符和递减运算符会改变运算对象的值，所以要警惕在复合表达式中错用两个运算符。</span></p><blockquote><p><span>例如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span> (<span class="cm-variable">beg</span> <span class="cm-operator">!=</span> <span class="cm-variable">s</span>.<span class="cm-variable">end</span>() <span class="cm-operator">&amp;&amp;</span> <span class="cm-operator">!</span><span class="cm-variable">isspace</span>(<span class="cm-operator">*</span><span class="cm-variable">beg</span>))</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">*</span><span class="cm-variable">beg</span> <span class="cm-operator">=</span> <span class="cm-variable">toupper</span>(<span class="cm-operator">*</span><span class="cm-variable">beg</span><span class="cm-operator">++</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 60px;"></div><div class="CodeMirror-gutters" style="display: none; height: 60px;"></div></div></div></pre><p><span>将产生未定义的行为。</span></p></blockquote><h2><a name="成员访问运算符" class="md-header-anchor"></a><span>成员访问运算符</span></h2><p><strong><span>点运算符</span><code>.</code></strong><span>和</span><strong><span>箭头运算符</span><code>-&gt;</code></strong><span>都可用于访问成员。其中，</span><strong><span>点运算符用于获取类对象的一个成员，箭头运算符与点运算符有关，表达式</span><code>ptr-&gt;mem</code><span>等价于</span><code>(*ptr).mem</code><span>。</span></strong></p><ul><li><strong><span>箭头类型作用于一个指针类型的运算对象，结果是一个左值。</span></strong></li><li><strong><span>点运算符分为两种情况。如果成员所属的对象是左值，那么结果是左值，反之，如果成员所属的对象是右值，那么结果是右值。</span></strong></li></ul><blockquote><p><strong><span>成员所属的对象的左右值</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">struct</span> <span class="cm-def">A</span> {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">m</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">A</span>() { <span class="cm-variable">m</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">A</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">val</span>) { <span class="cm-variable">m</span> <span class="cm-operator">=</span> <span class="cm-variable">val</span>; }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">main</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">A</span> <span class="cm-variable">st1</span>(<span class="cm-number">3</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">auto</span> <span class="cm-variable">p</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">st1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">p</span><span class="cm-operator">-&gt;</span><span class="cm-variable">m</span> <span class="cm-operator">=</span> <span class="cm-number">34</span>; &nbsp; <span class="cm-comment">//返回左值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-comment">//A(x) 临时创建一个对象作为右值，当使用完毕后销毁。类似于 cout &lt;&lt; int(8) &lt;&lt; endl;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">A</span>(<span class="cm-number">8</span>).<span class="cm-variable">m</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>; <span class="cm-comment">//返回右值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">st1</span>.<span class="cm-variable">m</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//返回左值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">A</span>(<span class="cm-number">4</span>).<span class="cm-variable">m</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; &nbsp;<span class="cm-comment">//错误，左操作数必须是左值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 403px;"></div><div class="CodeMirror-gutters" style="display: none; height: 403px;"></div></div></div></pre><p><span>因为箭头类型作用于一个指针，指针指向的一定是一个左值，因此箭头运算符返回的一定是一个左值。</span></p><p><span>因为对右值使用点运算符是合法的，但是这个被调用的成员在对象被销毁时也一并被销毁，所以整个成员也是右值。 </span></p></blockquote><h2><a name="条件运算符" class="md-header-anchor"></a><span>条件运算符</span></h2><p><span>条件运算符</span><code>?:</code><span>允许把简单的</span><code>if-else</code><span>逻辑嵌入到单个表达式中。条件运算符按照如下形式使用：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cond</span> <span class="cm-operator">?</span> <span class="cm-variable">expr1</span> : <span class="cm-variable">exp2</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><span>其中</span><code>cond</code><span>是判断条件的表达式，</span><code>exp1</code><span>和</span><code>exp2</code><span>是两个类型相同的或可能转换为某个公共类型的表达式。</span></p><blockquote><p><code>exp1</code><span>和</span><code>exp2</code><span>必须是两个类型相同或可以被转换为一个公共类型的表达式：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> (<span class="cm-atom">true</span> <span class="cm-operator">?</span> <span class="cm-number">3</span> : <span class="cm-number">5</span>) <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; <span class="cm-comment">//正确，两个表达式类型相同。</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> (<span class="cm-atom">true</span> <span class="cm-operator">?</span> <span class="cm-number">4</span> : <span class="cm-string">"helloworld"</span>) <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>; <span class="cm-comment">//错误，没用从const char[]到int的转换。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> (<span class="cm-atom">true</span> <span class="cm-operator">?</span> <span class="cm-number">4</span> : <span class="cm-string">'d'</span>) <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//正确，char可以转换为int。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 159px;"></div><div class="CodeMirror-gutters" style="display: none; height: 159px;"></div></div></div></pre></blockquote><p><span>条件运算符的执行过程是：首先求</span><code>cond</code><span>的值，如果条件为真对</span><code>exp1</code><span>求值并返回该值，否则对</span><code>exp2</code><span>求值并返回类型。</span></p><ul><li><strong><span>当条件运算符的两个表达式都是左值或者能够转换成同一种左值类型时，运算的结果是左值，否则运算的结果是右值。</span></strong></li></ul><blockquote><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">ival1</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>, <span class="cm-variable">ival2</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">cival</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char</span> <span class="cm-variable">cval</span> <span class="cm-operator">=</span> <span class="cm-string">'4'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(<span class="cm-atom">true</span> <span class="cm-operator">?</span> <span class="cm-variable">ival1</span> : <span class="cm-variable">ival2</span>) <span class="cm-operator">=</span> <span class="cm-number">4</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; <span class="cm-comment">//ival1和ival2类型相同，返回左值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(<span class="cm-atom">true</span> <span class="cm-operator">?</span> <span class="cm-variable">ival1</span> : <span class="cm-variable">cval</span>) <span class="cm-operator">=</span> <span class="cm-number">4</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; <span class="cm-comment">//错误：ival1和cval类型不同并且不能转换</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[] <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">2</span> };</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int*</span> <span class="cm-variable">p</span> <span class="cm-operator">=</span> <span class="cm-variable">arr</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(<span class="cm-atom">true</span> <span class="cm-operator">?</span> <span class="cm-variable">arr</span> : <span class="cm-variable">p</span>)[<span class="cm-number">1</span>] <span class="cm-operator">=</span> <span class="cm-number">3</span>;<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//int* 和 int[2]发生转换</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-variable">str</span> <span class="cm-operator">=</span> <span class="cm-string">"123"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char</span> <span class="cm-variable">arr</span>[] <span class="cm-operator">=</span> <span class="cm-string">"nice to meet you."</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(<span class="cm-atom">true</span> <span class="cm-operator">?</span> <span class="cm-variable">str</span> : <span class="cm-variable">arr</span>) <span class="cm-operator">=</span> <span class="cm-string">"3"</span>;<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">//char[] 和 string 发生转换</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> (<span class="cm-atom">true</span> <span class="cm-operator">?</span> <span class="cm-string">"true"</span> : <span class="cm-string">"false"</span>) <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>; <span class="cm-comment">//都是右值，所以返回右值</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-variable">str</span> <span class="cm-operator">=</span> <span class="cm-string">"true"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(<span class="cm-atom">true</span> <span class="cm-operator">?</span> <span class="cm-variable">str</span> : <span class="cm-string">"false"</span>) <span class="cm-operator">=</span> <span class="cm-string">"1"</span>; <span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//错误：返回右值</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 518px;"></div><div class="CodeMirror-gutters" style="display: none; height: 518px;"></div></div></div></pre></blockquote><h2><a name="位运算符" class="md-header-anchor"></a><span>位运算符</span></h2><figure><table><thead><tr><th><span>运算符</span></th><th><span>功能</span></th><th><span>用法</span></th></tr></thead><tbody><tr><td><code>~</code></td><td><span>位求反</span></td><td><code>~expr</code></td></tr><tr><td><code>&lt;&lt;</code></td><td><span>左移</span></td><td><code>expr &lt;&lt; n</code></td></tr><tr><td><code>&gt;&gt;</code></td><td><span>右移</span></td><td><code>expr &gt;&gt; n</code></td></tr><tr><td><code>&amp;</code></td><td><span>位与</span></td><td><code>expr1 &amp; expr2</code></td></tr><tr><td><code>^</code></td><td><span>位异或</span></td><td><code>expr1 ^ expr2</code></td></tr><tr><td><code>|</code></td><td><span>位或</span></td><td><code>expr1 | expr2</code></td></tr></tbody></table></figure><ul><li><span>位运算符作用于整数类型的运算对象，并把运算对象看成是二进制位的集合。一般来说，如果运算对象是小整形，则它的值会被自动提升位较大的整数类型。</span></li><li><span>位运算符的运算对象可以是带符号的，也可以是无符号的。</span></li><li><strong><span>位运算符满足左结合律</span></strong><span>。</span></li></ul><p><strong><span>移位运算符</span></strong></p><p><span>移位运算符对其运算对象执行基于二进制位的移动操作。首先令左侧运算对象的内容按照右侧运算对象的要求移动指定位数，然后将经过移动的（提升后的）左侧运算对象的拷贝作为求值结果。</span></p><ul><li><strong><span>移位运算符的结果为右值</span></strong><span>。</span></li></ul><p><span>右侧对象一定不能为负，并且需要严格小于结果的位数，否则会产生未定义的行为。</span></p><p><span>移除边界之外的位被舍弃掉。左移运算符在右侧插入值为0的二进制位。右移运算符则依赖于左侧运算对象的类型：如果是无符号类型，则插入值为0的二进制位，如果是带符号类型，则插入符号位的副本或者值为0的二进制位。</span></p><blockquote><p><code>bitPrint()</code><span>函数按位输出。代码：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">127</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bitPrint</span>(<span class="cm-variable">x</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bitPrint</span>(<span class="cm-variable">x</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-number">29</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bitPrint</span>(<span class="cm-variable">x</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-number">4</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre><p><span>的输出结果为：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">0000 0000 0000 0000 0000 0000 0111 1111</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1110 0000 0000 0000 0000 0000 0000 0000</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">0000 0000 0000 0000 0000 0000 0000 0111</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 117px;"></div><div class="CodeMirror-gutters" style="display: none; height: 117px;"></div></div></div></pre></blockquote><p><strong><span>位求反运算符</span></strong></p><p><span>位求反运算符将运算对象逐位求反之后生成一个新值。</span></p><ul><li><strong><span>位求反运算符的结果为右值。</span></strong></li></ul><blockquote><p><span>代码：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">115</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bitPrint</span>(<span class="cm-variable">x</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bitPrint</span>(<span class="cm-variable">~x</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><p><span>的输出结果为：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">0000 0000 0000 0000 0000 0000 0111 0011</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1111 1111 1111 1111 1111 1111 1000 1100</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre></blockquote><p><strong><span>位与，位或，位异或运算符</span></strong></p><ul><li><strong><span>位与，位或，位异或运算符的结果为右值。</span></strong></li></ul><ol start='' ><li><span>对于位与运算符来说，如果两个运算对象的对应位置都是1，则运算结果中该位为1，否则为0。</span></li><li><span>对于位或运算符来说，如果两个运算对象的对应位置至少有一个是1，则运算结果中该位为1，否则为0。</span></li><li><span>对于位异或运算符来说，如果两个运算对象的对应位置有且只有一个为1，则运算结果中该位为1，否则为0。</span></li></ol><blockquote><p><span>代码：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">unsigned</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">123</span>, <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-number">32</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"x: &nbsp; &nbsp;  "</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">bitPrint</span>(<span class="cm-variable">x</span>); <span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"y: &nbsp; &nbsp;  "</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">bitPrint</span>(<span class="cm-variable">y</span>); <span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"x &amp; y : "</span>; <span class="cm-variable">bitPrint</span>(<span class="cm-variable">x</span> <span class="cm-operator">&amp;</span> <span class="cm-variable">y</span>); <span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"x | y : "</span>; <span class="cm-variable">bitPrint</span>(<span class="cm-variable">x</span> <span class="cm-operator">|</span> <span class="cm-variable">y</span>); <span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"x ^ y : "</span>; <span class="cm-variable">bitPrint</span>(<span class="cm-variable">x</span> <span class="cm-variable">^</span> <span class="cm-variable">y</span>); <span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 217px;"></div><div class="CodeMirror-gutters" style="display: none; height: 217px;"></div></div></div></pre><p><span>的输出结果是：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">x: &nbsp; &nbsp;  0000 0000 0000 0000 0000 0000 0111 1011</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">y: &nbsp; &nbsp;  0000 0000 0000 0000 0000 0000 0010 0000</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">x &amp; y : 0000 0000 0000 0000 0000 0000 0010 0000</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">x | y : 0000 0000 0000 0000 0000 0000 0111 1011</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">x ^ y : 0000 0000 0000 0000 0000 0000 0101 1011</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 195px;"></div><div class="CodeMirror-gutters" style="display: none; height: 195px;"></div></div></div></pre></blockquote><h2><a name="sizeof运算符" class="md-header-anchor"></a><code>sizeof</code><span>运算符</span></h2><p><code>sizeof</code><span>运算符返回一条表达式或者一个类型名字所占的字节数。</span></p><ul><li><strong><code>sizeof</code><span>运算符满足右结合律</span></strong><span>。</span></li><li><strong><code>sizeof</code><span>所得值的类型是一个</span><code>size_t</code><span>类型的常量表达式。</span></strong></li></ul><p><span>运算符的运算对象有两种形式：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">sizeof</span> (<span class="cm-variable">type</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">sizeof</span> <span class="cm-variable">expr</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><span>第二种形式中，</span><code>sizeof</code><span>运算符并不实际计算其运算对象的值，因此在</span><code>sizeof</code><span>的运算对现象中解引用一个无效指针仍然是安全的。</span></p><p><code>sizeof</code><span>运算符的结果部分地依赖于其作用的类型：</span></p><ul><li><span>对</span><code>char</code><span>或者类型为</span><code>char</code><span>的表达式执行</span><code>sizeof</code><span>运算，结果为1。</span></li><li><span>对引用类型执行</span><code>sizeof</code><span>运算得到被引用对象所占空间大小。</span></li><li><span>对指针执行</span><code>sizeof</code><span>运算得到指针本身所占空间大小。</span></li><li><span>对解引用指针执行</span><code>sizeof</code><span>运算得到指针指向的对象所占空间的大小。指针不需要有效。</span></li><li><span>对数组名执行</span><code>sizeof</code><span>运算得到整个数组所占空间的大小，等价于对数组中所有元素各执行一次</span><code>sizeof</code><span>运算并将所得结果求值。</span><code>sizeof</code><span>运算符不会把数组转换成指针来处理。</span></li><li><span>对</span><code>string</code><span>和</span><code>vector</code><span>对象执行</span><code>sizeof</code><span>运算只返回该类型固定部分的大小，不会计算对象中的元素占了多少空间。即，不论</span><code>string</code><span>和</span><code>vector</code><span>中存了多少内容，其结果都是相同的。 </span></li></ul><h2><a name="逗号运算符" class="md-header-anchor"></a><span>逗号运算符</span></h2><ul><li><strong><span>逗号运算符含有两个运算对象，逗号运算符规定了运算对象的求值顺序，即按照从左到右的顺序依次求值。</span></strong></li><li><strong><span>对于逗号运算符来说，首先对左侧的表达式求值，然后将求值结果丢弃掉。逗号运算符真正的结果是右侧表达式的值。如果右侧运算对象是左值，那么最终的求值结果也是左值。</span></strong></li></ul><p>&nbsp;</p><h1><a name="span-id六语句六语句span" class="md-header-anchor"></a><span id="六、语句"><span>六、语句</span></span></h1><h2><a name="基础-n1427" class="md-header-anchor"></a><span>基础</span></h2><h3><a name="表达式语句" class="md-header-anchor"></a><span>表达式语句</span></h3><p><span>一个表达式，例如</span><code>ival + 3</code><span>，末尾加上分号就变成了表达式语句。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ival</span> <span class="cm-operator">+</span> <span class="cm-number">3</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">ival</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ival</span> <span class="cm-operator">=</span> <span class="cm-variable">i</span> <span class="cm-operator">+</span> <span class="cm-variable">j</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><p><span>表达式语句的作用是执行表达式并丢弃掉求值结果。通常情况下，表达式语句中的表达式在求值时附带有其他效果，如给变量赋了新值或者输出了结果。</span></p><h3><a name="空语句" class="md-header-anchor"></a><span>空语句</span></h3><p><span>最简单的语句是空语句，空语句中只含有一个单独的分号。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">; <span class="cm-comment">//空语句</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><span>如果在程序的某个地方，语法上需要一条语句但是逻辑上不需要，此时应输入空语句。例如，读取数量不定的整数。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span>(<span class="cm-variable">cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">arr</span>[<span class="cm-operator">++</span><span class="cm-variable">ind</span>])</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  ; <span class="cm-comment">//空语句</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><h3><a name="复合语句块）" class="md-header-anchor"></a><span>复合语句（块）</span></h3><p><span>复合语句是指用花括号括起来的（可能为空的）语句和声明序列。</span><strong><span>复合语句也被称作块</span></strong><span>。</span></p><p><strong><span>一个块就是一个作用域</span></strong><span>。</span><strong><span>在块中引入的名字只能在块内部以及嵌套在块中的子块里访问</span></strong><span>。通常，名字在有限的区域内可见，该区域从名字定义处开始，到名字所在的（最内层）块的结尾为止。</span></p><p><span>如果在程序中的某个地方，语法上需要一条语句，但是逻辑上需要多条语句，则应该使用复合语句。</span></p><p><span>空快是指内部没有任何语句的一对花括号。空快的作用等价于空语句。</span></p><h3><a name="语句作用域" class="md-header-anchor"></a><strong><span>语句作用域</span></strong></h3><p><span>可以在</span><code>if</code><span>,</span><code>switch</code><span>,</span><code>while</code><span>,</span><code>for</code><span>语句的控制结构内定义变量。定义在控制结构当中的变量只在相应语句的内部可见。一旦语句结束，变量也就超出其作用范围。</span></p><p><span>如果其他代码需要访问控制变量，则变量必须定义在语句的外部。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-variable">get_num</span>()) <span class="cm-comment">//每次迭代时创建并初始化i</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">i</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-comment">//错误：在语句外部无法访问i</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">pos</span> <span class="cm-operator">=</span> <span class="cm-variable">v</span>.<span class="cm-variable">begin</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span>(<span class="cm-variable">pos</span> <span class="cm-operator">!=</span> <span class="cm-variable">v</span>.<span class="cm-variable">end</span>() <span class="cm-operator">&amp;&amp;</span> <span class="cm-operator">!</span><span class="cm-variable">pos</span> <span class="cm-operator">&gt;</span> <span class="cm-number">0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-operator">++</span><span class="cm-variable">pos</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span>(<span class="cm-variable">pos</span> <span class="cm-operator">==</span> <span class="cm-variable">v</span>.<span class="cm-variable">end</span>())</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"All positive."</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 195px;"></div><div class="CodeMirror-gutters" style="display: none; height: 195px;"></div></div></div></pre><h2><a name="条件语句" class="md-header-anchor"></a><span>条件语句</span></h2><h3><a name="if语句" class="md-header-anchor"></a><code>if</code><span>语句</span></h3><p><code>if</code><span>语句的作用是：判断一个指定的条件是否为真。根据判断结果决定是否执行另外的语句。</span></p><p><code>if</code><span>语句包含两种形式，一种是简单</span><code>if</code><span>语句：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">condition</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">statement</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 40px;"></div><div class="CodeMirror-gutters" style="display: none; height: 40px;"></div></div></div></pre><p><span>另一种是含有</span><code>else</code><span>分支的语句：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">condition</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">statement</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">statement2</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre><p><code>condition</code><span>可以是一个表达式，也可以是一个初始化了的变量声明（如</span><code>int val = 4</code><span>）。不管是表达式还是变量，其类型都必须能转换成布尔类型。</span></p><p><code>if</code><span>语句可以嵌套。</span></p><p><strong><span>悬垂</span><code>else</code></strong></p><p><span>当多个</span><code>if</code><span>语句相互嵌套时，很可能</span><code>if</code><span>分支会多于</span><code>else</code><span>分支。这时候会出现问题：如何确定某个给定的</span><code>else</code><span>是和哪个</span><code>if</code><span>匹配？这个问题被称作悬垂</span><code>else</code><span>。</span></p><p><span>就C++而言，它规定</span><code>else</code><span>与离它最近的尚未匹配的</span><code>if</code><span>匹配。从而消除了程序的二义性。</span></p><p><span>例如，下面两个代码实际上是等价的：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">grade</span> <span class="cm-operator">%</span> <span class="cm-number">10</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">3</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">grade</span> <span class="cm-operator">%</span> <span class="cm-number">10</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">7</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">letterGreade</span> <span class="cm-operator">+=</span> <span class="cm-string">'+'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">letterGreade</span> <span class="cm-operator">+=</span> <span class="cm-string">'-'</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 100px;"></div><div class="CodeMirror-gutters" style="display: none; height: 100px;"></div></div></div></pre><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">grade</span> <span class="cm-operator">%</span> <span class="cm-number">10</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">3</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-variable">grade</span> <span class="cm-operator">%</span> <span class="cm-number">10</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">7</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">letterGreade</span> <span class="cm-operator">+=</span> <span class="cm-string">'+'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">letterGreade</span> <span class="cm-operator">+=</span> <span class="cm-string">'-'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 122px;"></div><div class="CodeMirror-gutters" style="display: none; height: 122px;"></div></div></div></pre><p><strong><span>使用花括号</span></strong></p><p><span>使用</span><code>if</code><span>语句常见的一种错误是本来程序中有几条语句应该作为一个块来执行，但是忘记了使用花括号把这些语句包围，这使得从第二条语句开始的语句都会被无条件执行。</span></p><p><span>另外，为了避免出现悬垂</span><code>else</code><span>问题，需要使用花括号人为控制执行路径。</span></p><h3><a name="switch语句" class="md-header-anchor"></a><code>switch</code><span>语句</span></h3><p><code>switch</code><span>使得我们能够在若干固定选项中做出选择。</span></p><p><span>例如分别统计五个元音字母在文本中出现的次数：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++ "><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++ "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">unsigned</span> <span class="cm-variable">aCnt</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-variable">eCnt</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-variable">iCnt</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-variable">oCnt</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-variable">uCnt</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">unsigned</span> <span class="cm-variable">othersCnt</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char</span> <span class="cm-variable">cval</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span> (<span class="cm-variable">cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">cval</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">switch</span> (<span class="cm-variable">cval</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-string">'a'</span>:<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">++</span><span class="cm-variable">aCnt</span>; <span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-string">'e'</span>:<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">++</span><span class="cm-variable">eCnt</span>; <span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-string">'i'</span>:<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">++</span><span class="cm-variable">iCnt</span>; <span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-string">'o'</span>:<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">++</span><span class="cm-variable">oCnt</span>; <span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-string">'u'</span>:<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">++</span><span class="cm-variable">uCnt</span>; <span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">default</span>:<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">++</span><span class="cm-variable">othersCnt</span>; <span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 284px;"></div><div class="CodeMirror-gutters" style="display: none; height: 284px;"></div></div></div></pre><p><code>case</code><span>关键字和它对应的值一起被称为</span><code>case</code><span>标签。</span><strong><code>case</code><span>标签必须是整型常量表达式</span></strong><span>。任意两个</span><code>case</code><span>标签的值不能相同，否则会引发错误。</span></p><p><code>switch</code><span>语句首先对括号里面的表达式求值，该表达式紧跟在关键字</span><code>switch</code><span>的后面，可以是一个初始化的变量声明。</span><strong><span>表达式的值被转换成整数类型</span></strong><span>。然后与每个</span><code>case</code><span>标签的值比较。</span></p><ul><li><span>如果表达式和某个</span><code>case</code><span>标签的值匹配成功，</span><strong><span>程序从该标签之后的第一条语句开始执行，直到到达了</span><code>switch</code><span>语句的结尾或者是遇到一条</span><code>break</code><span>语句为止</span></strong><span>。</span></li><li><span>如果表达式和所有的</span><code>case</code><span>标签都没有匹配上，程序将执行紧跟在</span><strong><code>default</code><span>标签</span></strong><span>后面的语句。</span><code>default</code><span>语句不是必须的。如果没有</span><code>default</code><span>标签，将直接跳转到</span><code>switch</code><span>结构之后的第一条语句。</span></li></ul><p>&nbsp;</p><p><strong><code>switch</code><span>内部的控制流</span></strong></p><p><span>因此理解语句内部的控制流非常重要。</span></p><p><span>如果表达式和某个</span><code>case</code><span>标签的值匹配成功，程序从该标签之后的第一条语句开始执行，直到到达了</span><code>switch</code><span>语句的结尾或者是遇到一条</span><code>break</code><span>语句为止。要想避免执行后续</span><code>case</code><span>分支的代码，我们必须显式地告诉编译器终止执行过程。</span></p><p><span>有时我们希望</span><strong><span>多个值共享同一组操作</span></strong><span>，这时候我们就故意省略</span><code>break</code><span>语句，使得程序可以连续执行若干个标签。例如，统计文本中的元音字母个数：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">unsigned</span> <span class="cm-variable">vowelCnt</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-variable">othersCnt</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">char</span> <span class="cm-variable">cval</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span> (<span class="cm-variable">cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">cval</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">switch</span> (<span class="cm-variable">cval</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-string">'a'</span>:<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-keyword">case</span> <span class="cm-string">'e'</span>:<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-keyword">case</span> <span class="cm-string">'i'</span>:<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-keyword">case</span> <span class="cm-string">'o'</span>:<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-keyword">case</span> <span class="cm-string">'u'</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">++</span><span class="cm-variable">vowelCnt</span>; <span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">++</span><span class="cm-variable">othersCnt</span>; <span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 224px;"></div><div class="CodeMirror-gutters" style="display: none; height: 224px;"></div></div></div></pre><p>&nbsp;</p><p><strong><code>switch</code><span>内部的变量定义</span></strong></p><p><code>switch</code><span>语句的执行流程中有可能会跨过某些</span><code>case</code><span>标签。如果程序跳转到某个特定的</span><code>case</code><span>，则</span><code>switch</code><span>结构中该标签之前的部分会被忽略掉。这种忽略导致了一个问题：如果被略过的代码中含有变量的定义该怎么办？</span></p><p><span>答案是：</span><strong><span>如果在某处一个带有初值的变量位于作用域之外，在另一处该变量位于作用域之内，则从前一处跳转到后一处的行为是非法行为。</span></strong></p><blockquote><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">bool</span> <span class="cm-variable">bl</span> <span class="cm-operator">=</span> <span class="cm-atom">false</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">switch</span> (<span class="cm-variable">bl</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">case</span> <span class="cm-atom">true</span>:<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">case</span> <span class="cm-atom">false</span>:<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">val</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div><div class="CodeMirror-gutters" style="display: none; height: 120px;"></div></div></div></pre><p><span>假设上述代码合理，控制流会直接跳转到</span><code>false</code><span>分支，略过了</span><code>val</code><span>的初始化过程。此时</span><code>false</code><span>之后的代码试图在未初始化的情况下使用它们。这显然是错误的。</span></p></blockquote><p><span>因此在</span><code>switch</code><span>语句中，</span><strong><span>如果需要定义并初始化（或隐式初始化）一个变量，（无论在其他分支是否使用这个变量）都需要把变量定义在块内，从而确保后面所有的</span><code>case</code><span>标签都在变量的定义域之外</span></strong><span>。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">switch</span> (<span class="cm-atom">true</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">case</span> <span class="cm-atom">true</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">std::string</span> <span class="cm-variable">fileName</span>; <span class="cm-comment">//错误：跳过隐式初始化</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">jval</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; &nbsp; &nbsp;<span class="cm-comment">//错误：跳过显式初始化</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">ival</span>; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//正确：没有初始化</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">case</span> <span class="cm-atom">false</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">ival</span> <span class="cm-operator">=</span> <span class="cm-number">4</span>;<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span> <span class="cm-comment">//正确：给ival赋值而不是初始化</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">ival</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 282px;"></div><div class="CodeMirror-gutters" style="display: none; height: 282px;"></div></div></div></pre><p>&nbsp;</p><h2><a name="迭代语句" class="md-header-anchor"></a><span>迭代语句</span></h2><h3><a name="while语句" class="md-header-anchor"></a><code>while</code><span>语句</span></h3><p><code>while</code><span>语句的语法形式是：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span> (<span class="cm-variable">condition</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">statement</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><span>在</span><code>while</code><span>结构中，只要</span><code>condition</code><span>的求值结果为真就一直执行</span><code>statement</code><span>语句（块）。如果</span><code>condition</code><span>第一次求值就得到</span><code>false</code><span>，</span><code>statement</code><span>一次都不执行。</span></p><p><code>while</code><span>的条件部分可以是一个表达式或者是一个带初始化的变量声明。</span><strong><code>condition</code><span>语句不能为空</span></strong><span>。</span></p><p><span>通常来说，应该由条件本身或者是循环体改变表达式的值，否则循环可能无法终止。</span></p><p><span>定义在</span><code>while</code><span>条件部分或者循环体内的变量每次迭代都经历从创建到销毁的过程。</span></p><p><strong><span>当不确定需要迭代多少次；或者想要在循环结束之后访问控制变量时，使用</span><code>while</code><span>循环比较合适</span></strong><span>。</span></p><h3><a name="传统的for语句" class="md-header-anchor"></a><span>传统的</span><code>for</code><span>语句</span></h3><p><code>for</code><span>语句的语法形式是：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable">init</span><span class="cm-operator">-</span><span class="cm-variable">statement</span>; <span class="cm-variable">condition</span>; <span class="cm-variable">expression</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">statement</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 60px;"></div><div class="CodeMirror-gutters" style="display: none; height: 60px;"></div></div></div></pre><blockquote><p><span>通常情况下， </span><code>for</code><span>语句的语法形式也可以看作：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable">initializer</span>; <span class="cm-variable">condition</span>; <span class="cm-variable">expression</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">statement</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><ul><li><code>initializer</code><span>负责初始化一个值，这个值将随着循环的进行而改变。</span></li><li><code>condition</code><span>作为循环控制的条件，只要</span><code>condition</code><span>为真，就执行一次</span><code>statement</code><span>。如果</span><code>condition</code><span>第一次的求值结果就是</span><code>false</code><span>，则</span><code>statement</code><span>一次也不会执行。</span></li><li><code>expression</code><span>负责修改</span><code>initializer</code><span>初始化的变量，这个变量正好就是</span><code>condition</code><span>检查的对象，修改发生在每次循环迭代之后。</span></li></ul></blockquote><p><span>更一般的：</span></p><ol start='' ><li><span>循环开始时，首先执行一次</span><code>init-statement</code><span>。</span></li><li><span>判断</span><code>statement</code><span>。如果为真，执行循环体；如果为假，退出循环。</span></li><li><span>执行</span><code>expression</code><span>。</span></li></ol><p><span>这三步是</span><code>for</code><span>循环第一次迭代的过程。其中第一步只在开始时执行一次，第二、三步重复执行直到条件为假时终止。</span></p><ul><li><code>init-statement</code><span>必须是以下三种形式中的一种：声明语句、表达式语句、空语句。和其他的声明一样，</span><code>init-statement</code><span>也可以定义多个对象。但是</span><code>init-statement</code><span>只能 有一条声明语句，所以，所有的变量的基础类型都必须相同。如果无需初始化，可以使用一条空语句作为</span><code>init-statement</code><span>。</span></li><li><code>condition</code><span>可以省略，省略的效果等价于在条件部分写了一个</span><code>true</code><span>。</span></li><li><code>statement</code><span>可以是一条单独的语句也可以是一条复合语句。</span></li></ul><h3><a name="范围for语句" class="md-header-anchor"></a><span>范围</span><code>for</code><span>语句</span></h3><p><span>范围</span><code>for</code><span>语句的语法形式是：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable">declaration</span> : <span class="cm-variable">expression</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">statement</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><code>expression</code><span>表示的必须是一个序列，比如用花括号括起来的初始值列表、数组、</span><code>vector</code><span>和</span><code>string</code><span>类型的对象。</span><strong><span>这些类型的共同特点是拥有能返回迭代器的</span><code>begin()</code><span>和</span><code>end()</code><span>成员函数</span></strong><span>。</span></p><p><code>declaration</code><span>定义一个变量，序列中的每个元素都得能转换成该变量的类型。如果需要对序列中的元素执行写操作，循环变量必须声明成引用类型。</span></p><p><span>每次迭代都会重新定义循环控制变量，并将其初始化成序列的下一个值，之后才会执行</span><code>statement</code><span>。</span></p><blockquote><p><span>范围</span><code>for</code><span>语句的定义来源于与之等价的传统</span><code>for</code><span>语句：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span>(<span class="cm-keyword">auto</span> <span class="cm-variable">beg</span> <span class="cm-operator">=</span> <span class="cm-variable">v</span>.<span class="cm-variable">begin</span>(), <span class="cm-variable">end</span> <span class="cm-operator">=</span> <span class="cm-variable">v</span>.<span class="cm-variable">end</span>(); <span class="cm-variable">beg</span> <span class="cm-operator">!=</span> <span class="cm-variable">end</span>; <span class="cm-operator">++</span><span class="cm-variable">beg</span>){</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-operator">&amp;</span><span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-operator">*</span><span class="cm-variable">beg</span>; <span class="cm-comment">// auto i = *beg;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 97px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre></blockquote><h3><a name="do-while语句" class="md-header-anchor"></a><code>do-while</code><span>语句</span></h3><p><code>do-while</code><span>语句的语法形式为：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++ "><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++ "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">do</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">statement</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span> (<span class="cm-variable">condition</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 60px;"></div><div class="CodeMirror-gutters" style="display: none; height: 60px;"></div></div></div></pre><p><span>求</span><code>condition</code><span>的值之前首先执行一次</span><code>statement</code><span>，</span><strong><code>condition</code><span>不能为空，并且使用的变量必须定义在循环体之外</span></strong><span>。</span></p><h2><a name="跳转语句" class="md-header-anchor"></a><span>跳转语句</span></h2><p><span>C++语言提供了四种跳转语句：</span><code>break</code><span>,</span><code>ccontinue</code><span>,</span><code>goto</code><span>,</span><code>return</code><span>。</span></p><h3><a name="break语句" class="md-header-anchor"></a><code>break</code><span>语句</span></h3><p><code>break</code><span>语句负责终止离它最近的</span><code>while</code><span>,</span><code>do-while</code><span>,</span><code>for</code><span>或</span><code>switch</code><span>语句，并从这些语句之后的第一条语句开始执行。</span></p><p><code>break</code><span>语句只能出现在迭代语句或者</span><code>switch</code><span>语句内部。</span><code>break</code><span>语句的作用范围仅限于最近的循环或</span><code>switch</code><span>。</span></p><h3><a name="continue语句" class="md-header-anchor"></a><code>continue</code><span>语句</span></h3><p><code>continue</code><span>语句终止最近的循环中的当前迭代并立即开始下一次迭代。</span><code>continue</code><span>语句只能存在</span><code>for</code><span>,</span><code>while</code><span>,</span><code>do-while</code><span>循环的内部。只有当</span><code>switch</code><span>语句嵌套在迭代语句内部时，才能在</span><code>switch</code><span>里使用</span><code>continue</code><span>。</span></p><p><span>出现在嵌套循环中的</span><code>continue</code><span>语句仅作用于离它最近的循环。</span></p><h3><a name="goto语句" class="md-header-anchor"></a><code>goto</code><span>语句</span></h3><p><strong><code>goto</code><span>语句会使程序极难理解与修改，因此不能在程序中使用。</span></strong></p><p><code>goto</code><span>语句的语法形式时：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">goto</span> <span class="cm-variable">lable</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><span>其中，</span><code>lable</code><span>是用于标识一条语句的标示符。带标签语句是一种特殊的语句，在他之前有一个标示符以及一个冒号：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">lable : statement;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><blockquote><p><span>使用示例：输入一个小于100的整数：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">val</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">putin</span>: <span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"putin a number less than 100:"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">val</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">val</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">100</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"val is larger than 100.\n"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">goto</span> <span class="cm-variable">putin</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 178px;"></div><div class="CodeMirror-gutters" style="display: none; height: 178px;"></div></div></div></pre></blockquote><h2><a name="try语句块和异常处理" class="md-header-anchor"></a><code>try</code><span>语句块和异常处理</span></h2><p><span>异常是指存在于运行时的反常行为，这些行为超出了函数正常功能的范围。典型的一场包括遇到意外输入等。</span></p><p><span>当程序的某部分检测到一个它无法处理的问题时，需要用到异常处理。</span></p><h3><a name="throw表达式" class="md-header-anchor"></a><code>throw</code><span>表达式</span></h3><p><span>程序的异常检测部分使用</span><code>throw</code><span>表达式引发一个一场。</span></p><p><code>throw</code><span>表达式包含关键字</span><code>throw</code><span>和紧随后面的一个表达式，其中表达式的类型就是抛出的异常类型。</span></p><blockquote><p><span>例如要求用户输入一个0~100之间的整数：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">val</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"putin a number range from 0 to 100.\n"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">val</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">val</span> <span class="cm-operator">&gt;</span> <span class="cm-number">100</span> <span class="cm-operator">||</span> <span class="cm-variable">val</span> <span class="cm-operator">&lt;</span> <span class="cm-number">0</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">throw</span> <span class="cm-variable">runtime_error</span>(<span class="cm-string">"invalid putin."</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 157px;"></div><div class="CodeMirror-gutters" style="display: none; height: 157px;"></div></div></div></pre></blockquote><p><span>类型</span><code>runtime_error</code><span>是标准库异常类型的一种，定义在</span><code>stdexcept</code><span>头文件中。</span></p><p><span>我们必须初始化</span><code>runtime_error</code><span>的对象，方法是给他提供一个</span><code>string</code><span>对象或C风格的字符串。这个字符串是关于异常的辅助信息。</span></p><h3><a name="标准异常" class="md-header-anchor"></a><span>标准异常</span></h3><p><strong><span>异常类型定义了一个名为</span><code>what()</code><span>的成员函数，该函数没有任何参数，返回值是一个指向C风格字符串的</span><code>const char*</code><span>。该字符串的目的是提供关于异常的一些文本信息。</span></strong></p><blockquote><p><span>其他的标准库异常类型：</span></p><figure><table><thead><tr><th><span>异常类型</span></th><th><span>说明</span></th></tr></thead><tbody><tr><td><code>exception</code></td><td><span>常见的问题</span></td></tr><tr><td><code>runtime_error</code></td><td><span>只有在运行时才能检测到的问题</span></td></tr><tr><td><code>range_error</code></td><td><span>运行时错误：生成的结果超出了有意义的值域范围</span></td></tr><tr><td><code>overflow_error</code></td><td><span>运行时错误：计算上溢</span></td></tr><tr><td><code>underflow_error</code></td><td><span>运行时错误：计算下溢</span></td></tr><tr><td><code>logic_error</code></td><td><span>程序逻辑错误</span></td></tr><tr><td><code>domain_error</code></td><td><span>逻辑错误：参数对应的结果值不存在</span></td></tr><tr><td><code>invalid_arguement</code></td><td><span>逻辑错误：无效参数</span></td></tr><tr><td><code>lenth_error</code></td><td><span>逻辑错误：试图创建一个超出该类型最大长度的对象</span></td></tr><tr><td><code>out_of_range</code></td><td><span>逻辑错误：使用一个超出有效范围的值</span></td></tr></tbody></table></figure></blockquote><h3><a name="try语句块" class="md-header-anchor"></a><code>try</code><span>语句块</span></h3><p><code>try</code><span>语句的通用语法形式是：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">try</span>{</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">program</span><span class="cm-operator">-</span><span class="cm-variable">statements</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">} <span class="cm-keyword">catch</span>(<span class="cm-variable">exception</span><span class="cm-operator">-</span><span class="cm-variable">declaration</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">handler</span><span class="cm-operator">-</span><span class="cm-variable">statements</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">} <span class="cm-keyword">catch</span>(<span class="cm-variable">exception</span><span class="cm-operator">-</span><span class="cm-variable">declaration</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">handler</span><span class="cm-operator">-</span><span class="cm-variable">statements</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">} <span class="cm-keyword">catch</span>(<span class="cm-variable">exception</span><span class="cm-operator">-</span><span class="cm-variable">declaration</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">handler</span><span class="cm-operator">-</span><span class="cm-variable">statements</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">} <span class="cm-comment">//...</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 175px;"></div><div class="CodeMirror-gutters" style="display: none; height: 175px;"></div></div></div></pre><ul><li><span>首先程序执行</span><code>try</code><span>之后的块中的语句。这段代码可能会抛出一个异常。</span></li><li><span>如果抛出异常，从抛出异常开始的语句不再执行，程序会搜索所有的</span><code>catch</code><span>子句，如果找到合适的子句，将执行块中的语句。</span></li><li><span>如果最终没有找到匹配的</span><code>catch</code><span>语句，程序转到名为</span><code>terminate</code><span>的标准库函数。一般来说，执行该程序将导致程序非正常退出。</span></li></ul><blockquote><p><span>示例：引导用户输入一个整数，整数的值小于100。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span> (<span class="cm-operator">!</span><span class="cm-variable">isSucceeded</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">try</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"Putin a number less than 100.\n"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">val</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-variable">cin</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">throw</span> <span class="cm-variable">runtime_error</span>(<span class="cm-string">"Invalid Putin."</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-variable">val</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">100</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">throw</span> <span class="cm-variable">exception</span>(<span class="cm-string">"The number should be less than 100."</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">isSucceeded</span> <span class="cm-operator">=</span> <span class="cm-atom">true</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">catch</span> (<span class="cm-variable">runtime_error</span> <span class="cm-variable">err</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cin</span>.<span class="cm-variable">clear</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cin</span>.<span class="cm-variable">ignore</span>(<span class="cm-number">1024</span>, <span class="cm-string">'\n'</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">err</span>.<span class="cm-variable">what</span>() <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">catch</span> (<span class="cm-variable">exception</span> <span class="cm-variable">err</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">err</span>.<span class="cm-variable">what</span>() <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 552px;"></div><div class="CodeMirror-gutters" style="display: none; height: 552px;"></div></div></div></pre></blockquote><h1><a name="span-id七函数七函数span" class="md-header-anchor"></a><span id="七、函数"><span>七、函数</span></span></h1><h1><a name="函数" class="md-header-anchor"></a><span>函数</span></h1><h2><a name="函数基础" class="md-header-anchor"></a><span>函数基础</span></h2><h3><a name="函数声明" class="md-header-anchor"></a><span>函数声明</span></h3><p><strong><span>函数声明也称作函数原型</span></strong><span>。</span></p><p><span>和其他名字一样，</span><strong><span>函数的名字必须在使用前声明</span></strong><span>。函数只能定义一次，但可以声明多次。</span></p><p><span>函数声明和函数定义非常类似，唯一的区别是函数声明无需函数体，用一个分号代替即可。因为函数的声明不包含函数体，所以也就无须形参的名字。</span></p><p><strong><span>函数的三要素（返回类型、函数名、形参类型）</span></strong><span>描述了函数的接口，说明了调用该函数所需的全部信息。</span></p><p><span>函数应该在头文件中声明而在源文件中定义。</span></p><h3><a name="函数定义" class="md-header-anchor"></a><span>函数定义</span></h3><p><span>一个典型的函数定义包括以下部分：</span><strong><span>返回类型</span></strong><span>、</span><strong><span>函数名字</span></strong><span>、</span><strong><span>由0个或多个形参组成的列表</span></strong><span>和</span><strong><span>函数体</span></strong><span>。</span></p><p><span>形参以逗号分隔开，形参的列表位于一对圆括号之内。</span></p><p><span>函数执行的操作在语句块中说明，该语句块称为函数体。</span></p><h3><a name="函数调用与执行" class="md-header-anchor"></a><span>函数调用与执行</span></h3><p><span>我们通过调用运算符来执行函数。调用运算符的形式是一对圆括号，它作用于一个表达式，该表达式是函数或者指向函数的指针。圆括号之内是一个用逗号隔开的实参列表，我们用实参初始化函数的形参。调用表达式的类型就是函数的返回类型。</span></p><p><span>函数的调用完成两项工作：一是用实参初始化函数对应的的形参，二是将控制权交给被调用函数。这时，</span><strong><span>主调函数</span></strong><span>的执行被暂时中断，</span><strong><span>被调函数</span></strong><span>开始执行。</span></p><p><span>执行函数的第一步是（隐式地）定义并初始化它的形参。</span></p><p><span>当遇到一条</span><code>return</code><span>语句时函数结束执行过程。和函数调用一样，</span><code>return</code><span>语句也完成两项工作：一是返回</span><code>return</code><span>语句中的值，二是将控制权从被调函数转移到主调函数。函数的返回值用于初始化调用表达式地结果，之后继续完成调用所在的表达式的剩余部分。</span></p><h3><a name="形参与实参" class="md-header-anchor"></a><span>形参与实参</span></h3><p><strong><span>形参</span></strong></p><p><span>函数的形参列表可以为空，但是不能省略。要想定义一个不带形参的函数，最常用的方法是书写一个空的形参列表；也可以使用关键字</span><code>void</code><span>表示函数没有形参。</span></p><p><span>形参列表中的形参通常用逗号隔开，其中每个形参都是含有一个声明符的声明。即使两个形参的类型一样，也必须把两个类型都写出来。</span></p><p><span>任意两个形参不能重名，而且函数最外层作用域中的局部变量不能使用与函数形参一样的名字。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">f1</span>(){<span class="cm-comment">/*...*/</span>}<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//不带参数的函数</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">f2</span>(<span class="cm-variable-3">void</span>){<span class="cm-comment">/*...*/</span>}<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//不带参数的函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">f3</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">ival1</span>, <span class="cm-variable-3">int</span> <span class="cm-variable">ival2</span>){<span class="cm-comment">/*...*/</span>}<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//即使两个形参的类型一样，也必须把两个类型都写出来</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">f4</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">val</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>;<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//错误：函数最外层作用域中的局部变量不能使用与函数形参一样的名字</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">f5</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">val</span>, <span class="cm-variable-3">int</span> <span class="cm-variable">val</span>){<span class="cm-comment">/*...*/</span>}<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//错误：任意两个形参不能重名</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 242px;"></div><div class="CodeMirror-gutters" style="display: none; height: 242px;"></div></div></div></pre><p><strong><span>实参</span></strong></p><p><span>实参是形参的初始值。第一个实参初始化第一个形参，第二个实参初始化第二个形参，以此类推。</span><strong><span>尽管实参与形参存在对应关系，但是并没有规定实参的求值顺序</span></strong><span>。</span></p><p><span>实参的类型必须与对应的形参类型匹配（或者两种类型可以转换）。并且函数的调用规定实参数量应该与形参数量一致。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">f1</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">ival</span>, <span class="cm-variable-3">char</span> <span class="cm-variable">cval</span>); &nbsp;<span class="cm-comment">//函数声明</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//函数调用</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">f1</span>(<span class="cm-number">5</span>, <span class="cm-string">'a'</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">f1</span>(<span class="cm-variable">i</span>, <span class="cm-operator">++</span><span class="cm-variable">i</span>); <span class="cm-comment">//未定义行为：没有规定实参的求值顺序</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">f1</span>(<span class="cm-number">3</span>);<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//错误：实参数量少</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">f1</span>(<span class="cm-number">3</span>, <span class="cm-string">'a'</span>, <span class="cm-number">3</span>);<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//错误：实参数量多</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">f1</span>(<span class="cm-string">"HelloWorld"</span>, <span class="cm-string">'a'</span>)<span class="cm-variable">；</span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//错误：const char[] 和 int 不兼容</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">f1</span>(<span class="cm-string">'b'</span>, <span class="cm-string">'a'</span>);<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">//正确：char 转换为 int</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 220px;"></div><div class="CodeMirror-gutters" style="display: none; height: 220px;"></div></div></div></pre><h3><a name="函数的返回类型" class="md-header-anchor"></a><span>函数的返回类型</span></h3><p><span>大多数类型都可以用作函数的返回类型。</span><strong><span>一种特殊的返回类型是</span><code>void</code><span>，它表示函数不返回任何值</span></strong><span>。</span></p><p><strong><span>函数的返回类型不能是数组类型或函数类型，但可以是指向数组或函数的指针</span></strong><span>。</span></p><h3><a name="局部对象" class="md-header-anchor"></a><span>局部对象</span></h3><h4><a name="作用域与生命周期" class="md-header-anchor"></a><span>作用域与生命周期</span></h4><p><span>在C++语言中，</span><strong><span>名字有作用域，对象有生命周期</span></strong><span>。</span></p><ul><li><span>名字的作用域是程序文本的一部分，名字在其中可见。</span></li><li><span>对象的声明周期是程序执行过程中该对象存在的一段时间。</span></li></ul><h4><a name="局部变量" class="md-header-anchor"></a><span>局部变量</span></h4><p><span>函数体是一个语句块，块构成一个新的作用域。我们可以在其中定义变量。</span><strong><span>形参和函数体内部定义的变量统称为局部变量</span></strong><span>。它们对函数而言是局部的，仅在函数的作用域内可见，同时局部变量还会隐藏在外层作用域中同名的其他所有声明中。</span></p><p><span>在所有函数体之外定义的对象（全局变量）存在于程序的整个执行过程中。此类对象在程序启动时被创建，直到程序结束之后被销毁。而</span><strong><span>局部变量的生命周期依赖于定义的方式</span></strong><span>。</span></p><h4><a name="自动对象" class="md-header-anchor"></a><span>自动对象</span></h4><p><span>对于普通局部变量对应的对象来说，当函数的控制路径经过变量定义语句时创建该对象，当到达定义所在的块末尾时销毁它。</span><strong><span>我们把只存在于块执行期间的对象称为自动对象</span></strong><span>。当块的执行结束后，块中创建的自动对象的值就变成未定义的。</span></p><p><span>如果局部对象没有显式初始值，他将执行默认初始化。</span></p><h4><a name="局部静态对象static关键字）" class="md-header-anchor"></a><span>局部静态对象（</span><code>static</code><span>关键字）</span></h4><p><span>某些时候，有必要令局部变量的生命周期贯穿函数调用及之后的时间。</span><strong><span>可以将局部变量定义成</span><code>static</code><span>类型从而获得这样的对象</span></strong><span>。</span><strong><span>局部静态对象在程序的执行路径第一次经过对象定义语句时初始化，并且直到程序终止才被销毁，在此期间即使对象所在的函数执行结束也不会对它有影响。</span></strong></p><p><span>如果局部静态变量没有显式初始值，他将执行值初始化。</span></p><blockquote><p><span>局部静态对象示例：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;&amp;</span> <span class="cm-variable">func</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">val</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">static</span> <span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-variable">vec</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">vec</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">val</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-variable">vec</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">main</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;=</span> <span class="cm-number">10</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">auto</span> <span class="cm-variable">vec</span> <span class="cm-operator">=</span> <span class="cm-variable">func</span>(<span class="cm-variable">i</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">j</span> : <span class="cm-variable">vec</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">j</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 306px;"></div><div class="CodeMirror-gutters" style="display: none; height: 306px;"></div></div></div></pre><p><span>输出结果：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 11.9958px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1 2</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1 2 3</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1 2 3 4</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1 2 3 4 5</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1 2 3 4 5 6</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1 2 3 4 5 6 7</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1 2 3 4 5 6 7 8</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1 2 3 4 5 6 7 8 9</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1 2 3 4 5 6 7 8 9 10</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 195px;"></div><div class="CodeMirror-gutters" style="display: none; height: 195px;"></div></div></div></pre></blockquote><h2><a name="参数传递" class="md-header-anchor"></a><span>参数传递</span></h2><h3><a name="传值传递" class="md-header-anchor"></a><span>传值传递</span></h3><p><span>如果形参是非引用类型，实参的值会被拷贝后再赋给形参。当实参的值被拷贝给形参时，形参和实参是两个相互独立的对象。我们说这样的实参被</span><strong><span>值传递</span></strong><span>，或者函数被</span><strong><span>传值调用</span></strong><span>。</span></p><p><span>此时，对变量的改动不会影响初始值。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">change</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">val</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">val</span> <span class="cm-operator">+=</span> <span class="cm-number">5</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-number">5</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">change</span>(<span class="cm-variable">val</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">val</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>; <span class="cm-comment">//val == 5;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><p><strong><span>指针形参</span></strong></p><p><span>指针的行为和其他非引用类型一样。当执行指针拷贝操作时，拷贝的是指针的值。</span></p><p><span>拷贝之后两个指针是不同的指针，但它们指向同一片地址。因此，对形参指针本身的改变不会改变实参，但是可以通过形参指针修改实参所指对象的值。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">change</span>(<span class="cm-variable-3">int*</span> <span class="cm-variable">val</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>(<span class="cm-operator">*</span><span class="cm-variable">val</span>) <span class="cm-operator">+=</span> <span class="cm-number">5</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-keyword">nullptr</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-number">5</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">pval</span> <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">val</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">change</span>(<span class="cm-variable">pval</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">pval</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>; &nbsp;<span class="cm-comment">//pval不变</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">*</span><span class="cm-variable">pval</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>; <span class="cm-comment">//*val = 10;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 178px;"></div><div class="CodeMirror-gutters" style="display: none; height: 178px;"></div></div></div></pre><h3><a name="传引用参数" class="md-header-anchor"></a><span>传引用参数</span></h3><p><span>如果形参是引用类型，它将绑定到对应的实参上。此时我们说它对应的实参</span><strong><span>被引用传递</span></strong><span>或者函数</span><strong><span>被传引用调用</span></strong><span>。</span></p><p><span>对引用的操作实际上是作用在引用所引的对象上。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">change</span>(<span class="cm-variable-3">int</span><span class="cm-operator">&amp;</span> <span class="cm-variable">val</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">val</span> <span class="cm-operator">+=</span> <span class="cm-number">5</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">val</span> <span class="cm-operator">=</span> <span class="cm-number">5</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">change</span>(<span class="cm-variable">val</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">val</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>; <span class="cm-comment">//val == 10;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><p><strong><span>使用引用避免拷贝</span></strong></p><p><span>拷贝大的类类型或者容器对象比较低效，甚至有的类类型不支持拷贝操作。当某种类型不支持拷贝操作或者形参较大时，可以通过引用形参访问该对象。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">bool</span> <span class="cm-def">isShorter</span>(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str1</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str2</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> (<span class="cm-variable">str1</span>.<span class="cm-variable">size</span>() <span class="cm-operator">&lt;</span> <span class="cm-variable">str2</span>.<span class="cm-variable">size</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 79px;"></div><div class="CodeMirror-gutters" style="display: none; height: 79px;"></div></div></div></pre><h3><a name="const形参与实参" class="md-header-anchor"></a><code>const</code><span>形参与实参</span></h3><p><span>当形参是</span><code>const</code><span>时，必须要注意顶层</span><code>const</code><span>与底层</span><code>const</code><span>的讨论。</span></p><p><span>和其他初始化一样，当用实参初始化形参时会忽略掉顶层</span><code>const</code><span>。换句话说，当形参有顶层</span><code>const</code><span>时，传给他常量对象或者非常量对象都是可以的。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun</span>(<span class="cm-keyword">const</span> <span class="cm-variable-3">int</span> <span class="cm-variable">i</span>){}</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">i</span>){}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><span>虽然C++支持函数重载，但是由于顶层</span><code>const</code><span>被忽略掉了，所以传入两个函数的参数可以完全相同。因此第二个函数是重定义的。</span></p><p><strong><span>指针或引用参与</span><code>const</code></strong></p><p><span>形参的初始化方式和变量的初始化方式时一样的，回顾通用的初始化规则有助于理解指针或引用参与</span><code>const</code><span>的规则。</span></p><p><strong><span>尽量使用常量引用</span></strong></p><p><strong><span>把函数不会改变的形参定义成普通的引用是一种非常常见的错误</span></strong><span>。</span></p><p><span>使用引用而非常量引用会极大限制函数所能接受的类型。例如：我们不能把</span><code>const</code><span>对象、字面值或者需要类型转换的对象传递给普通的引用形参。</span></p><h3><a name="数组形参" class="md-header-anchor"></a><span>数组形参</span></h3><p><span>数组的两个特殊性质对定义和使用作用在数组上的函数有影响，这两个性质分别是：不允许拷贝数组以及使用数组时通常会将其转换为指针。</span></p><p><span>因为不能拷贝数组，所以我们无法以值传递的方式使用数组参数；因为数组会被转换为指针，所以当我们为函数传递一个数组时，实际上传递的时指向数组首元素的指针。</span></p><p><span>尽管不能以值传递的方式传递数组，但是我们可以把形参写成类似数组的形式：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">print</span>(<span class="cm-keyword">const</span> <span class="cm-variable-3">int*</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">print</span>(<span class="cm-keyword">const</span> <span class="cm-variable-3">int</span>[]);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">print</span>(<span class="cm-keyword">const</span> <span class="cm-variable-3">int</span>[<span class="cm-number">10</span>]); <span class="cm-comment">//这里的维度表示我们期望的数组含有元素的个数，实际上数组的大小并没有影响，也没有随之传递</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 97px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><p><span>上面的三个函数是等价的，每个函数的形参都是</span><code>const int *</code><span>类型。当编译器处理</span><code>print()</code><span>函数时，只检查传入的参数是不是</span><code>const int*</code><span>。如果传递给函数的是一个数组，则自动转换为指向数组首元素的指针，数组的大小对函数的调用没有影响，并且在函数中我们也不知道数组的确切尺寸。</span></p><h4><a name="管理数组长度" class="md-header-anchor"></a><span>管理数组长度</span></h4><p><strong><span>使用标记指定数组长度</span></strong></p><p><span>管理数组长度的第一个方法是要求数组本身包含一个结束标记。</span></p><p><span>使用这种方法的典型示例是C风格字符串。C风格字符串存储在字符数组中，并且在最后一个字符后面跟着一个空字符。函数在处理C风格字符串时遇到空字符结尾。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">print</span>(<span class="cm-keyword">const</span> <span class="cm-variable-3">char*</span> <span class="cm-variable">str</span>){</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">str</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">while</span> (<span class="cm-operator">*</span><span class="cm-variable">str</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">*</span>(<span class="cm-variable">str</span><span class="cm-operator">++</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 117px;"></div><div class="CodeMirror-gutters" style="display: none; height: 117px;"></div></div></div></pre><p><strong><span>使用标准库规范</span></strong></p><p><span>第二种技术是传递指向数组首元素和尾后元素的指针。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">print</span>(<span class="cm-keyword">const</span> <span class="cm-variable-3">int*</span> <span class="cm-variable">beg</span>, <span class="cm-keyword">const</span> <span class="cm-variable-3">int*</span> <span class="cm-variable">ed</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">size_t</span> <span class="cm-variable">size</span> <span class="cm-operator">=</span> <span class="cm-variable">ed</span> <span class="cm-operator">-</span> <span class="cm-variable">beg</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">while</span> (<span class="cm-variable">beg</span> <span class="cm-operator">!=</span> <span class="cm-variable">ed</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-operator">*</span>(<span class="cm-variable">beg</span><span class="cm-operator">++</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 142px;"></div><div class="CodeMirror-gutters" style="display: none; height: 142px;"></div></div></div></pre><p><strong><span>显式传递数组大小</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">print</span>(<span class="cm-keyword">const</span> <span class="cm-variable-3">unsigned</span> <span class="cm-variable">arr</span>[], <span class="cm-variable-3">size_t</span> <span class="cm-variable">size</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-variable-3">size_t</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">size</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">arr</span>[<span class="cm-variable">i</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 121px;"></div><div class="CodeMirror-gutters" style="display: none; height: 121px;"></div></div></div></pre><h4><a name="数组形参和const" class="md-header-anchor"></a><span>数组形参和</span><code>const</code></h4><p><span>C++语言允许将变量定义成数组的引用。基于同样的道理，形参也可以是数组的引用。此时，引用形参绑定到对应的实参上，也就是绑定到数组上：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">print</span>(<span class="cm-variable-3">int</span>(<span class="cm-operator">&amp;</span><span class="cm-variable">arr</span>)[<span class="cm-number">3</span>]) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">i</span> : <span class="cm-variable">arr</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">i</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 102px;"></div><div class="CodeMirror-gutters" style="display: none; height: 102px;"></div></div></div></pre><p><span>因为数组大小是构成数组类型的一部分，所以只要不超过维度，在函数体内就可以放心使用数组。但是这一用法限制了函数的可用性，在上面的代码里，我们只能使用长度为3的数组。</span></p><blockquote><p><strong><span>利用函数模板构造任意长度的引用</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">template</span><span class="cm-operator">&lt;</span><span class="cm-keyword">class</span> <span class="cm-def">Tid</span>, <span class="cm-variable-3">size_t</span> <span class="cm-variable">SIZE</span><span class="cm-operator">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">print</span>(<span class="cm-keyword">const</span> <span class="cm-variable">Tid</span>(<span class="cm-operator">&amp;</span><span class="cm-variable">arr</span>)[<span class="cm-variable">SIZE</span>]) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">i</span> : <span class="cm-variable">arr</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">i</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//...</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">4</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">print</span>(<span class="cm-variable">arr</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 202px;"></div><div class="CodeMirror-gutters" style="display: none; height: 202px;"></div></div></div></pre><p><span>多维数组类似。</span></p></blockquote><h4><a name="传递多维数组" class="md-header-anchor"></a><span>传递多维数组</span></h4><p><span>在C++语言中，实际上没有真正的多维数组。所谓多维数组其实是数组的数组。因此和数组一样，当将多维数组传递给函数时，真正传递的时指向数组首元素的指针。因为我们处理的是数组的数组，所以首元素本身就是一个数组，指针就是一个指向数组的指针。数组的第二维（以及后面所有的维度）的大小都是数组类型的一部分，不能省略。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">print</span>(<span class="cm-variable-3">int</span> (<span class="cm-operator">*</span><span class="cm-variable">arr</span>)[<span class="cm-number">4</span>], <span class="cm-variable-3">size_t</span> <span class="cm-variable">rowSize</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">rowSize</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">k</span> : <span class="cm-variable">arr</span>[<span class="cm-variable">i</span>]) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">k</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 184px;"></div><div class="CodeMirror-gutters" style="display: none; height: 184px;"></div></div></div></pre><blockquote><p><strong><span>利用函数模板创建第二维任意长度的多维数组做形参的函数</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">template</span><span class="cm-operator">&lt;</span><span class="cm-keyword">class</span> <span class="cm-def">Tid</span>, <span class="cm-variable-3">size_t</span> <span class="cm-variable">SIZE2</span><span class="cm-operator">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">print</span>(<span class="cm-variable">Tid</span>(<span class="cm-operator">*</span><span class="cm-variable">arr</span>)[<span class="cm-variable">SIZE2</span>], <span class="cm-variable-3">size_t</span> <span class="cm-variable">SIZE1</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-variable-3">size_t</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">SIZE1</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">k</span> : <span class="cm-variable">arr</span>[<span class="cm-variable">i</span>]) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">k</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//...</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">3</span>][<span class="cm-number">4</span>] <span class="cm-operator">=</span> {};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">print</span>(<span class="cm-variable">arr</span>, <span class="cm-number">3</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 284px;"></div><div class="CodeMirror-gutters" style="display: none; height: 284px;"></div></div></div></pre><p><strong><span>利用函数模板创建多维数组的引用</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++ "><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++ "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">template</span> <span class="cm-operator">&lt;</span><span class="cm-keyword">class</span> <span class="cm-def">Tid</span>, <span class="cm-variable-3">size_t</span> <span class="cm-variable">SIZE1</span>, <span class="cm-variable-3">size_t</span> <span class="cm-variable">SIZE2</span><span class="cm-operator">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">print</span>(<span class="cm-keyword">const</span> <span class="cm-variable">Tid</span>(<span class="cm-operator">&amp;</span><span class="cm-variable">arr</span>)[<span class="cm-variable">SIZE1</span>][<span class="cm-variable">SIZE2</span>]) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">const</span> <span class="cm-keyword">auto</span><span class="cm-operator">&amp;</span> <span class="cm-variable">i</span> : <span class="cm-variable">arr</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">auto</span> <span class="cm-variable">k</span> : <span class="cm-variable">i</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">k</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">" "</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//...</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">3</span>][<span class="cm-number">19</span>] <span class="cm-operator">=</span> {};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">print</span>(<span class="cm-variable">arr</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 284px;"></div><div class="CodeMirror-gutters" style="display: none; height: 284px;"></div></div></div></pre></blockquote><h3><a name="含有可变形参的函数" class="md-header-anchor"></a><span>含有可变形参的函数</span></h3><p><span>如果函数的</span><strong><span>实参数量未知但是全部是同一种类型</span></strong><span>的，我们可以使用</span><code>initializer_list</code><span>类型的实参。</span><code>initializer_list</code><span>是一种标准库类型，用于表示某种特定类型的值的数组。</span></p><p><strong><code>initializer_list</code><span>提供的操作</span></strong></p><figure><table><thead><tr><th><span>操作</span></th><th><span>操作说明</span></th></tr></thead><tbody><tr><td><code>initializer_list&lt;Tid&gt; lst</code></td><td><span>默认初始化</span></td></tr><tr><td><code>initializer_list&lt;Tid&gt; lst({a, b, c...})</code></td><td><span>列表初始化</span></td></tr><tr><td><code>lst2(lst1)</code><span>/</span><code>lst2 = lat1</code></td><td><span>使两个列表共享一组数据</span></td></tr><tr><td><code>lst.size()</code></td><td><span>返回列表中元素的数目</span></td></tr><tr><td><code>lst.begin()</code></td><td><span>返回指向列表第一个元素的指针</span></td></tr><tr><td><code>lst.end()</code></td><td><span>返回指向列表最后一个元素下一个位置的指针（尾后指针）</span></td></tr></tbody></table></figure><blockquote><p><span>编写接受任意数量的信息并输出的函数：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++ "><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++ "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">printMsg</span>(<span class="cm-variable">initializer_list</span><span class="cm-operator">&lt;</span><span class="cm-variable">string</span><span class="cm-operator">&gt;</span> <span class="cm-variable">Msg</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-keyword">const</span> <span class="cm-keyword">auto</span> <span class="cm-variable">i</span> : <span class="cm-variable">Msg</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">i</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//...</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">string</span> <span class="cm-variable">str1</span>, <span class="cm-variable">str2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">str1</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">str2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-variable">str1</span> <span class="cm-operator">==</span> <span class="cm-variable">str2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">printMsg</span>({<span class="cm-string">"OK"</span>});</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">printMsg</span>({ <span class="cm-variable">str1</span>, <span class="cm-variable">str2</span>, <span class="cm-string">"Different"</span> });</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 305px;"></div><div class="CodeMirror-gutters" style="display: none; height: 305px;"></div></div></div></pre></blockquote><h2><a name="返回类型和return语句" class="md-header-anchor"></a><span>返回类型和</span><code>return</code><span>语句</span></h2><h3><a name="return语句" class="md-header-anchor"></a><code>return</code><span>语句</span></h3><p><code>return</code><span>语句终止当前正在执行的函数并将控制权返回到调用该函数的地方。</span><code>return</code><span>语句有两种形式：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">return</span>;<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//没有返回值的return语句</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">return</span> <span class="cm-variable">expression</span>;<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">//有返回值的return语句</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 81px;"></div><div class="CodeMirror-gutters" style="display: none; height: 81px;"></div></div></div></pre><h3><a name="无返回值的函数" class="md-header-anchor"></a><span>无返回值的函数</span></h3><p><span>没有返回值的</span><code>return</code><span>	</span><span>语句只能用在返回类型是</span><code>void</code><span>的函数中。</span></p><p><span>返回</span><code>void</code><span>函数不要求必须有</span><code>return</code><span>语句，因为在这类函数的最后语句后面会隐式地执行</span><code>return</code><span>。通常情况下，</span><code>void</code><span>函数如果想在它的中间位置提前退出，可以使用</span><code>return</code><span>语句。</span></p><p><span>一个返回类型是</span><code>void</code><span>的函数也可以使用有返回值的</span><code>return</code><span>语句。只不过此时</span><code>return</code><span>语句的</span><code>exoression</code><span>必须是另一个返回</span><code>void</code><span>的函数。</span></p><h3><a name="有返回值的函数" class="md-header-anchor"></a><span>有返回值的函数</span></h3><p><span>只要函数的返回类型不是</span><code>void</code><span>，则该函数内的</span><strong><span>每条</span><code>return</code><span>语句都必须返回一个值，并且返回值的类型必须与函数的返回类型相同或者能够隐式地转换成函数的返回类型</span></strong><span>。</span></p><p><span>在含有循环、分支等语句的后面也应该有一条</span><code>return</code><span>语句。如果没有的话该程序可能会出现未定义错误。</span></p><blockquote><p><span>例如代码：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">fun1</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">a</span>, <span class="cm-variable-3">int</span> <span class="cm-variable">b</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-variable">a</span> <span class="cm-operator">&gt;</span> <span class="cm-variable">b</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-variable">a</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">b</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 122px;"></div><div class="CodeMirror-gutters" style="display: none; height: 122px;"></div></div></div></pre><p><span>如果两个数是相同的，程序执行到最后会出现没有</span><code>return</code><span>语句的情况，这时运行的行为是未定义的。</span></p><p><span>在编译时，VS会给出警告：warning C4715: : 不是所有的控件路径都返回值</span></p></blockquote><h4><a name="值是如何被返回的" class="md-header-anchor"></a><strong><span>值是如何被返回的</span></strong></h4><p><span>返回一个值的方式和初始化一个变量或形参的方式完全一样：</span><strong><span>返回的值用于初始化调用点的一个临时量，该临时量就是函数调用的结果</span></strong><span>。</span></p><p><span>必须注意当函数返回局部变量时的初始化规则：</span></p><p><span>如果返回的是普通（非引用和指针）类型，意味着</span><strong><span>返回值将被拷贝到调用点</span></strong><span>。</span></p><p><span>例如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-def">make_plural</span>(<span class="cm-variable-3">size_t</span> <span class="cm-variable">ctr</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span> <span class="cm-operator">&amp;</span> <span class="cm-variable">word</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span> <span class="cm-operator">&amp;</span> <span class="cm-variable">ending</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> (<span class="cm-variable">ctr</span> <span class="cm-operator">&gt;</span> <span class="cm-number">1</span>) <span class="cm-operator">?</span> <span class="cm-variable">word</span> <span class="cm-operator">+</span> <span class="cm-variable">ending</span> : <span class="cm-variable">word</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 99px;"></div><div class="CodeMirror-gutters" style="display: none; height: 99px;"></div></div></div></pre><p><span>该函数将返回</span><code>word</code><span>的副本或者是一个未命名的临时</span><code>string</code><span>对象，该对象的内容是</span><code>word</code><span>和</span><code>ending</code><span>的和，而不会返回</span><code>word</code><span>本身。</span></p><p><span>同其他引用类型一样，如果函数返回引用，则该引用仅是它所引对象的一个别名。</span></p><p><span>例如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">shorter</span>(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str1</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str2</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> (<span class="cm-variable">str1</span>.<span class="cm-variable">size</span>() <span class="cm-operator">&lt;</span> <span class="cm-variable">str2</span>.<span class="cm-variable">size</span>()) <span class="cm-operator">?</span> <span class="cm-variable">str1</span> : <span class="cm-variable">str2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 99px;"></div><div class="CodeMirror-gutters" style="display: none; height: 99px;"></div></div></div></pre><p><span>不管是调用函数还是返回结果都不会真正拷贝</span><code>string</code><span>对象。这个函数的实参和返回对象其实是同一个对象。</span></p><p><strong><span>不要返回局部对象的引用或指针</span></strong></p><p><span>函数完成之后，它所占用的存储空间也随之被释放掉。因此，</span><strong><span>函数终止意味着局部变量的引用和指针将指向不再有效的内存区域</span></strong><span>。</span></p><p><span>例如:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++ "><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++ "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">combine</span>(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str1</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str2</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">string</span> <span class="cm-variable">ret</span> <span class="cm-operator">=</span> <span class="cm-variable">str1</span> <span class="cm-operator">+</span> <span class="cm-variable">str2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-variable">ret</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 100px;"></div><div class="CodeMirror-gutters" style="display: none; height: 100px;"></div></div></div></pre><p><span>当函数结束之后，</span><code>ret</code><span>所在的空间已经被释放。编译该函数时，VS会给出警告：warning C4172: 返回局部变量或临时变量的地址</span></p><h4><a name="引用返回左值" class="md-header-anchor"></a><span>引用返回左值</span></h4><p><strong><span>函数的返回类型决定函数调用是否是左值。调用一个返回引用的函数得到左值，其他返回类型得到右值</span></strong><span>。可以像使用其他左值那样来使用返回引用的函数的调用，特别的，我们能为返回类型是非常量引用的函数的结果赋值。</span></p><h4><a name="列表初始化返回值" class="md-header-anchor"></a><span>列表初始化返回值</span></h4><p><span>C++11新标准规定，函数可以返回花括号包围的值的列表。类似于其他返回结果，</span><strong><span>此处的列表也用来对表示函数返回的临时量进行列表初始化</span></strong><span>。</span></p><p><span>如果列表为空，执行值初始化，否则，返回的值由函数的返回类型决定。</span></p><h4><a name="main函数的返回值" class="md-header-anchor"></a><code>main</code><span>函数的返回值</span></h4><p><span>允许</span><code>main</code><span>函数没有</span><code>return</code><span>语句直接结束，此时编译器隐式地插入一条返回0的</span><code>return</code><span>语句。</span></p><p><span>通常来说，返回0值说明执行成功，返回其他值说明执行失败。</span></p><p><span>在</span><code>cstlib</code><span>中定义了两个预处理变量</span><code>EXIT_SUCCESS</code><span>和</span><code>EXIT_FAILURE</code><span>，我们可以使用这两个变量分别表示成功与失败。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">main</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">val</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">val</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-variable">cin</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-variable">EXIT_FAILURE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">val</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-variable">EXIT_SUCCESS</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 164px;"></div><div class="CodeMirror-gutters" style="display: none; height: 164px;"></div></div></div></pre><h3><a name="返回数组指针" class="md-header-anchor"></a><span>返回数组指针</span></h3><p><strong><span>声明一个返回数组指针的函数</span></strong></p><p><span>类似于数组指针的声明，我们如果想定义一个返回数组指针的函数，则数组的维度必须跟在函数名字之后。然而函数的形参列表也跟在函数名字后面且形参列表应该先于数组的维度。因此返回数组指针的函数形式如下所示：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">type (*function(parameter_list))[dimension]</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><span>例如返回一个</span><code>int[10]</code><span>类型数组的指针：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> (<span class="cm-operator">*</span><span class="cm-def">function</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">x</span>))[<span class="cm-number">10</span>] {}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><strong><span>使用尾置返回类型</span></strong></p><p><span>在C++11新标准中有一种简化方法，就是使用</span><strong><span>尾置返回类型</span></strong><span>。</span></p><p><span>例如返回一个</span><code>int[10]</code><span>类型数组的指针：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">function</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">x</span>) <span class="cm-operator">-&gt;</span> <span class="cm-variable-3">int</span>(<span class="cm-operator">*</span>)[<span class="cm-number">10</span>] {}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><strong><span>使用类型别名</span></strong></p><p><span>返回一个</span><code>int[10]</code><span>类型数组的指针：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++ "><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++ "><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-variable-3">int</span> (<span class="cm-operator">*</span><span class="cm-variable">p_arr</span>)[<span class="cm-number">10</span>];</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">using</span> <span class="cm-variable">p_arrT</span> <span class="cm-operator">=</span> <span class="cm-variable-3">int</span>(<span class="cm-operator">*</span>)[<span class="cm-number">10</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">p_arrT</span> <span class="cm-def">function</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">x</span>) {}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">p_arr</span> <span class="cm-def">function2</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">x</span>) {}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 97px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><p><strong><span>使用</span><code>decltype</code></strong></p><p><span>返回一个</span><code>int[4]</code><span>类型数组的指针：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">arr</span>[<span class="cm-number">4</span>] <span class="cm-operator">=</span> { <span class="cm-number">1</span>, <span class="cm-number">3</span>, <span class="cm-number">4</span>, <span class="cm-number">5</span> };</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>(<span class="cm-variable">arr</span>)<span class="cm-operator">*</span> <span class="cm-def">function</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">a</span>) {}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>(<span class="cm-operator">&amp;</span><span class="cm-variable">arr</span>) <span class="cm-variable">function</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">a</span>) {}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><h2><a name="函数重载" class="md-header-anchor"></a><span>函数重载</span></h2><p><strong><span>如果同一作用域内的几个函数名字相同但是形参列表不同，我们称之为重载函数</span></strong><span>。这些函数的形参类型不一样，但是执行的操作非常相似。当调用这些函数时，编译器会根据传递的实参类型推断想要的是哪个函数。</span></p><p><strong><span>对于重载函数来说，他们应该在形参的数量上或者形参的类型上有所不同。不允许两个函数除了返回类型不同外其他所有要素都相同</span></strong><span>。</span></p><blockquote><p><span>例如，一种典型的数据库应用，需要创建几个不同的函数分别根据名字、电话、账户号码等信息查找记录。函数重载可以使得我们定义一组函数，这些函数的名字都是</span><code>lookup</code><span>。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Record</span> <span class="cm-def">lookup</span>(<span class="cm-keyword">const</span> <span class="cm-variable">Account</span><span class="cm-operator">&amp;</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Record</span> <span class="cm-def">lookup</span>(<span class="cm-keyword">const</span> <span class="cm-variable">Phone</span><span class="cm-operator">&amp;</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Record</span> <span class="cm-def">lookup</span>(<span class="cm-keyword">const</span> <span class="cm-variable">Name</span><span class="cm-operator">&amp;</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre></blockquote><h3><a name="判断两个形参的类型是否相异" class="md-header-anchor"></a><span>判断两个形参的类型是否相异</span></h3><p><strong><span>形参的名字</span></strong></p><p><span>形参的名字仅仅起到帮助记忆的作用，有没有他并不影响形参列表的内容。因此，下面三个函数完全等价:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">x</span>){}</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">y</span>){}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun</span>(<span class="cm-variable-3">int</span>){}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><p><strong><span>类型别名</span></strong></p><p><span>类型别名不是一种新的类型，而是已存在的类型的另一个名称。因此，下面两个函数完全等价：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">using</span> <span class="cm-variable">intPtr</span> <span class="cm-operator">=</span> <span class="cm-variable-3">int*</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun</span>(<span class="cm-variable-3">int*</span> <span class="cm-variable">p</span>) {}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun</span>(<span class="cm-variable">intPtr</span> <span class="cm-variable">p</span>) {}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 58px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></pre><p><strong><span>顶层</span><code>const</code></strong></p><p><span>顶层</span><code>const</code><span>不影响传入函数的对象。一个拥有顶层</span><code>const</code><span>的形参无法和另一个没有顶层</span><code>const</code><span>的形参区分开来。因此，下面两组函数完全等价：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun</span>(<span class="cm-variable-3">int*</span> <span class="cm-variable">p</span>){}</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun</span>(<span class="cm-variable-3">int*</span> <span class="cm-keyword">const</span> <span class="cm-variable">p</span>){}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun1</span>(<span class="cm-variable">string</span> <span class="cm-variable">str</span>){}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun1</span>(<span class="cm-keyword">const</span> <span class="cm-variable">string</span> <span class="cm-variable">str</span>){}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 97px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><p><strong><span>底层</span><code>const</code></strong></p><p><span>如果形参是某种类型的指针或引用，则</span><strong><span>通过区分其指向的是常量对象还是非常量对象可以实现函数重载</span></strong><span>。如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun1</span>(<span class="cm-variable-3">int*</span> <span class="cm-variable">p</span>){}</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun1</span>(<span class="cm-keyword">const</span> <span class="cm-variable-3">int*</span> <span class="cm-variable">pToC</span>){}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun2</span>(<span class="cm-variable-3">char</span><span class="cm-operator">&amp;</span> <span class="cm-variable">ch</span>){}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun2</span>(<span class="cm-keyword">const</span> <span class="cm-variable-3">char</span><span class="cm-operator">&amp;</span> <span class="cm-variable">cCh</span>){}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 97px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><h3><a name="constcast和重载" class="md-header-anchor"></a><code>const_cast</code><span>和重载</span></h3><p><code>const_cast</code><span>强制类型转换在重载函数的情景中最有用。</span></p><blockquote><p><span>如果预先有函数：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">shorterStr</span>(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str1</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str2</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> (<span class="cm-variable">str1</span>.<span class="cm-variable">size</span>() <span class="cm-operator">&lt;</span> <span class="cm-variable">str2</span>.<span class="cm-variable">size</span>()) <span class="cm-operator">?</span> <span class="cm-variable">str1</span> : <span class="cm-variable">str2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 118px;"></div><div class="CodeMirror-gutters" style="display: none; height: 118px;"></div></div></div></pre><p><span>现在我们想实现功能：如果传入两个（字面值）常量，则返回一个常量；而如果传入两个字符串变量，则返回较短的字符串的（非常量）引用，以便以后使用。</span></p><p><span>利用</span><code>const_cast</code><span>可以构造重载函数做到这一点：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">shorterStr</span>(<span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str1</span>, <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str2</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">auto</span><span class="cm-operator">&amp;</span> <span class="cm-variable">ret</span> <span class="cm-operator">=</span> <span class="cm-variable">shorterStr</span>(<span class="cm-keyword">const_cast</span><span class="cm-operator">&lt;</span><span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;&gt;</span> (<span class="cm-variable">str1</span>), <span class="cm-keyword">const_cast</span><span class="cm-operator">&lt;</span><span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;&gt;</span> (<span class="cm-variable">str2</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-keyword">const_cast</span><span class="cm-operator">&lt;</span><span class="cm-variable">string</span><span class="cm-operator">&amp;&gt;</span> (<span class="cm-variable">ret</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 178px;"></div><div class="CodeMirror-gutters" style="display: none; height: 178px;"></div></div></div></pre></blockquote><h3><a name="重载函数匹配" class="md-header-anchor"></a><span>重载函数匹配</span></h3><p><span>定义了一组重载函数之后，我们需要以合理的实参调用它们。</span><strong><span>函数匹配</span></strong><span>是指一个过程，在这个过程中我们把函数调用与一组重载函数中的某一个关联起来，函数匹配也叫</span><strong><span>重载匹配</span></strong><span>。编译器首先将调用的实参与重载集合中每一个函数的形参进行比较，然后根据比较的结果决定到底调用哪个函数。</span></p><p><span>当调用重载函数时有三种可能的结果：</span></p><ul><li><span>编译器找到一个与实参</span><strong><span>最佳匹配</span></strong><span>的函数，并生成调用该函数的代码。</span></li><li><span>找不到任何一个函数与调用的匹配，此时编译器发出</span><strong><span>无匹配</span></strong><span>的错误信息。</span></li><li><span>有多于一个函数可以匹配，但是每一个都不是明显的最佳选择。此时也将发生错误，称为</span><strong><span>二义性调用</span></strong><span>。</span></li></ul><h2><a name="特殊用途语言特性" class="md-header-anchor"></a><span>特殊用途语言特性</span></h2><h3><a name="默认实参" class="md-header-anchor"></a><span>默认实参</span></h3><p><span>某些函数有这样一种形参，在函数的很多次调用中它们都被赋予一个相同的值，此时，我们可以把这个反复出现的值称为函数的</span><strong><span>默认实参</span></strong><span>。调用含有默认实参的函数时，可以包含该实参，也可以省略。</span></p><p><span>例如，定义一个生成一个窗口的函数，一般情况下，我们希望该窗口的高、宽和背景字符是默认值，但我们也应该允许自定义窗口的信息。因此我们把它定义成这样的形式：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">screen</span>(<span class="cm-variable-3">size_t</span> <span class="cm-variable">ht</span> <span class="cm-operator">=</span> <span class="cm-number">24</span>, <span class="cm-variable-3">size_t</span> <span class="cm-variable">wid</span> <span class="cm-operator">=</span> <span class="cm-number">80</span>, <span class="cm-variable-3">char</span> <span class="cm-variable">backgrd</span> <span class="cm-operator">=</span> <span class="cm-string">' '</span>) {  }</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><strong><span>默认实参要在形参列表尾</span></strong></p><blockquote><p><span>一旦某个形参被赋予了默认值，它后面的所有形参都必须有默认值。也就是说，所有的默认实参都必须要在形参列表尾。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">screen</span>(<span class="cm-variable-3">size_t</span> <span class="cm-variable">ht</span>, <span class="cm-variable-3">size_t</span> <span class="cm-variable">wid</span>, <span class="cm-variable-3">char</span> <span class="cm-variable">backgrd</span> <span class="cm-operator">=</span> <span class="cm-string">' '</span>) {  }<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//正确</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">screen</span>(<span class="cm-variable-3">size_t</span> <span class="cm-variable">ht</span>, <span class="cm-variable-3">size_t</span> <span class="cm-variable">wid</span> <span class="cm-operator">=</span> <span class="cm-number">34</span>, <span class="cm-variable-3">char</span> <span class="cm-variable">backgrd</span> <span class="cm-operator">=</span> <span class="cm-string">' '</span>) {  }<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//正确</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">screen</span>(<span class="cm-variable-3">size_t</span> <span class="cm-variable">ht</span> <span class="cm-operator">=</span> <span class="cm-number">24</span>, <span class="cm-variable-3">size_t</span> <span class="cm-variable">wid</span>, <span class="cm-variable-3">char</span> <span class="cm-variable">backgrd</span> <span class="cm-operator">=</span> <span class="cm-string">' '</span>) {  }<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//错误</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 179px;"></div><div class="CodeMirror-gutters" style="display: none; height: 179px;"></div></div></div></pre></blockquote><p><strong><span>调用函数时实参按照其位置解析</span></strong></p><blockquote><p><span>实参只能按照形参列表的顺序依次填充。也就是说，当某一个默认实参被覆盖时，其前面的所有默认实参都被覆盖。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">screen</span>(<span class="cm-variable-3">size_t</span> <span class="cm-variable">ht</span> <span class="cm-operator">=</span> <span class="cm-number">24</span>, <span class="cm-variable-3">size_t</span> <span class="cm-variable">wid</span> <span class="cm-operator">=</span> <span class="cm-number">80</span>, <span class="cm-variable-3">char</span> <span class="cm-variable">backgrd</span> <span class="cm-operator">=</span> <span class="cm-string">' '</span>) {  }<span class="cm-tab" role="presentation" cm-text="	">   </span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">screen</span>(<span class="cm-number">24</span>, <span class="cm-number">100</span>, <span class="cm-string">'*'</span>);<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-comment">//正确</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">screen</span>(<span class="cm-number">12</span>, <span class="cm-number">100</span>);<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//正确</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">screen</span>(<span class="cm-number">12</span>);<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//正确</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">screen</span>();<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//正确</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">screen</span>(, <span class="cm-number">100</span>, <span class="cm-string">'*'</span>);<span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//错误</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">screen</span>(<span class="cm-string">'*'</span>);<span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//虽然合乎语法，但执行的内容是错误的，此时，编译器将*转换为ASCII码后赋给变量ht</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 243px;"></div><div class="CodeMirror-gutters" style="display: none; height: 243px;"></div></div></div></pre></blockquote><h3><a name="内联函数关键字inline）" class="md-header-anchor"></a><span>内联函数（关键字</span><code>inline</code><span>）</span></h3><p><span>在大多数机器上，一次函数调用包含着一系列工作：调用前要先保存寄存器，并在返回时回复；可能需要拷贝实参；程序转向一个新的位置继续执行。</span></p><p><span>对于</span><strong><span>规模较小，流程直接，频繁调用的函数</span></strong><span>，可以将函数指定为</span><strong><span>内联函数</span></strong><span>，即将它在每个调用点上“内联地”展开。指定为内联函数地方法是在函数的返回类型前面加上关键字</span><code>inline</code><span>。</span></p><p><span>内联说明只是向编译器发出的一个请求。对于无法内联或者过于复杂的函数，编译器可以忽略这个请求。</span></p><h3><a name="调试帮助" class="md-header-anchor"></a><span>调试帮助</span></h3><h4><a name="assert预处理宏" class="md-header-anchor"></a><strong><code>assert</code><span>预处理宏</span></strong></h4><p><code>assert</code><span>是一种预处理宏，他定义在头文件</span><code>cassert</code><span>中。它使用一个表达式作为它的条件：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">assert</span>(<span class="cm-variable">expr</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><span>首先对</span><code>expr</code><span>求值。如果表达式为假，</span><code>assert</code><span>输出信息并终止程序的执行。如果表达式为真，</span><code>assert</code><span>什么也不做。</span></p><p><code>assert</code><span>宏常用于检查“不能发生”的条件。例如，数组大小不能为非正值，此时可以包含如下的语句：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">assert(size &gt; 0);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><h4><a name="ndebug预处理变量" class="md-header-anchor"></a><strong><span>NDEBUG预处理变量</span></strong></h4><p><code>assert</code><span>的行为依赖于一个名为</span><code>NDEBUG</code><span>的预处理变量的状态。如果定义了</span><code>NDEBUG</code><span>，则</span><code>assert</code><span>什么也不做，否则将执行运行时的检查。</span></p><p><span>我们可以使用</span><code>#define</code><span>语句定义</span><code>NDEBUG</code><span>语句，从而关闭调试状态。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#define NDEBUG</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><strong><code>NDEBUG</code><span>需要在</span><code>#include&lt;cassert&gt;</code><span>之前定义</span></strong><span>。</span></p><h4><a name="编写调试代码" class="md-header-anchor"></a><strong><span>编写调试代码</span></strong></h4><p><strong><span>利用NDEBUG编写自己的调试代码</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#ifndef NDEBUG</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//2</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#endif</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 100px;"></div><div class="CodeMirror-gutters" style="display: none; height: 100px;"></div></div></div></pre><p><span>此时，如果定义了</span><code>NDEBUG</code><span>，程序执行1中的语句，否则执行2中的语句。</span></p><p><strong><span>预处理器定义了五个对于程序调试很有用的名字</span></strong></p><figure><table><thead><tr><th><span>名字</span></th><th><span>内容</span></th></tr></thead><tbody><tr><td><code>__FILE__</code></td><td><span>存放文件名的字符串字面值</span></td></tr><tr><td><code>__LINE__</code></td><td><span>存放当前行号的整型字面值</span></td></tr><tr><td><code>__TIME__</code></td><td><span>存放文件编译时间的字符串字面值</span></td></tr><tr><td><code>__DATE__</code></td><td><span>存放文件编译日期的字符串字面值</span></td></tr><tr><td><code>__func__</code></td><td><span>存放当前函数的函数名字面值</span></td></tr></tbody></table></figure><blockquote><p><span>例如：输出程序调试运行的信息：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">#include &lt;iostream&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">using</span> <span class="cm-keyword">namespace</span> <span class="cm-def">std</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">func</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">ind</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"Enter Function: "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">__func__</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">".\n"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">ind</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"Leave.\n"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">main</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"complier DATE: "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">__DATE__</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"complier TIME: "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">__TIME__</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;=</span> <span class="cm-number">3</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">func</span>(<span class="cm-variable">i</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"Get to line "</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">__LINE__</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 422px;"></div><div class="CodeMirror-gutters" style="display: none; height: 422px;"></div></div></div></pre></blockquote><h2><a name="函数匹配" class="md-header-anchor"></a><span>函数匹配</span></h2><p><span>函数匹配遵循以下步骤：</span></p><h3><a name="确定候选函数和可行函数" class="md-header-anchor"></a><span>确定候选函数和可行函数</span></h3><p><span>函数匹配的第一步是选定本次调用对应的重载函数集，</span><strong><span>集合中的函数称为候选函数</span></strong><span>。候选函数具备两个特征：</span></p><ul><li><span>与被调用函数同名</span></li><li><span>其声明在调用点可见</span></li></ul><p><span>第二步考察本次调用提供的实参，然后从候选函数中选出能被这组实参调用的函数，</span><strong><span>这些新选出的函数被称为可行函数</span></strong><span>。可行函数也具备两个特征:</span></p><ul><li><span>	</span><span>其形参数量与本次调用提供的实参数量相同（在有默认实参的情况下不少于没有提供默认参数的形参数量，但不多于所有形参的数量）</span></li><li><span>每个实参的类型与对应的形参类型相同，或者能转换为形参的类型</span></li></ul><h3><a name="寻找最佳匹配" class="md-header-anchor"></a><span>寻找最佳匹配</span></h3><p><span>当含有多个可行函数时，编译器将寻找最佳匹配。</span></p><blockquote><p><span>为了确定最佳匹配，编译器将实参类型到形成参类型的转换划分为几个等级，具体排序如下：</span></p><ol start='' ><li><p><strong><span>精确匹配</span></strong><span>，包括以下几种情况：</span></p><ul><li><span>实参类型和形参类型完全一致</span></li><li><span>实参从数组类型或函数类型转换为对应的指针类型</span></li><li><span>向实参添加顶层</span><code>const</code><span>或从实参中删除顶层</span><code>const</code><span>（例如从指针转换为常量指针）</span></li></ul></li><li><p><strong><span>通过</span><code>const</code><span>转换实现的实参</span></strong><span>（如指针转换为指向常量的指针）</span></p></li><li><p><strong><span>通过类型提升实现的匹配</span></strong><span>（如</span><code>char</code><span>转换为</span><code>int</code><span>）</span></p></li><li><p><strong><span>通过算术类型转换</span></strong><span>（如</span><code>int</code><span>转换为</span><code>double</code><span>）</span><strong><span>或指针转换</span></strong><span>（如指针转换为</span><code>const void*</code><span>）</span></p></li><li><p><strong><span>通过类类型转换实现的匹配</span></strong></p></li></ol></blockquote><p><span>在寻找最佳匹配时，编译器依次检查每个实参以确定哪个函数是最佳匹配。如果有且只有一个函数满足：</span></p><ul><li><span>该函数每个实参的匹配都不劣于其他可行函数需要的匹配</span></li><li><span>至少有一个实参的匹配优于其他可行函数提供的匹配</span></li></ul><p><span>则匹配成功。</span></p><p><span>如果在检查了所有实参之后没有一个函数脱颖而出，则调用是错误的。编译器将报告二义性调用的错误信息。</span></p><blockquote><p><strong><span>需要注意的是转换等级表中每个等级中的情况没有优劣之分。</span></strong></p><p><span>例如有如下两个函数：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun</span>(<span class="cm-variable-3">float</span> <span class="cm-variable">x</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">fun</span>(<span class="cm-variable-3">long</span> <span class="cm-variable-3">long</span> <span class="cm-variable">y</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><span>如果有</span><code>fun(3.23);</code><span>这样的语句，对于第一个函数，发生从</span><code>double</code><span>到</span><code>float</code><span>的算数类型转换，对于第二个函数，发生从</span><code>double</code><span>到</span><code>long long</code><span>的转换。因此虽然第一个函数很显然更匹配，但是它们属于算数类型转换，编译器依然会报告二义性调用的错误信息。</span></p></blockquote><h2><a name="函数指针" class="md-header-anchor"></a><span>函数指针</span></h2><p><span>函数指针指向的是函数而并非对象。和其他指针一样，函数指针指向某种特定类型。</span><strong><span>函数的类型由它的返回类型和形参类型共同决定，而与函数名无关</span></strong><span>。</span></p><blockquote><p><span>例如函数：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">bool</span> <span class="cm-def">lenthCompare</span>(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str1</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str2</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><span>的类型是</span><code>bool (const string&amp;, const string&amp;)</code><span>。</span></p></blockquote><p><span>要想声明一个可以指向函数的指针，只需要用指针替换函数名即可。</span></p><p><span>例如</span><strong><span>创建上面所示函数的指针</span></strong><span>：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">bool</span> (<span class="cm-operator">*</span><span class="cm-variable">fPtr1</span>) (<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>) <span class="cm-operator">=</span> <span class="cm-variable">lenthCompare</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">bool</span> (<span class="cm-operator">*</span><span class="cm-variable">fPtr2</span>) (<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>) <span class="cm-operator">=</span> <span class="cm-operator">&amp;</span><span class="cm-variable">lenthCompare</span>; <span class="cm-comment">//取地址符是可选的</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 97px;"></div><div class="CodeMirror-gutters" style="display: none; height: 97px;"></div></div></div></pre><blockquote><p><span>在这里</span><code>(*fPtr1)</code><span>里面的括号是必须的，否则是一个返回类型为</span><code>bool*</code><span>的函数。</span></p></blockquote><p><span>我们可以</span><strong><span>使用指向函数的指针调用该函数，而无需提前解引用指针</span></strong><span>：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> (<span class="cm-operator">*</span><span class="cm-variable">fPtr1</span>)(<span class="cm-variable">str1</span>, <span class="cm-variable">str2</span>) <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">bool</span> <span class="cm-variable">bl</span> <span class="cm-operator">=</span> <span class="cm-variable">fPtr1</span>(<span class="cm-variable">str2</span>, <span class="cm-variable">str1</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><p><strong><span>在指向不同函数类型的指针间不存在转换规则</span></strong><span>。但是我们可以</span><strong><span>为函数指针赋一个</span><code>nullptr</code><span>或</span><code>0</code><span>以表示该指针没有指向任何一个函数</span></strong><span>。</span></p><p><strong><span>重载函数的指针</span></strong></p><p><span>当我们使用重载函数时，上下文必须清晰界定到底该使用哪个函数。</span><strong><span>如果指向重载函数的指针，则指针类型必须与某一个重载函数精确匹配</span></strong><span>（精确匹配和转换等级表上相同）。</span></p><h3><a name="函数指针作函数参数" class="md-header-anchor"></a><span>函数指针作函数参数</span></h3><p><span>和数组类似，虽然不能定义函数类型的实参，但是形参可以是指向数组的指针。此时，形参看起来是函数类型，实际上是当成指针来用的。</span></p><p><span>在大多数情况下，</span><strong><span>函数指针和函数并并没有太大的区分</span></strong><span>。因此下面两条函数声明实际上是等价的：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-def">getLonger</span>(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str1</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str2</span>, <span class="cm-variable-3">bool</span> <span class="cm-def">fun</span>(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>));</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">string</span> <span class="cm-def">getLonger</span>(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str1</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str2</span>, <span class="cm-variable-3">bool</span> (<span class="cm-operator">*</span><span class="cm-variable">pFun</span>)(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>));</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 117px;"></div><div class="CodeMirror-gutters" style="display: none; height: 117px;"></div></div></div></pre><p><span>这也是让函数指针作为函数形参的方法。</span></p><p><span>同样的，我们可以将函数直接作为实参传递给函数。下面两条语句是等价的：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">bool</span> (<span class="cm-operator">*</span><span class="cm-variable">strCmp</span>)(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>) <span class="cm-operator">=</span> <span class="cm-variable">cmp</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//...</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">string</span> <span class="cm-variable">str1</span> <span class="cm-operator">=</span> <span class="cm-string">"123"</span>, <span class="cm-variable">str2</span> <span class="cm-operator">=</span> <span class="cm-string">"abcd"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">getLonger</span>(<span class="cm-variable">str1</span>, <span class="cm-variable">str2</span>, <span class="cm-variable">strCmp</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">getLonger</span>(<span class="cm-variable">str1</span>, <span class="cm-variable">str2</span>, <span class="cm-variable">cmp</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">getLonger</span>(<span class="cm-variable">str1</span>, <span class="cm-variable">str2</span>, <span class="cm-operator">&amp;</span><span class="cm-variable">cmp</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 181px;"></div><div class="CodeMirror-gutters" style="display: none; height: 181px;"></div></div></div></pre><h3><a name="返回指向函数的指针" class="md-header-anchor"></a><span>返回指向函数的指针</span></h3><p><span>和数组类似，我们可以返回一个函数指针。</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">bool</span> (<span class="cm-operator">*</span><span class="cm-def">getFun</span>(<span class="cm-variable">string</span> <span class="cm-variable">str</span>))(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//注意(*getFun(string str))中的*和()是必须的。</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="display: none; height: 78px;"></div></div></div></pre><p><span>简化起见，我们可以使用尾置返回类型的方式声明一个函数。</span></p><p><span>因此上面的声明也可以写成：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">getFun</span>(<span class="cm-variable">string</span> <span class="cm-variable">str</span>) <span class="cm-operator">-&gt;</span> <span class="cm-variable-3">bool</span>(<span class="cm-operator">*</span>)(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 39px;"></div><div class="CodeMirror-gutters" style="display: none; height: 39px;"></div></div></div></pre><h3><a name="利用类型别名简化函数类型" class="md-header-anchor"></a><span>利用类型别名简化函数类型</span></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-variable-3">bool</span>(<span class="cm-operator">*</span><span class="cm-variable">pFun</span>)(<span class="cm-variable-3">int</span>, <span class="cm-variable-3">int</span>); <span class="cm-comment">//函数指针</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">typedef</span> <span class="cm-variable-3">bool</span>(<span class="cm-variable">Fun</span>)(<span class="cm-variable-3">char</span>, <span class="cm-variable-3">char</span>); <span class="cm-comment">//函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">using</span> <span class="cm-variable">pCmp</span> <span class="cm-operator">=</span> <span class="cm-variable-3">bool</span>(<span class="cm-operator">*</span>)(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span>); <span class="cm-comment">//函数指针</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">using</span> <span class="cm-variable">cmpFun</span> <span class="cm-operator">=</span> <span class="cm-variable-3">bool</span>(<span class="cm-keyword">const</span> <span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-variable">vec1</span>); &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//函数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">bool</span> <span class="cm-def">fun1</span>(<span class="cm-variable-3">int</span>, <span class="cm-variable-3">int</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pFun</span> <span class="cm-variable">pFun1</span> <span class="cm-operator">=</span> <span class="cm-variable">fun1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Fun</span> <span class="cm-variable">fun2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">bool</span> <span class="cm-def">cmp</span>(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str1</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str2</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">pCmp</span> <span class="cm-variable">pFun2</span> <span class="cm-operator">=</span> <span class="cm-variable">cmp</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cmpFun</span> <span class="cm-variable">fun3</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 292px;"></div><div class="CodeMirror-gutters" style="display: none; height: 292px;"></div></div></div></pre><h3><a name="将auto和decltype用于函数" class="md-header-anchor"></a><span>将</span><code>auto</code><span>和</span><code>decltype</code><span>用于函数</span></h3><p><span>例如声明函数指针：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="C++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">bool</span> <span class="cm-def">cmp</span>(<span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str1</span>, <span class="cm-keyword">const</span> <span class="cm-variable">string</span><span class="cm-operator">&amp;</span> <span class="cm-variable">str2</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span>(<span class="cm-variable">str1</span>.<span class="cm-variable">size</span>() <span class="cm-operator">&gt;</span> <span class="cm-variable">str2</span>.<span class="cm-variable">size</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">pCmp</span> <span class="cm-operator">=</span> <span class="cm-variable">cmp</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">decltype</span>(<span class="cm-variable">cmp</span>)<span class="cm-operator">*</span> <span class="cm-variable">pfun</span> <span class="cm-operator">=</span> <span class="cm-variable">cmp</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre><p><span>需要注意的是，</span><strong><span>使用</span><code>auto</code><span>会将函数名自动转换为函数指针，而将</span><code>decltype</code><span>作用于某个函数时，他返回函数类型而不是指针类型。因此需要显式加上</span><code>*</code><span>以表明我们需要返回指针而不是函数本身</span></strong><span>。</span></p><p>&nbsp;</p><h1><a name="span-id八类八类span" class="md-header-anchor"></a><span id="八、类"><span>八、类</span></span></h1><p><span>C++允许把以类的形式自定义数据类型。库类型</span><code>string</code><span>,</span><code>istream</code><span>,</span><code>ostream</code><span>等也都是以类的形式定义的。</span></p><h2><a name="span-id类的定义和使用类的定义和使用span" class="md-header-anchor"></a><span id="类的定义和使用"><span>类的定义和使用</span></span></h2><p>&nbsp;</p><h2><a name="span-id编写自己的头文件编写自己的头文件span" class="md-header-anchor"></a><span id="编写自己的头文件"><span>编写自己的头文件</span></span></h2><p>&nbsp;</p><h1><a name="span-id九io九iospan" class="md-header-anchor"></a><span id="九、I/O"><span>九、I/O</span></span></h1><h1><a name="span-id相关内容相关内容span" class="md-header-anchor"></a><span id="相关内容"><span>相关内容</span></span></h1><h2><a name="span-id111计算机存储111-计算机存储span" class="md-header-anchor"></a><span id="11.1计算机存储"><span>11.1 计算机存储</span></span></h2><p><strong><span>存储单位</span></strong></p><p><span>计算机以</span><strong><span>比特</span><code>bite</code><span>序列</span></strong><span>（即01串）存储数据。计算机以2的整数次幂个比特作为</span><strong><span>块</span></strong><span>来处理内存。可寻址的最小内存块称为</span><strong><span>字节</span><code>`byte</code></strong><span>，存储的基本单位称为</span><strong><span>字</span><code>word</code></strong><span>，它通常由几个字节组成。</span></p><p><span>通常，一字节由8比特构成，字由32或64比特构成。</span></p><p><strong><span>地址</span></strong></p><p><span>计算机将内存中的每个字节与一个数字关联起来，这个数字就叫做</span><strong><span>地址</span></strong><code>address</code><span>。</span></p><p><span>我们可以使</span><strong><span>用某个地址来表示从这个地址开始的一定长度（取决于数据类型）的比特串</span></strong><span>。为了赋予内存中某个地址明确的含义，必须首先知道</span><strong><span>存储在该地址的数据的类型</span></strong><span>。</span><strong><span>类型决定了数据所占的比特数以及该如何解释这些比特的内容</span></strong><span>。</span></p><blockquote><p><span>比如，如果</span><code>int</code><span>类型的变量的地址是004FFB5C，那么计算机在读取该变量的时候或从该地址向后读取</span><code>sizeof(int) = 4</code><span>字节，即32位的比特串，并按照</span><code>int</code><span>型变量的方式解释这些比特的内容。</span></p></blockquote><h2><a name="span-id113c操作符替代名113-c操作符替代名span" class="md-header-anchor"></a><span id="11.3C++操作符替代名"><span>11.3 C++操作符替代名</span></span></h2><figure><table><thead><tr><th><span>操作符替代名</span></th><th><span>操作符替代名</span></th><th><span>操作符替代名</span></th><th><span>操作符替代名</span></th></tr></thead><tbody><tr><td><code>and</code></td><td><code>not_eq</code></td><td><code>and_eq</code></td><td><code>or</code></td></tr><tr><td><code>bitand</code></td><td><code>or_eq</code></td><td><code>bitor</code></td><td><code>xor</code></td></tr><tr><td><code>compl</code></td><td><code>xor_eq</code></td><td><code>not</code></td><td>&nbsp;</td></tr></tbody></table></figure><h2><a name="span-id114作用域114-作用域span" class="md-header-anchor"></a><span id="11.4作用域"><span>11.4 作用域</span></span></h2><p><span>不论是在程序的什么位置，使用到的每个名字都会指向一个特定的实体：变量、函数、类型等。同一个</span><strong><span>名字</span></strong><span>如果出现在程序的不同位置，也可能指向的是不同</span><strong><span>实体</span></strong><span>。</span></p><p><strong><span>作用域</span></strong><span>是程序的一部分，在其中的名字有其特定的含义。C++中绝大多数作用域都以花括号分隔。</span></p><p><strong><span>名字的有效区域</span></strong><span>始于名字的声明语句，以声明语句所在的作用域末端为结束。</span></p><p><code>main</code><span>函数，大多数定义在函数体之外的名字拥有</span><strong><span>全局作用域</span></strong><span>。一旦声明之后，全局作用域内的名字在整个程序的范围内都可以使用。</span></p><p><span>定义在函数体（花括号）之内的名字拥有</span><strong><span>块作用域</span></strong><span>。</span></p><p><strong><span>嵌套作用域</span></strong></p><p><span>作用域能彼此包含，被包含的作用域被称为</span><strong><span>内层作用域</span></strong><span>，包含着别的作用域称为</span><strong><span>外层作用域</span></strong><span>。</span></p><p><span>作用域一旦声明了某个名字，它所嵌套的所有作用域都能访问该名字。</span></p><p><span>允许在内层作用域中重新定义外层作用域已有的名字（覆盖外层作用域），如果需要访问外层作用域中名字表示的实体，需要使用</span><strong><span>作用域操作符</span></strong><span>（</span><code>类名或命名空间名::name</code><span>）。全局作用域本身没有名字，所以可以用</span><code>::x</code><span>表示全局作用域中的变量</span><code>x</code><span>。</span></p><h2><a name="span-id115预处理器115-预处理器span" class="md-header-anchor"></a><span id="11.5预处理器"><span>11.5 预处理器</span></span></h2><p>&nbsp;</p><h2><a name="span-id116命名空间116-命名空间span" class="md-header-anchor"></a><span id="11.6命名空间"><span>11.6 命名空间</span></span></h2><h3><a name="span-id命名空间的using声明命名空间的using声明span" class="md-header-anchor"></a><span id="命名空间的using声明"><span>命名空间的</span><code>using</code><span>声明</span></span></h3><p><span>库函数基本上都属于命名空间</span><code>std</code><span>。使用库函数时，</span><strong><span>可以使用作用域操作符</span><code>::</code><span>显式地标示出来</span></strong><span>，如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">main</span>(){</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span class="cm-variable">x</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">std::cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">x</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">std::cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">x</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">std::endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 102px;"></div><div class="CodeMirror-gutters" style="display: none; height: 102px;"></div></div></div></pre><p><span>还可以</span><strong><span>使用</span><code>using</code><span>声明</span></strong><span>更简单地使用库函数，每个用到的名字都需要独立的</span><code>using</code><span>声明。一般形式是：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">using namespace::name;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 19px;"></div><div class="CodeMirror-gutters" style="display: none; height: 19px;"></div></div></div></pre><p><span>如：</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c++"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 12.1008px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">main</span>(){</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">using</span> <span class="cm-variable">std::cin</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">using</span> <span class="cm-variable">std::cout</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">using</span> <span class="cm-variable">std::endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">x</span>, <span class="cm-variable">y</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">x</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">cin</span> <span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">y</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">x</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">y</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">endl</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 195px;"></div><div class="CodeMirror-gutters" style="display: none; height: 195px;"></div></div></div></pre><h2><a name="117-优先级" class="md-header-anchor"></a><span>11.7 优先级</span></h2><p>&nbsp;</p><h2><a name="118-初始化" class="md-header-anchor"></a><span>11.8 初始化</span></h2><p>&nbsp;</p><p><font face="Consola" size = 2 color=red><span> 注意：和《C++Primer》有出入！</span></font></p><p>&nbsp;</p></div>
</body>
</html>